(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bundle-pages-goods_collects-goods_collects"],{1641:function(t,e,o){var n=o("c025");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("02f4de74",n,!0,{sourceMap:!1,shadowMode:!1})},"1dbd":function(t,e,o){"use strict";o.r(e);var n=o("9dbd"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"210a":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{},[o("v-uni-movable-area",{staticClass:"u-swipe-action",style:{backgroundColor:t.bgColor}},[o("v-uni-movable-view",{staticClass:"u-swipe-view",style:{width:t.movableViewWidth?t.movableViewWidth:"100%"},attrs:{direction:"horizontal",disabled:t.disabled,x:t.moveX},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"u-swipe-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.contentClick.apply(void 0,arguments)}}},[t._t("default")],2),t._l(t.options,(function(e,n){return t.showBtn?o("v-uni-view",{key:n,staticClass:"u-swipe-del",style:[t.btnStyle(e.style)],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.btnClick(n)}}},[o("v-uni-view",{staticClass:"u-btn-text"},[t._v(t._s(e.text))])],1):t._e()}))],2)],1)],1)},a=[]},"2cab":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={mescrollUni:o("fc25").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mescroll-uni",{ref:"mescrollRef",attrs:{top:t.top,height:t.height,up:t.upOption,down:t.downOption,bottom:t.bottom},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[t._t("default")],2)},a=[]},6344:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={mescrollContain:o("b23d").default,uSwipeAction:o("8d93").default,goodsCard:o("307e").default,price:o("ea77").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"goods-collects",class:t.themeName},[o("mescroll-contain",{ref:"collect",attrs:{top:"20rpx","up-option":t.upOpt},on:{upcallback:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[o("v-uni-view",t._l(t.collectList,(function(e,n){return o("v-uni-view",{key:e.goods_id,staticClass:"collect"},[o("u-swipe-action",{key:e.goods_id,staticStyle:{width:"100%"},attrs:{show:e.show,index:n,options:t.swipeOptions},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swipeClick.apply(void 0,arguments)},open:function(e){arguments[0]=e=t.$handleEvent(e),t.swipeOpen.apply(void 0,arguments)}}},[o("goods-card",{attrs:{shape:"rectangle",name:e.name,image:e.image,"contain-style":{"border-raius":0,height:"200rpx"},"image-style":{width:"160rpx",height:"160rpx"}}},[o("v-uni-text",{staticClass:"muted xs"},[t._v(t._s(e.spec_value_str))]),o("v-uni-view",{staticClass:"m-t-10 flex row-between"},[o("price",{attrs:{content:e.min_price,mainSize:"32rpx",minorSize:"24rpx",color:t.themeColor}}),e.status?[o("v-uni-view",{staticClass:"collect-button collect-button--normal",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.goGoodsDetail(e.goods_id)}}},[t._v("去购买")])]:[o("v-uni-view",{staticClass:"collect-button collect-button--muted"},[t._v("已失效")])]],2)],1)],1)],1)})),1)],1)],1)},a=[]},7309:function(t,e,o){"use strict";o("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-swipe-action",props:{index:{type:[Number,String],default:""},btnWidth:{type:[String,Number],default:180},disabled:{type:Boolean,default:!1},show:{type:Boolean,default:!1},bgColor:{type:String,default:"#ffffff"},vibrateShort:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},watch:{show:{immediate:!0,handler:function(t,e){t?this.open():this.close()}}},data:function(){return{moveX:0,scrollX:0,status:!1,movableAreaWidth:0,elId:this.$u.guid(),showBtn:!1}},computed:{movableViewWidth:function(){return this.movableAreaWidth+this.allBtnWidth+"px"},innerBtnWidth:function(){return uni.upx2px(this.btnWidth)},allBtnWidth:function(){return uni.upx2px(this.btnWidth)*this.options.length},btnStyle:function(){var t=this;return function(e){return e.width=t.btnWidth+"rpx",e}}},mounted:function(){this.getActionRect()},methods:{btnClick:function(t){this.status=!1,this.$emit("click",this.index,t)},change:function(t){this.scrollX=t.detail.x},close:function(){this.moveX=0,this.status=!1},open:function(){this.disabled||(this.moveX=-this.allBtnWidth,this.status=!0)},touchend:function(){this.moveX=this.scrollX,this.$nextTick((function(){var t=this;0==this.status?this.scrollX<=-this.allBtnWidth/4?(this.moveX=-this.allBtnWidth,this.status=!0,this.emitOpenEvent(),this.vibrateShort&&uni.vibrateShort()):(this.moveX=0,this.status=!1,this.emitCloseEvent()):this.scrollX>3*-this.allBtnWidth/4?(this.moveX=0,this.$nextTick((function(){t.moveX=101})),this.status=!1,this.emitCloseEvent()):(this.moveX=-this.allBtnWidth,this.status=!0,this.emitOpenEvent())}))},emitOpenEvent:function(){this.$emit("open",this.index)},emitCloseEvent:function(){this.$emit("close",this.index)},touchstart:function(){},getActionRect:function(){var t=this;this.$uGetRect(".u-swipe-action").then((function(e){t.movableAreaWidth=e.width,t.$nextTick((function(){t.showBtn=!0}))}))},contentClick:function(){1==this.status&&(this.status="close",this.moveX=0),this.$emit("content-click",this.index)}}};e.default=n},"8d93":function(t,e,o){"use strict";o.r(e);var n=o("210a"),i=o("e552");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("fe6f");var s,l=o("f0c5"),c=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"3295b596",null,!1,n["a"],s);e["default"]=c.exports},"905b":function(t,e,o){"use strict";var n=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.apiBrandLists=e.apiGoodsTeamHistory=e.apiGoodsTeamPlace=e.apiGoodsTeamDetail=e.apiGoodsTeamList=e.apiGoodsCommentList=e.apiGoodsCommentCategory=e.apiGoodsCollectList=e.apiGoodsCollect=e.apiGoodsMarketing=e.apiGoodsCategory=e.apiSearchHistoryClear=e.apiSearchHistory=e.apiGoodsDetail=e.apiGoodsLists=void 0;var i=n(o("8164")),a=function(t){return i.default.get("goods/lists",{params:t})};e.apiGoodsLists=a;var s=function(t){return i.default.get("goods/detail",{params:t})};e.apiGoodsDetail=s;var l=function(){return i.default.get("goods/searchRecord")};e.apiSearchHistory=l;var c=function(){return i.default.post("goods/clearRecord")};e.apiSearchHistoryClear=c;var r=function(){return i.default.get("goodsCategory/lists")};e.apiGoodsCategory=r;var u=function(t){return i.default.get("goods/goodsMarketing",{params:t})};e.apiGoodsMarketing=u;var d=function(t){return i.default.post("collect/handleCollectgoods",t)};e.apiGoodsCollect=d;var f=function(t){return i.default.get("collect/lists",{params:t})};e.apiGoodsCollectList=f;var p=function(t){return i.default.get("goods_comment/commentCategory",{params:t})};e.apiGoodsCommentCategory=p;var h=function(t){return i.default.get("goods_comment/lists",{params:t})};e.apiGoodsCommentList=h;var v=function(t){return i.default.get("team/lists",{params:t})};e.apiGoodsTeamList=v;var m=function(t){return i.default.get("team/detail",{params:t})};e.apiGoodsTeamDetail=m;var b=function(t){return i.default.post("team/kaituan",t)};e.apiGoodsTeamPlace=b;var g=function(t){return i.default.get("team/record",{params:t})};e.apiGoodsTeamHistory=g;var w=function(t){return i.default.get("goods_brand/lists",{params:t})};e.apiBrandLists=w},"9cbe":function(t,e,o){"use strict";o.r(e);var n=o("6344"),i=o("f29f");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("b2a4");var s,l=o("f0c5"),c=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"f146a2f6",null,!1,n["a"],s);e["default"]=c.exports},"9dbd":function(t,e,o){"use strict";var n=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("4548")),a={name:"MescrollContain",mixins:[i.default],props:{height:{type:String},top:{type:String},bottom:{type:String},upOption:{type:Object,default:function(){return{}}},downOption:{type:Object,default:function(){return{}}}},methods:{downCallback:function(){this.mescroll&&this.mescroll.resetUpScroll()},upCallback:function(t){var e=t.num,o=t.size;this.$emit("upcallback",{num:e,size:o})},endErr:function(){this.mescroll.endErr()},endBySize:function(t,e){this.mescroll.endBySize(t,e)},endSuccess:function(t,e){this.mescroll.endBySize(t,e)}}};e.default=a},a4d73:function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/** S Font\'s size **/\n/** E Font\'s size **/[data-v-f146a2f6]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.collect[data-v-f146a2f6]{position:relative}.collect[data-v-f146a2f6]:nth-child(n+2)::after{position:absolute;top:0;right:0;display:block;content:"";width:calc(100% - %?160?% - %?20?% * 2);border-top:1px solid #e5e5e5}.collect-button[data-v-f146a2f6]{box-sizing:border-box;padding:%?8?% %?30?%;font-size:%?26?%;border-radius:60px}.collect-button--normal[data-v-f146a2f6]{border-width:1px;border-style:solid}.red_theme .collect-button--normal[data-v-f146a2f6]{color:#ff2c3c}.orange_theme .collect-button--normal[data-v-f146a2f6]{color:#f7971e}.pink_theme .collect-button--normal[data-v-f146a2f6]{color:#fa444d}.gold_theme .collect-button--normal[data-v-f146a2f6]{color:#e0a356}.blue_theme .collect-button--normal[data-v-f146a2f6]{color:#2f80ed}.green_theme .collect-button--normal[data-v-f146a2f6]{color:#2ec840}.red_theme .collect-button--normal[data-v-f146a2f6]{border-color:#ff2c3c}.orange_theme .collect-button--normal[data-v-f146a2f6]{border-color:#f7971e}.pink_theme .collect-button--normal[data-v-f146a2f6]{border-color:#fa444d}.gold_theme .collect-button--normal[data-v-f146a2f6]{border-color:#e0a356}.blue_theme .collect-button--normal[data-v-f146a2f6]{border-color:#2f80ed}.green_theme .collect-button--normal[data-v-f146a2f6]{border-color:#2ec840}.collect-button--muted[data-v-f146a2f6]{color:#666;background-color:#f2f2f2}',""]),t.exports=e},b23d:function(t,e,o){"use strict";o.r(e);var n=o("2cab"),i=o("1dbd");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);var s,l=o("f0c5"),c=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=c.exports},b2a4:function(t,e,o){"use strict";var n=o("bc05"),i=o.n(n);i.a},bc05:function(t,e,o){var n=o("a4d73");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("003187ce",n,!0,{sourceMap:!1,shadowMode:!1})},c025:function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,"@charset \"UTF-8\";\n/* 颜色变量 */\n/** S Font's size **/\n/** E Font's size **/[data-v-3295b596]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.u-swipe-action[data-v-3295b596]{width:auto;height:auto;position:relative;overflow:hidden}.u-swipe-view[data-v-3295b596]{display:flex;flex-direction:row;height:auto;position:relative\n  /* 这一句很关键，覆盖默认的绝对定位 */}.u-swipe-content[data-v-3295b596]{flex:1}.u-swipe-del[data-v-3295b596]{position:relative;font-size:%?30?%;color:#fff}.u-btn-text[data-v-3295b596]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.exports=e},e552:function(t,e,o){"use strict";o.r(e);var n=o("7309"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},e619:function(t,e,o){"use strict";var n=o("4ea4");o("99af"),o("4160"),o("d81d"),o("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("2909")),a=o("905b"),s=null,l={name:"GoodsCollects",data:function(){return{collectList:[],swipeOptions:[{text:"删除",style:{backgroundColor:"#FF2C3C"}}],upOpt:{noMoreSize:10,empty:{icon:"/static/images/empty/collect.png",tip:"暂无收藏~",fixed:!0}}}},mounted:function(){s=this.$refs["collect"]},methods:{upCallback:function(t){var e=this,o=t.num,n=t.size;(0,a.apiGoodsCollectList)({page_no:o,page_size:n}).then((function(t){var n=t.lists,a=(t.page_size,t.count);n.forEach((function(t){return t.show=!1})),1===o&&(e.collectList=[]),e.collectList=[].concat((0,i.default)(e.collectList),(0,i.default)(n)),s.endSuccess(n.length,a)})).catch((function(t){s.endBySize()}))},goGoodsDetail:function(t){this.$Router.push({path:"/pages/goods_detail/goods_detail",query:{id:t}})},swipeClick:function(t,e){if(0==e){var o=this.collectList[t];o.show=!1,this.handleCollectDel(o.goods_id)}},swipeOpen:function(t){var e=this;this.collectList[t].show=!0,this.collectList.map((function(o,n){t!=n&&(e.collectList[n].show=!1)}))},handleCollectDel:function(t){var e=this;(0,a.apiGoodsCollect)({goods_id:t,is_collect:0}).then((function(){e.$toast({title:"操作成功"}),s.downCallback()})).catch((function(t){console.log(t),e.$toast({title:"操作失败"})}))}}};e.default=l},f29f:function(t,e,o){"use strict";o.r(e);var n=o("e619"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},fe6f:function(t,e,o){"use strict";var n=o("1641"),i=o.n(n);i.a}}]);