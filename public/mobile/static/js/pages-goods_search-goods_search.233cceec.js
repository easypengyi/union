(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_search-goods_search"],{"0185":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"SortIcon",props:{status:{type:String,default:""},size:{type:[Number,String],default:28},color:{type:String,default:"#999999"},activeColor:{type:String,default:"#101010"}}};t.default=n},"0703":function(e,t,a){var n=a("aa6c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("431a3222",n,!0,{sourceMap:!1,shadowMode:!1})},"0812":function(e,t,a){"use strict";var n=a("19c9"),i=a.n(n);i.a},"0df6":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"@charset \"UTF-8\";\n/* 颜色变量 */\n/** S Font's size **/\n/** E Font's size **/[data-v-6dade8d3]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.u-sticky[data-v-6dade8d3]{z-index:9999999999}",""]),e.exports=t},1271:function(e,t,a){"use strict";a.r(t);var n=a("bfd5"),i=a("9200");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("9be4");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"bf7076f2",null,!1,n["a"],r);t["default"]=c.exports},1521:function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"u-sticky",props:{offsetTop:{type:[Number,String],default:0},index:{type:[Number,String],default:""},enable:{type:Boolean,default:!0},h5NavHeight:{type:[Number,String],default:44},bgColor:{type:String,default:"#ffffff"},zIndex:{type:[Number,String],default:""}},data:function(){return{fixed:!1,height:"auto",stickyTop:0,elClass:this.$u.guid(),left:0,width:"auto"}},watch:{offsetTop:function(e){this.initObserver()},enable:function(e){0==e?(this.fixed=!1,this.disconnectObserver("contentObserver")):this.initObserver()}},computed:{uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.sticky}},mounted:function(){this.initObserver()},methods:{initObserver:function(){var e=this;this.enable&&(this.stickyTop=0!=this.offsetTop?uni.upx2px(this.offsetTop)+this.h5NavHeight:this.h5NavHeight,this.disconnectObserver("contentObserver"),this.$uGetRect("."+this.elClass).then((function(t){e.height=t.height,e.left=t.left,e.width=t.width,e.$nextTick((function(){e.observeContent()}))})))},observeContent:function(){var e=this;this.disconnectObserver("contentObserver");var t=this.createIntersectionObserver({thresholds:[.95,.98,1]});t.relativeToViewport({top:-this.stickyTop}),t.observe("."+this.elClass,(function(t){e.enable&&e.setFixed(t.boundingClientRect.top)})),this.contentObserver=t},setFixed:function(e){var t=e<this.stickyTop;t?this.$emit("fixed",this.index):this.fixed&&this.$emit("unfixed",this.index),this.fixed=t},disconnectObserver:function(e){var t=this[e];t&&t.disconnect()}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};t.default=n},"164e":function(e,t,a){"use strict";a.r(t);var n=a("1521"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"19c9":function(e,t,a){var n=a("337a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("fe3c1c0c",n,!0,{sourceMap:!1,shadowMode:!1})},"1d87":function(e,t,a){var n=a("0df6");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("36512cc4",n,!0,{sourceMap:!1,shadowMode:!1})},2035:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/** S Font\'s size **/\n/** E Font\'s size **/[data-v-6bf5d15b]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.search-container[data-v-6bf5d15b]{display:flex;flex-direction:column}.search-input[data-v-6bf5d15b]{display:flex;align-items:center;height:%?100?%;padding:0 %?20?%;background-color:#fff}.search-input .search-action[data-v-6bf5d15b]{width:%?100?%;text-align:center}.search-options-container[data-v-6bf5d15b]{box-sizing:border-box;height:100vh;padding:0 %?20?%;background-color:#fff}.search-options-container .search-options-header[data-v-6bf5d15b]{display:flex;justify-content:space-between;padding:%?30?% 0 %?24?% 0;font-size:%?28?%}.search-options-container .search-options-main[data-v-6bf5d15b]{display:flex;flex-wrap:wrap}.search-options-container .search-options-item[data-v-6bf5d15b]{padding:%?8?% %?24?%;margin:0 %?16?% %?24?% 0;border-radius:60px;background-color:#f4f4f4}.sort[data-v-6bf5d15b]{display:flex;align-items:center;height:%?80?%;font-size:%?28?%;background-color:#fff}.sort-item[data-v-6bf5d15b]{flex:1;display:flex;justify-content:center;align-items:center}.red_theme .sort-item--active[data-v-6bf5d15b]{color:#ff2c3c}.orange_theme .sort-item--active[data-v-6bf5d15b]{color:#f7971e}.pink_theme .sort-item--active[data-v-6bf5d15b]{color:#fa444d}.gold_theme .sort-item--active[data-v-6bf5d15b]{color:#e0a356}.blue_theme .sort-item--active[data-v-6bf5d15b]{color:#2f80ed}.green_theme .sort-item--active[data-v-6bf5d15b]{color:#2ec840}.sort-style[data-v-6bf5d15b]{position:relative;width:%?100?%;display:flex;justify-content:center;align-items:center}.sort-style[data-v-6bf5d15b]::before{position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;content:"";height:1em;border-left:1px solid #e5e5e5}.goods-container[data-v-6bf5d15b]{flex:1;display:flex;padding:0 %?20?%}.goods-container-square[data-v-6bf5d15b]{flex-direction:row;flex-wrap:wrap;justify-content:space-between}.goods-container-rectangle[data-v-6bf5d15b]{flex-direction:column}.goods-container .goods-item[data-v-6bf5d15b]{margin-top:%?16?%}.screen-popup .screen-content[data-v-6bf5d15b]{height:calc(100% - %?100?% - env(safe-area-inset-bottom))}.screen-popup .screen-content .screen-item[data-v-6bf5d15b]{padding:%?20?%}.screen-popup .screen-content .brand-list[data-v-6bf5d15b]{border-radius:%?10?%}.screen-popup .screen-content .brand-list .brand-item[data-v-6bf5d15b]{width:%?190?%;padding:0 %?20?%;border:1px solid transparent;background-color:#f5f5f5;line-height:%?60?%;border-radius:%?60?%;text-align:center}.red_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#ff2c3c}.orange_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#f7971e}.pink_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#fa444d}.gold_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#e0a356}.blue_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#2f80ed}.green_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{border-color:#2ec840}.red_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(255,44,60,.3)}.orange_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(247,151,30,.3)}.pink_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(250,68,77,.3)}.gold_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(224,163,86,.3)}.blue_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(47,128,237,.3)}.green_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{background-color:rgba(46,200,64,.3)}.red_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#ff2c3c}.orange_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#f7971e}.pink_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#fa444d}.gold_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#e0a356}.blue_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#2f80ed}.green_theme .screen-popup .screen-content .brand-list .brand-item.active[data-v-6bf5d15b]{color:#2ec840}.screen-popup .screen-content .brand-list .brand-item[data-v-6bf5d15b]:not(:nth-of-type(3n)){margin-right:%?20?%}.screen-popup .screen-footer[data-v-6bf5d15b]{padding:0 %?20?% env(safe-area-inset-bottom)}.screen-popup .screen-footer .btn[data-v-6bf5d15b]{flex:1;border-radius:%?60?%}.screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{border:1px solid currentColor;margin-right:%?20?%}.red_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#ff2c3c}.orange_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#f7971e}.pink_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#fa444d}.gold_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#e0a356}.blue_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#2f80ed}.green_theme .screen-popup .screen-footer .btn--reset[data-v-6bf5d15b]{color:#2ec840}.screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{color:#fff}.red_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#ff2c3c}.orange_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#f7971e}.pink_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#fa444d}.gold_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#e0a356}.blue_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#2f80ed}.green_theme .screen-popup .screen-footer .btn--confirm[data-v-6bf5d15b]{background-color:#2ec840}',""]),e.exports=t},"20bb":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),e}}};t.default=n},3065:function(e,t,a){var n=a("c1ac6");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("08afc026",n,!0,{sourceMap:!1,shadowMode:!1})},"337a":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"@charset \"UTF-8\";\n/* 颜色变量 */\n/** S Font's size **/\n/** E Font's size **/[data-v-658243a6]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.sort-icon[data-v-658243a6]{display:flex;flex-direction:column;align-items:center}",""]),e.exports=t},4548:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(e){this.mescroll&&this.mescroll.onPageScroll(e)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(e){this.mescroll=e,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var e=this.$refs.mescrollRef;e&&(this.mescroll=e.mescroll)}},downCallback:function(){var e=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){e.mescroll.endSuccess()}),500)},upCallback:function(){var e=this;setTimeout((function(){e.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},i=n;t.default=i},"562f":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"u-search",props:{shape:{type:String,default:"round"},bgColor:{type:String,default:"#f2f2f2"},placeholder:{type:String,default:"请输入关键字"},clearabled:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0},actionStyle:{type:Object,default:function(){return{}}},actionText:{type:String,default:"搜索"},inputAlign:{type:String,default:"left"},disabled:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},borderColor:{type:String,default:"none"},value:{type:String,default:""},height:{type:[Number,String],default:64},inputStyle:{type:Object,default:function(){return{}}},maxlength:{type:[Number,String],default:"-1"},searchIconColor:{type:String,default:""},color:{type:String,default:"#606266"},placeholderColor:{type:String,default:"#909399"},margin:{type:String,default:"0"},searchIcon:{type:String,default:"search"}},data:function(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword:function(e){this.$emit("input",e),this.$emit("change",e)},value:{immediate:!0,handler:function(e){this.keyword=e}}},computed:{showActionBtn:function(){return!(this.animation||!this.showAction)},borderStyle:function(){return this.borderColor?"1px solid ".concat(this.borderColor):"none"}},methods:{inputChange:function(e){this.keyword=e.detail.value},clear:function(){var e=this;this.keyword="",this.$nextTick((function(){e.$emit("clear")}))},search:function(e){this.$emit("search",e.detail.value);try{uni.hideKeyboard()}catch(e){}},custom:function(){this.$emit("custom",this.keyword);try{uni.hideKeyboard()}catch(e){}},getFocus:function(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur:function(){var e=this;setTimeout((function(){e.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler:function(){this.disabled&&this.$emit("click")}}};t.default=n},"5fdb":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={uSticky:a("cbdf").default,uSearch:a("994f").default,uIcon:a("e466").default,uLoading:a("1271").default,sortIcon:a("7c83").default,goodsCard:a("307e").default,uPopup:a("76e7").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"search-container",class:e.themeName},[a("u-sticky",{attrs:{"offset-top":"0","h5-nav-height":"0"}},[a("v-uni-view",{staticClass:"search-input"},[a("u-search",{staticClass:"flex-1",attrs:{height:"72","bg-color":"#F4F4F4","show-action":!1,placeholder:"请输入要搜索的商品"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.focusSearch.apply(void 0,arguments)},search:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSearch.apply(void 0,arguments)}},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}}),e.searchStatus?a("v-uni-view",{staticClass:"search-action",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSearch(e.search.name)}}},[e._v("搜索")]):a("v-uni-view",{staticClass:"search-action"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"rectangle"===e.goodsCardStyle,expression:"goodsCardStyle === 'rectangle'"}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goodsCardStyle="square"}}},[a("u-icon",{attrs:{name:"grid",size:"38"}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"square"===e.goodsCardStyle,expression:"goodsCardStyle === 'square'"}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goodsCardStyle="rectangle"}}},[a("u-icon",{attrs:{name:"list-dot",size:"38"}})],1)],1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.searchStatus,expression:"searchStatus"}],staticClass:"search-options-container"},[a("v-uni-view",{staticClass:"search-options"},[a("v-uni-view",{staticClass:"search-options-header"},[a("v-uni-text",[e._v("历史搜索")]),a("u-icon",{attrs:{name:"trash"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSearchHistoryClear.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"flex row-center"},[a("u-loading",{attrs:{mode:"circle",show:e.goodsSearchHistoryLoading}})],1),e.goodsSearchHistoryLoading?e._e():[e.goodsSearchHistory.length?a("v-uni-view",{staticClass:"search-options-main"},e._l(e.goodsSearchHistory,(function(t,n){return a("v-uni-view",{key:n,staticClass:"search-options-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.handleSearch(t)}}},[e._v(e._s(t))])})),1):a("v-uni-view",{staticClass:"flex row-center muted"},[e._v("暂无记录")])]],2)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.searchStatus,expression:"!searchStatus"}]},[a("v-uni-view",{staticClass:"sort"},[a("v-uni-view",{class:["sort-item",{"sort-item--active":!e.search.price&&!e.search.sale}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handSortOptions("all")}}},[a("v-uni-text",[e._v("综合")])],1),a("v-uni-view",{class:["sort-item",{"sort-item--active":e.search.price}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handSortOptions("price")}}},[a("v-uni-text",[e._v("价格")]),a("sort-icon",{staticClass:"m-l-10",attrs:{status:e.search.price,"active-color":e.themeColor}})],1),a("v-uni-view",{class:["sort-item",{"sort-item--active":e.search.sale}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handSortOptions("sale")}}},[a("v-uni-text",[e._v("销量")]),a("sort-icon",{staticClass:"m-l-10",attrs:{status:e.search.sale,"active-color":e.themeColor}})],1),a("v-uni-view",{class:["sort-item",{"sort-item--active":e.search.sale}],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showScreen=!0}}},[a("v-uni-text",[e._v("筛选")])],1)],1),a("mescroll-body",{ref:"mescrollRef",attrs:{up:{auto:!0,noMoreSize:10,empty:{icon:"/static/images/empty/shop.png",tip:"没有找到商品~",fixed:!0}}},on:{init:function(t){arguments[0]=t=e.$handleEvent(t),e.mescrollInit.apply(void 0,arguments)},down:function(t){arguments[0]=t=e.$handleEvent(t),e.downCallback.apply(void 0,arguments)},up:function(t){arguments[0]=t=e.$handleEvent(t),e.upCallback.apply(void 0,arguments)}}},[a("v-uni-view",{class:["goods-container","goods-container-"+e.goodsCardStyle]},e._l(e.goodsList,(function(t){return a("goods-card",{key:t.id,staticClass:"goods-item",attrs:{shape:e.goodsCardStyle,name:t.name,image:t.image,price:t.sell_price,minPrice:t.lineation_price},nativeOn:{click:function(a){return e.goGoodsDetail(t.id)}}})})),1)],1)],1),a("u-popup",{staticClass:"screen-popup",attrs:{mode:"right",width:"650"},model:{value:e.showScreen,callback:function(t){e.showScreen=t},expression:"showScreen"}},[a("v-uni-view",{staticClass:"flex-col",staticStyle:{height:"100%"}},[a("v-uni-view",{staticClass:"screen-content"},[a("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"screen-item"},[a("v-uni-view",{staticClass:"bold"},[e._v("品 牌")]),a("v-uni-view",{staticClass:"brand-list flex flex-wrap m-t-30"},e._l(e.brandLists,(function(t,n){return a("v-uni-view",{key:n,staticClass:"brand-item m-b-20 line-1",class:{active:t.id==e.search.brand_id},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.handleScreen(t)}}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("v-uni-view",{staticClass:"screen-footer flex-1 flex"},[a("v-uni-button",{staticClass:"btn btn--reset",attrs:{"hover-class":"none",size:"md"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleReset.apply(void 0,arguments)}}},[e._v("重置")]),a("v-uni-button",{staticClass:"btn btn--confirm",attrs:{"hover-class":"none",size:"md"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleConfirm.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1)],1)},o=[]},"7b8f":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={uIcon:a("e466").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"sort-icon"},[a("u-icon",{attrs:{name:"arrow-up-fill",size:e.size,color:"desc"===e.status?e.activeColor:e.color,customStyle:{transform:"scale(0.55) translateY(5px)"}}}),a("u-icon",{attrs:{name:"arrow-down-fill",size:e.size,color:"asc"===e.status?e.activeColor:e.color,customStyle:{transform:"scale(0.55)  translateY(-5px)"}}})],1)},o=[]},"7c83":function(e,t,a){"use strict";a.r(t);var n=a("7b8f"),i=a("9cdc");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("0812");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"658243a6",null,!1,n["a"],r);t["default"]=c.exports},"905b":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.apiBrandLists=t.apiGoodsTeamHistory=t.apiGoodsTeamPlace=t.apiGoodsTeamDetail=t.apiGoodsTeamList=t.apiGoodsCommentList=t.apiGoodsCommentCategory=t.apiGoodsCollectList=t.apiGoodsCollect=t.apiGoodsMarketing=t.apiGoodsCategory=t.apiSearchHistoryClear=t.apiSearchHistory=t.apiGoodsDetail=t.apiGoodsLists=void 0;var i=n(a("8164")),o=function(e){return i.default.get("goods/lists",{params:e})};t.apiGoodsLists=o;var r=function(e){return i.default.get("goods/detail",{params:e})};t.apiGoodsDetail=r;var s=function(){return i.default.get("goods/searchRecord")};t.apiSearchHistory=s;var c=function(){return i.default.post("goods/clearRecord")};t.apiSearchHistoryClear=c;var d=function(){return i.default.get("goodsCategory/lists")};t.apiGoodsCategory=d;var l=function(e){return i.default.get("goods/goodsMarketing",{params:e})};t.apiGoodsMarketing=l;var u=function(e){return i.default.post("collect/handleCollectgoods",e)};t.apiGoodsCollect=u;var f=function(e){return i.default.get("collect/lists",{params:e})};t.apiGoodsCollectList=f;var h=function(e){return i.default.get("goods_comment/commentCategory",{params:e})};t.apiGoodsCommentCategory=h;var p=function(e){return i.default.get("goods_comment/lists",{params:e})};t.apiGoodsCommentList=p;var v=function(e){return i.default.get("team/lists",{params:e})};t.apiGoodsTeamList=v;var b=function(e){return i.default.get("team/detail",{params:e})};t.apiGoodsTeamDetail=b;var m=function(e){return i.default.post("team/kaituan",e)};t.apiGoodsTeamPlace=m;var g=function(e){return i.default.get("team/record",{params:e})};t.apiGoodsTeamHistory=g;var y=function(e){return i.default.get("goods_brand/lists",{params:e})};t.apiBrandLists=y},9200:function(e,t,a){"use strict";a.r(t);var n=a("20bb"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"994f":function(e,t,a){"use strict";a.r(t);var n=a("f8b9"),i=a("a34e");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b535");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"1a1fad94",null,!1,n["a"],r);t["default"]=c.exports},"9be4":function(e,t,a){"use strict";var n=a("0703"),i=a.n(n);i.a},"9cdc":function(e,t,a){"use strict";a.r(t);var n=a("0185"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a34e:function(e,t,a){"use strict";a.r(t);var n=a("562f"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a608:function(e,t,a){var n=a("2035");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("53d3042d",n,!0,{sourceMap:!1,shadowMode:!1})},aa6c:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"@charset \"UTF-8\";\n/* 颜色变量 */\n/** S Font's size **/\n/** E Font's size **/[data-v-bf7076f2]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.u-loading-circle[data-v-bf7076f2]{display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-bf7076f2 1s linear infinite;animation:u-circle-data-v-bf7076f2 1s linear infinite}.u-loading-flower[data-v-bf7076f2]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:a 1s steps(12) infinite;animation:u-flower-data-v-bf7076f2 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-bf7076f2{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-bf7076f2{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-bf7076f2{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),e.exports=t},b4f4:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{},[a("v-uni-view",{staticClass:"u-sticky-wrap",class:[e.elClass],style:{height:e.fixed?e.height+"px":"auto",backgroundColor:e.bgColor}},[a("v-uni-view",{staticClass:"u-sticky",style:{position:e.fixed?"fixed":"static",top:e.stickyTop+"px",left:e.left+"px",width:"auto"==e.width?"auto":e.width+"px",zIndex:e.uZIndex}},[e._t("default")],2)],1)],1)},o=[]},b535:function(e,t,a){"use strict";var n=a("3065"),i=a.n(n);i.a},bfd5:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("v-uni-view",{staticClass:"u-loading",class:"circle"==e.mode?"u-loading-circle":"u-loading-flower",style:[e.cricleStyle]}):e._e()},o=[]},c1ac6:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"@charset \"UTF-8\";\n/* 颜色变量 */\n/** S Font's size **/\n/** E Font's size **/[data-v-1a1fad94]:export{red_theme:#ff2c3c;orange_theme:#f7971e;pink_theme:#fa444d;gold_theme:#e0a356;blue_theme:#2f80ed;green_theme:#2ec840}.u-search[data-v-1a1fad94]{display:flex;flex-direction:row;align-items:center;flex:1}.u-content[data-v-1a1fad94]{display:flex;flex-direction:row;align-items:center;padding:0 %?18?%;flex:1}.u-clear-icon[data-v-1a1fad94]{display:flex;flex-direction:row;align-items:center}.u-input[data-v-1a1fad94]{flex:1;font-size:%?28?%;line-height:1;margin:0 %?10?%;color:#909399}.u-close-wrap[data-v-1a1fad94]{width:%?40?%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50%}.u-placeholder-class[data-v-1a1fad94]{color:#909399}.u-action[data-v-1a1fad94]{font-size:%?28?%;color:#303133;width:0;overflow:hidden;transition:all .3s;white-space:nowrap;text-align:center}.u-action-active[data-v-1a1fad94]{width:%?80?%;margin-left:%?10?%}",""]),e.exports=t},c268:function(e,t,a){"use strict";var n=a("1d87"),i=a.n(n);i.a},cbdf:function(e,t,a){"use strict";a.r(t);var n=a("b4f4"),i=a("164e");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c268");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6dade8d3",null,!1,n["a"],r);t["default"]=c.exports},cd44:function(e,t,a){"use strict";a.r(t);var n=a("5fdb"),i=a("fe02");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d153");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6bf5d15b",null,!1,n["a"],r);t["default"]=c.exports},d153:function(e,t,a){"use strict";var n=a("a608"),i=a.n(n);i.a},f7d4:function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("d3b7"),a("ac1f"),a("841c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2909")),o=n(a("5530")),r=a("905b"),s=n(a("4548")),c={name:"Search",mixins:[s.default],data:function(){return{showScreen:!1,goodsList:[],goodsSearchHistory:[],goodsSearchHistoryLoading:!0,searchStatus:!0,goodsCardStyle:"square",search:{name:"",category_id:"",price:"",sale:"",brand_id:""},brandLists:[]}},methods:{mescrollInit:function(e){console.log(e),this.mescroll=e},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(e){var t=this;if(!this.searchStatus){var a=e.num,n=e.size;(0,r.apiGoodsLists)((0,o.default)((0,o.default)({},this.search),{},{page_no:a,page_size:n})).then((function(a){var n=a.lists,o=(a.page_size,a.count);1==e.num&&(t.goodsList=[]),t.goodsList=[].concat((0,i.default)(t.goodsList),(0,i.default)(n)),t.mescroll.endSuccess(n.length,o)})).catch((function(){t.mescroll.endErr()}))}},goGoodsDetail:function(e){this.$Router.push({path:"/pages/goods_detail/goods_detail",query:{id:e}})},focusSearch:function(){this.searchStatus=!0,this.initSearchHistoryData()},handleSearch:function(e){this.searchStatus=!1,this.$set(this.search,"name",e),this.mescroll&&this.mescroll.resetUpScroll()},onSearchHistoryClear:function(){var e=this;uni.showModal({title:"温馨提示",content:"是否清空搜索记录?",confirmColor:this.themeColor,success:function(t){var a=t.confirm;a&&(0,r.apiSearchHistoryClear)().then((function(){e.initSearchHistoryData()})).catch((function(){e.$toast({title:"操作失败"})}))}})},handSortOptions:function(e){switch(e){case"all":this.$set(this.search,"sale",""),this.$set(this.search,"price","");break;case"sale":this.$set(this.search,"price",""),this.$set(this.search,"sale",this.getSortReverse(this.search.sale));break;case"price":this.$set(this.search,"sale",""),this.$set(this.search,"price",this.getSortReverse(this.search.price));break}this.mescroll.resetUpScroll()},getSortReverse:function(e){switch(e){case"asc":return"desc";case"desc":return"asc";default:return"desc"}},initSearchHistoryData:function(){var e=this;(0,r.apiSearchHistory)().then((function(t){e.goodsSearchHistory=t})).catch((function(t){throw e.$toast({title:"搜索记录获取失败"}),new Error(t)})).finally((function(){e.goodsSearchHistoryLoading=!1}))},getSearchList:function(){var e=this;(0,r.apiBrandLists)({page_size:999}).then((function(t){e.brandLists=t.lists}))},handleScreen:function(e){this.search.brand_id=e.id},handleConfirm:function(){this.showScreen=!1,this.mescroll.resetUpScroll()},handleReset:function(){this.search.brand_id="",this.showScreen=!1,this.mescroll.resetUpScroll()}},onLoad:function(){var e=this.$Route.query;"{}"!==JSON.stringify(e)&&e.id&&this.$set(this.search,"category_id",e.id)&&this.handleSearch(""),this.initSearchHistoryData(),this.getSearchList()}};t.default=c},f8b9:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={uIcon:a("e466").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-search",style:{margin:e.margin},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-content",style:{backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100rpx":"10rpx",border:e.borderStyle,height:e.height+"rpx"}},[a("v-uni-view",{staticClass:"u-icon-wrap"},[a("u-icon",{staticClass:"u-clear-icon",attrs:{size:30,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color}})],1),a("v-uni-input",{staticClass:"u-input",style:[{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor},e.inputStyle],attrs:{"confirm-type":"search",value:e.value,disabled:e.disabled,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-placeholder-class",placeholder:e.placeholder,"placeholder-style":"color: "+e.placeholderColor,type:"text"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.getFocus.apply(void 0,arguments)}}}),e.keyword&&e.clearabled&&e.focused?a("v-uni-view",{staticClass:"u-close-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[a("u-icon",{staticClass:"u-clear-icon",attrs:{name:"close-circle-fill",size:"34",color:"#c0c4cc"}})],1):e._e()],1),a("v-uni-view",{staticClass:"u-action",class:[e.showActionBtn||e.show?"u-action-active":""],style:[e.actionStyle],on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.custom.apply(void 0,arguments)}}},[e._v(e._s(e.actionText))])],1)},o=[]},fe02:function(e,t,a){"use strict";a.r(t);var n=a("f7d4"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a}}]);