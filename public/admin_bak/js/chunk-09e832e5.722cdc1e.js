(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09e832e5"],{"0542":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"substance_edit-help"},[r("div",{staticClass:"ls-card"},[r("el-page-header",{attrs:{content:"add"==t.mode?"添加公告":"编辑公告"},on:{back:function(e){return t.$router.go(-1)}}})],1),r("div",{staticClass:"ls-card m-t-16 form-container"},[r("div",{staticClass:"form-left"},[r("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"120px",size:"small"}},[r("el-form-item",{attrs:{label:"标题",prop:"name"}},[r("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":"",placeholder:"请输入标题"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"简介",prop:"synopsis"}},[r("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入简介"},model:{value:t.form.synopsis,callback:function(e){t.$set(t.form,"synopsis",e)},expression:"form.synopsis"}})],1),r("el-form-item",{attrs:{label:"排序",prop:"sort"}},[r("el-input",{staticClass:"ls-input",attrs:{type:"number",placeholder:"请输入排序"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),r("el-form-item",{attrs:{label:"封面图",prop:"disable"}},[r("material-select",{attrs:{limit:1},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-radio",{attrs:{label:1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("启用")]),r("el-radio",{attrs:{label:0},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("关闭")])],1)],1)],1),r("div",{staticClass:"form-right"},[r("el-form",{attrs:{rules:t.rules,"label-width":"120px",size:"small"}},[r("el-form-item",{staticClass:"form-edit",attrs:{label:"内容",prop:"content"}},[r("ls-editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1)]),r("div",{staticClass:"bg-white ls-fixed-footer"},[r("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)])])},s=[],i=r("d4ec"),n=r("bee2"),a=r("262e"),l=r("2caf"),c=(r("d81d"),r("b64b"),r("9ab4")),u=r("1b40"),f=r("614b"),m=r("b3ad"),d=r("a897"),p=r("4201"),b=function(t){Object(a["a"])(r,t);var e=Object(l["a"])(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.mode=p["f"].ADD,t.categoryList=[],t.form={id:0,name:"",synopsis:"",image:"",content:"",sort:0,status:1},t.rules={name:[{required:!0,message:"请输入标题",trigger:"blur"}],cid:[{required:!0,message:"请选择分类",trigger:"change"}],synopsis:[{required:!0,message:"请输入简介",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},t}return Object(n["a"])(r,[{key:"onSubmit",value:function(t){var e=this,r=this.$refs[t];r.validate((function(t){if(t)switch(e.mode){case p["f"].ADD:return e.handleNoticeAdd();case p["f"].EDIT:return e.handleNoticeEdit()}}))}},{key:"handleNoticeAdd",value:function(){var t=this,e=this.form;Object(f["a"])(e).then((function(){setTimeout((function(){return t.$router.go(-1)}),500)}))}},{key:"handleNoticeEdit",value:function(){var t=this,e=this.form;Object(f["d"])(e).then((function(){setTimeout((function(){return t.$router.go(-1)}),500)}))}},{key:"initFormDataForNoticeEdit",value:function(){var t=this;Object(f["c"])({id:this.form.id}).then((function(e){Object.keys(e).map((function(r){t.$set(t.form,r,e[r])}))}))}},{key:"created",value:function(){var t=this.$route.query;t.mode&&(this.mode=t.mode),this.mode===p["f"].EDIT&&(this.form.id=1*t.id,this.initFormDataForNoticeEdit())}}]),r}(u["e"]);b=Object(c["a"])([Object(u["a"])({components:{LsEditor:d["a"],MaterialSelect:m["a"]}})],b);var h=b,v=h,g=(r("0ebb"),r("2877")),k=Object(g["a"])(v,o,s,!1,null,"7c523427",null);e["default"]=k.exports},"0ebb":function(t,e,r){"use strict";r("429e")},"429e":function(t,e,r){},"614b":function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"e",(function(){return i})),r.d(e,"d",(function(){return n})),r.d(e,"f",(function(){return a})),r.d(e,"c",(function(){return l})),r.d(e,"b",(function(){return c}));var o=r("f175"),s=function(t){return o["a"].post("/shop_notice.shop_notice/add",t)},i=function(t){return o["a"].get("/shop_notice.shop_notice/lists",{params:t})},n=function(t){return o["a"].post("/shop_notice.shop_notice/edit",t)},a=function(t){return o["a"].post("/shop_notice.shop_notice/status",t)},l=function(t){return o["a"].get("/shop_notice.shop_notice/detail",{params:t})},c=function(t){return o["a"].post("/shop_notice.shop_notice/del",t)}}}]);
//# sourceMappingURL=chunk-09e832e5.722cdc1e.js.map