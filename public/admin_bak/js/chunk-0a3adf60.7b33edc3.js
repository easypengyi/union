(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a3adf60"],{"29ee":function(e,t,s){"use strict";s("a612")},"2c96":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[s("div",{},[s("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"用户信息",prop:""}},[s("div",{},[e._v(" "+e._s(e.nickname)+"("+e._s(e.sn)+") ")])]),s("el-form-item",{attrs:{label:"当前上级分销商",prop:""}},[s("div",{},[e._v(" "+e._s(e.value)+" ")])]),s("el-form-item",{attrs:{label:"调整方式",prop:"type",required:""}},[s("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-radio",{attrs:{label:"assign"}},[e._v("指定分销商")]),s("el-radio",{attrs:{label:"system"}},[e._v("设置分销商为系统")])],1),s("div",{staticClass:"muted xs m-r-16"},[e._v(" 选择“设置分销商为系统”时，用户的上级分销商会默认为系统 ")])],1),s("el-form-item",{attrs:{label:"选择分销商",prop:"",required:""}},[s("div",{staticClass:"flex"},[""!=e.selectUser.nickname?s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.selectUser.nickname||"")+"("+e._s(e.selectUser.sn||"")+") ")]):e._e(),s("ls-user-select",{attrs:{title:"选择用户",userId:e.form.user_id},on:{getUser:e.getUser}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("选择用户")])],1)],1),s("div",{staticClass:"muted xs m-r-16"},[e._v(" 选择新的分销商 ")])])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)},l=[],r=s("5530"),a=s("d4ec"),o=s("bee2"),n=s("262e"),c=s("2caf"),u=s("9ab4"),d=s("1b40"),f=s("f633"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1,"append-to-body":!0}},[s("div",{},[s("el-form",{staticClass:"ls-form",attrs:{inline:"",model:e.form,"label-width":"70px",size:"small"}},[s("el-form-item",{attrs:{label:"用户信息"}},[s("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用户编号"},model:{value:e.isNameSN,callback:function(t){e.isNameSN=t},expression:"isNameSN"}},[s("el-option",{attrs:{label:"用户编号",value:"0"}}),s("el-option",{attrs:{label:"用户昵称",value:"1"}})],1),0==e.isNameSN?s("el-input",{attrs:{placeholder:"请输入用户编号查询"},model:{value:e.form.sn,callback:function(t){e.$set(e.form,"sn",t)},expression:"form.sn"}}):e._e(),1==e.isNameSN?s("el-input",{attrs:{placeholder:"请输入用户昵称查询"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}}):e._e()],1),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getList}},[e._v("查询")]),s("el-button",{attrs:{size:"small"},on:{click:e.onReset}},[e._v("重置")])],1),s("div",{staticClass:"list-table m-t-16"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:e.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[s("el-table-column",{attrs:{prop:"sn",label:"用户编号","min-width":"",width:""}}),s("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"",width:""}})],1)],1),s("div",{staticClass:"flex row-right m-t-16 row-right "},[s("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)},p=[],v=s("6ddb"),b=s("3c50"),_=function(e){Object(n["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(a["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.isNameSN="",e.form={user_id:"",sn:"",nickname:""},e.pager=new v["a"],e.currentRow={},e.formRules={},e}return Object(o["a"])(s,[{key:"getuserId",value:function(e){this.$set(this.form,"user_id",e)}},{key:"getChange",value:function(e){this.form.sn="",this.form.nickname=""}},{key:"onTrigger",value:function(){this.getList(),this.visible=!0}},{key:"close",value:function(){this.visible=!1,this.form.sn="",this.form.nickname=""}},{key:"onSubmit",value:function(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择用户"):(this.$emit("getUser",this.currentRow),void(this.visible=!1))}},{key:"getList",value:function(){this.pager.request({callback:f["a"],params:Object(r["a"])({},this.form)}).then((function(e){}))}},{key:"onReset",value:function(){this.form.sn="",this.form.nickname="",this.getList()}},{key:"handleCurrentChange",value:function(e){this.currentRow=e}}]),s}(d["e"]);Object(u["a"])([Object(d["c"])()],_.prototype,"userId",void 0),Object(u["a"])([Object(d["c"])({default:""})],_.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({default:"880px"})],_.prototype,"width",void 0),Object(u["a"])([Object(d["c"])({default:"10vh"})],_.prototype,"top",void 0),Object(u["a"])([Object(d["f"])("userId",{immediate:!0})],_.prototype,"getuserId",null),Object(u["a"])([Object(d["f"])("isNameSN",{immediate:!0})],_.prototype,"getChange",null),_=Object(u["a"])([Object(d["a"])({components:{LsPagination:b["a"]}})],_);var h=_,g=h,y=s("2877"),j=Object(y["a"])(g,m,p,!1,null,"644d5468",null),O=j.exports,k=function(e){Object(n["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(a["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.form={user_id:"",type:"assign",first_id:""},e.selectUser={id:"",nickname:"",sn:""},e.formRules={type:[{required:!0,message:"请选择",trigger:"change"}]},e}return Object(o["a"])(s,[{key:"getuserId",value:function(e){console.log("userId",e),this.$set(this.form,"user_id",e)}},{key:"getUser",value:function(e){null!=e&&(this.selectUser=e,this.form.first_id=this.selectUser.id)}},{key:"onSubmit",value:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){if(""==e.form.first_id&&"assign"==e.form.type)return e.$message.error("请选择上级分销商");Object(f["v"])(Object(r["a"])({},e.form)).then((function(t){console.log(t),e.$emit("refresh")})).catch((function(e){console.log(e)})),e.visible=!1,e.form.first_id="",e.selectUser={id:"",nickname:"",sn:""}}}))}},{key:"onTrigger",value:function(){this.visible=!0}},{key:"close",value:function(){this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}}]),s}(d["e"]);Object(u["a"])([Object(d["c"])()],k.prototype,"value",void 0),Object(u["a"])([Object(d["c"])()],k.prototype,"nickname",void 0),Object(u["a"])([Object(d["c"])()],k.prototype,"sn",void 0),Object(u["a"])([Object(d["c"])()],k.prototype,"userId",void 0),Object(u["a"])([Object(d["c"])({default:""})],k.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({default:"660px"})],k.prototype,"width",void 0),Object(u["a"])([Object(d["c"])({default:"20vh"})],k.prototype,"top",void 0),Object(u["a"])([Object(d["f"])("userId",{immediate:!0})],k.prototype,"getuserId",null),k=Object(u["a"])([Object(d["a"])({components:{LsUserSelect:O}})],k);var x=k,C=x,w=Object(y["a"])(C,i,l,!1,null,"726bde6c",null);t["a"]=w.exports},"3b63":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-details"},[s("div",{staticClass:"ls-card"},[s("el-page-header",{attrs:{content:"用户详情"},on:{back:function(t){return e.$router.go(-1)}}})],1),s("div",{staticClass:"m-t-16 flex col-top"},[s("div",{staticClass:"ls-card card-height"},[s("div",{staticClass:"card-title"},[e._v(" 基本资料 ")]),s("div",{staticClass:"content m-t-16 m-b-16"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{staticClass:"flex-col col-center",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("用户头像")]),s("img",{staticClass:"avatar",attrs:{src:e.user_info.avatar,width:"58",height:"58"}})]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("钱包金额")]),s("div",{staticStyle:{margin:"7px 0"}},[e._v(e._s(e.user_info.total_user_money))])]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可用余额")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_money))]),s("ls-user-change",{attrs:{title:"可用余额调整",value:e.user_info.user_money,type:1,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可提现金额")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_earnings))]),s("ls-user-change",{attrs:{title:"可提现金额调整",value:e.user_info.user_earnings,type:2,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("积分")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_integral))]),s("ls-user-change",{attrs:{title:"积分调整",value:e.user_info.user_integral,type:3,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可用优惠券")]),s("div",{staticClass:"flex"},[s("div",{staticStyle:{margin:"7px 0"}},[e._v(e._s(e.user_info.coupon_num))])])])],1)],1),s("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[s("div",{},[s("el-form-item",{attrs:{label:"用户编号",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.sn)+" ")])]),s("el-form-item",{attrs:{label:"用户昵称",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.nickname)+" ")])]),s("el-form-item",{attrs:{label:"用户等级",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.level_name))]),s("ls-level-change",{attrs:{title:"等级调整",value:e.user_info.level_name,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("等级调整")])],1)],1)]),s("el-form-item",{attrs:{label:"真实姓名",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.real_name))]),s("popover-input-user",{attrs:{width:400,changeType:"input",type:"text",value:e.user_info.real_name},on:{confirm:function(t){return e.userSetInfo(t,"real_name")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"性别",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.sex))]),s("popover-input-user",{attrs:{width:300,type:"text",value:e.user_info.sex,changeType:"sex"},on:{confirm:function(t){return e.userSetInfo(t,"sex")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"手机号码",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.mobile))]),s("popover-input-user",{attrs:{width:400,type:"text",changeType:"input",value:e.user_info.mobile},on:{confirm:function(t){return e.userSetInfo(t,"mobile")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"生日",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.birthday))]),s("popover-input-user",{attrs:{width:400,changeType:"time",type:"text",value:e.user_info.birthday},on:{confirm:function(t){return e.userSetInfo(t,"birthday")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"邀请人",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.inviter.name)+" ")])]),s("el-form-item",{attrs:{label:"我邀请的人数",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.inviter.num))]),s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},on:{click:function(t){return e.toInvitationList(e.user_info)}},slot:"trigger"},[e._v("我邀请的人数")])],1)]),s("el-form-item",{attrs:{label:"上级分销商",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.first_leader_info.name))]),s("ls-invitation-change",{attrs:{title:"上级分销商调整",value:e.user_info.first_leader_info.name,userId:e.user_id,nickname:e.user_info.nickname,sn:e.user_info.sn},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)]),s("el-form-item",{attrs:{label:"注册来源"}},[s("div",[e._v(" "+e._s(e.user_info.register_source)+" ")])]),s("el-form-item",{attrs:{label:"注册时间"}},[s("div",[e._v(" "+e._s(e.user_info.create_time)+" ")])]),s("el-form-item",{attrs:{label:"最近登录时间"}},[s("div",[e._v(" "+e._s(e.user_info.login_time)+" ")])])],1)])],1)]),s("div",{staticClass:"ls-card m-t-16"},[s("div",{staticClass:"card-title m-b-30"},[e._v(" 用户标签 ")]),s("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"用户标签",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.labels)+" ")]),s("ls-label-change",{attrs:{title:"用户标签调整",value:e.user_info.labels,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)])],1)],1),s("div",{staticClass:"ls-card m-t-16"},[s("div",{staticClass:"card-title m-b-30"},[e._v(" 交易数据 ")]),s("el-form",{ref:"transactionRef",staticClass:"flex col-top",attrs:{rules:e.transactionRules,model:e.transaction,"label-width":"120px",size:"small"}},[s("div",{},[s("el-form-item",{attrs:{label:"成交订单数 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.total_order_num)+" ")])]),s("el-form-item",{attrs:{label:"消费金额 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.total_order_amount)+" ")])]),s("el-form-item",{attrs:{label:"最近消费时间 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.lately_order_time)+" ")])])],1)])],1)])},l=[],r=s("d4ec"),a=s("bee2"),o=s("262e"),n=s("2caf"),c=s("9ab4"),u=s("1b40"),d=s("f633"),f=s("0a6d"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[s("div",{},[s("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"当前"+e.typeName}},[3==e.type?s("div",[e._v(e._s(e.form.value))]):s("div",[e._v("¥ "+e._s(e.form.value))])]),s("el-form-item",{attrs:{label:e.typeName+"增减"}},[s("el-radio-group",{staticClass:"m-r-16 ",model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[s("el-radio",{attrs:{label:1}},[e._v("增加"+e._s(e.typeName))]),s("el-radio",{attrs:{label:0}},[e._v("扣减"+e._s(e.typeName))])],1)],1),s("el-form-item",{attrs:{label:"调整"+e.typeName,prop:"num"}},[3==e.type?s("div",{},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的积分",type:"number"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}}),s("div",{staticClass:"muted xs m-r-16"},[e._v(" 输入调整的积分 ")])],1):s("div",{},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的金额"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[s("template",{slot:"append"},[e._v("元")])],2),s("div",{staticClass:"muted xs m-r-16"},[e._v(" 输入调整的余额金额 ")])],1)]),s("el-form-item",{attrs:{label:"调整后"+e.typeName}},[3==e.type?s("div",[e._v(e._s(e.lastValue))]):s("div",[e._v("¥ "+e._s(e.lastValue))])]),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateUserAdjustUserWallet}},[e._v("确认")])],1)])],1)},p=[],v=(s("a9e3"),function(e){Object(o["a"])(s,e);var t=Object(n["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.form={user_id:"",type:1,action:1,num:0,remark:"",value:""},e.typeName="",e.valueRules={},e}return Object(a["a"])(s,[{key:"lastValue",get:function(){var e=this.value;return e=1==this.form.action?Number(this.form.value)+1*this.form.num:Number(this.form.value)-1*this.form.num,e}},{key:"getuserId",value:function(e){console.log("userId",e),this.$set(this.form,"user_id",e)}},{key:"getValue",value:function(e){console.log("value",e),this.$set(this.form,"value",e)}},{key:"getType",value:function(e){console.log("type",e),1==e?(this.typeName="金额",this.$set(this.form,"type",e)):2==e?(this.typeName="可提现金额",this.$set(this.form,"type",e)):3==e&&(this.typeName="积分",this.$set(this.form,"type",e))}},{key:"updateUserAdjustUserWallet",value:function(){var e=this,t=1*this.form.num;if(t<=0)return this.$message.error("请输入大于0的数字");Object(d["r"])(this.form).then((function(t){console.log(t),e.$emit("refresh"),e.visible=!1})).catch((function(t){console.log(t),e.visible=!1}))}},{key:"onTrigger",value:function(){this.visible=!0}},{key:"close",value:function(){this.visible=!1,this.$set(this.form,"num",0),this.$set(this.form,"remark","")}}]),s}(u["e"]));Object(c["a"])([Object(u["c"])()],v.prototype,"value",void 0),Object(c["a"])([Object(u["c"])()],v.prototype,"type",void 0),Object(c["a"])([Object(u["c"])()],v.prototype,"userId",void 0),Object(c["a"])([Object(u["c"])({default:""})],v.prototype,"title",void 0),Object(c["a"])([Object(u["c"])({default:"660px"})],v.prototype,"width",void 0),Object(c["a"])([Object(u["c"])({default:"20vh"})],v.prototype,"top",void 0),Object(c["a"])([Object(u["f"])("userId",{immediate:!0})],v.prototype,"getuserId",null),Object(c["a"])([Object(u["f"])("value",{immediate:!0})],v.prototype,"getValue",null),Object(c["a"])([Object(u["f"])("type",{immediate:!0})],v.prototype,"getType",null),v=Object(c["a"])([Object(u["a"])({components:{}})],v);var b=v,_=b,h=s("2877"),g=Object(h["a"])(_,m,p,!1,null,"74929dfa",null),y=g.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[s("div",{},[s("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"标签调整",prop:"labelValue"}},[s("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.labelValue,callback:function(t){e.$set(e.form,"labelValue",t)},expression:"form.labelValue"}},e._l(e.userLabelList,(function(e,t){return s("div",{key:t},[s("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),s("div",{staticClass:"xxs lighter"},[e._v(" 可以多选用户标签 ")])],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLabel}},[e._v("确认")])],1)])],1)},O=[],k=function(e){Object(o["a"])(s,e);var t=Object(n["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.form={user_id:"",labelValue:[]},e.userLevelList={},e.userLabelList={},e.formRules={},e}return Object(a["a"])(s,[{key:"getuserId",value:function(e){console.log("userId",e),this.$set(this.form,"user_id",e)}},{key:"getUserSearchList",value:function(){var e=this;Object(d["q"])().then((function(t){e.userLevelList=t.user_level_list,e.userLabelList=t.user_label_list}))}},{key:"changeUserLabel",value:function(){var e=this;this.$refs.formRef.validate((function(t){if(t)return e.form.labelValue.length?void Object(d["u"])({user_id:e.userId,label_ids:e.form.labelValue}).then((function(t){console.log(t),e.$emit("refresh"),e.visible=!1})).catch((function(e){console.log(e)})):e.$message.error("请选择标签")}))}},{key:"onTrigger",value:function(){this.getUserSearchList(),this.visible=!0}},{key:"close",value:function(){this.visible=!1,this.form.labelValue=[]}}]),s}(u["e"]);Object(c["a"])([Object(u["c"])()],k.prototype,"value",void 0),Object(c["a"])([Object(u["c"])()],k.prototype,"userId",void 0),Object(c["a"])([Object(u["c"])({default:""})],k.prototype,"title",void 0),Object(c["a"])([Object(u["c"])({default:"660px"})],k.prototype,"width",void 0),Object(c["a"])([Object(u["c"])({default:"20vh"})],k.prototype,"top",void 0),Object(c["a"])([Object(u["f"])("userId",{immediate:!0})],k.prototype,"getuserId",null),k=Object(c["a"])([Object(u["a"])({components:{}})],k);var x=k,C=x,w=Object(h["a"])(C,j,O,!1,null,"083cc16d",null),L=w.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[s("div",{},[s("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"当前等级"}},[s("div",[e._v(e._s(e.form.value))])]),s("el-form-item",{attrs:{label:"等级调整",prop:"level"}},[s("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},e._l(e.userLevelList,(function(e,t){return s("div",{key:t},[s("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),s("div",{staticClass:"xxs lighter"},[e._v(" 选择调整后的等级 ")])],1),s("el-form-item",{attrs:{label:"调整后等级"}},[s("div",[e._v(e._s(e.lastValue))])]),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLevel}},[e._v("确认")])],1)])],1)},I=[],z=(s("4de4"),s("d81d"),s("b0c0"),s("d3b7"),s("25f0"),function(e){Object(o["a"])(s,e);var t=Object(n["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.form={user_id:"",level:"",remark:"",value:""},e.labelValue=[],e.userLevelList=[],e.valueRules={level:[{required:!0,message:"请选择用户等级",trigger:"change"}]},e}return Object(a["a"])(s,[{key:"lastValue",get:function(){var e=this,t=[{name:""}];t=this.userLevelList.filter((function(t){return(null===t||void 0===t?void 0:t.id)==e.form.level}));var s=t.map((function(e){return e.name}));return s.toString()}},{key:"getuserId",value:function(e){console.log("userId",e),this.$set(this.form,"user_id",e)}},{key:"getValue",value:function(e){console.log("value",e),this.$set(this.form,"value",e)}},{key:"getUserSearchList",value:function(){var e=this;Object(d["q"])().then((function(t){e.userLevelList=t.user_level_list}))}},{key:"changeUserLevel",value:function(){var e=this;this.$refs.valueRef.validate((function(t){t&&(Object(d["s"])({user_id:e.form.user_id,field:"level",value:e.form.level}).then((function(t){e.$emit("refresh"),console.log(t)})).catch((function(e){console.log(e)})),e.visible=!1,e.form.remark="")}))}},{key:"onTrigger",value:function(){this.getUserSearchList(),this.visible=!0}},{key:"close",value:function(){this.visible=!1,this.form.remark="",this.form.level=""}}]),s}(u["e"]));Object(c["a"])([Object(u["c"])()],z.prototype,"value",void 0),Object(c["a"])([Object(u["c"])()],z.prototype,"userId",void 0),Object(c["a"])([Object(u["c"])({default:""})],z.prototype,"title",void 0),Object(c["a"])([Object(u["c"])({default:"660px"})],z.prototype,"width",void 0),Object(c["a"])([Object(u["c"])({default:"20vh"})],z.prototype,"top",void 0),Object(c["a"])([Object(u["f"])("userId",{immediate:!0})],z.prototype,"getuserId",null),Object(c["a"])([Object(u["f"])("value",{immediate:!0})],z.prototype,"getValue",null),z=Object(c["a"])([Object(u["a"])({components:{}})],z);var S=z,V=S,R=Object(h["a"])(V,$,I,!1,null,"165f5de8",null),U=R.exports,N=s("2c96"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-popover",{staticClass:"popover-input",attrs:{placement:"top",width:e.width,trigger:"manual"},on:{hide:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"popover-input__input m-r-10 flex-1"},["input"==e.changeType?s("el-input",{attrs:{type:e.type,size:"mini",placeholder:e.tips},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e(),"sex"==e.changeType?s("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择性别",size:"mini"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[s("el-option",{attrs:{label:"男",value:1}}),s("el-option",{attrs:{label:"女",value:2}})],1):e._e(),"time"==e.changeType?s("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e()],1),s("div",{staticClass:"popover-input__btns flex-none"},[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确定")])],1)]),s("div",{staticClass:"inline",attrs:{slot:"reference",type:"text"},on:{click:e.handleOpen},slot:"reference"},[e._t("default")],2)])},D=[],q=function(e){Object(o["a"])(s,e);var t=Object(n["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.visible=!1,e.inputValue="",e.pickerOptions={disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},e}return Object(a["a"])(s,[{key:"valueChange",value:function(e){this.inputValue=e}},{key:"handleConfirm",value:function(){this.visible=!1,"time"==this.changeType&&(this.inputValue=String(new Date(this.inputValue).getTime()/1e3)),this.$emit("confirm",this.inputValue)}},{key:"close",value:function(){this.inputValue="",this.visible=!1}},{key:"handleOpen",value:function(){this.disabled||(this.visible=!0)}}]),s}(u["e"]);Object(c["a"])([Object(u["c"])()],q.prototype,"changeType",void 0),Object(c["a"])([Object(u["c"])()],q.prototype,"value",void 0),Object(c["a"])([Object(u["c"])({default:"number"})],q.prototype,"type",void 0),Object(c["a"])([Object(u["c"])({default:"250"})],q.prototype,"width",void 0),Object(c["a"])([Object(u["c"])({default:!1})],q.prototype,"disabled",void 0),Object(c["a"])([Object(u["c"])()],q.prototype,"tips",void 0),Object(c["a"])([Object(u["f"])("value",{immediate:!0})],q.prototype,"valueChange",null),q=Object(c["a"])([u["a"]],q);var E=q,W=E,A=Object(h["a"])(W,T,D,!1,null,"4a90a67c",null),J=A.exports,P=function(e){Object(o["a"])(s,e);var t=Object(n["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.user_id="",e.isShowWallet=1,e.user_info={id:"",sn:"",nickname:"",avatar:"",sex:"",code:"",level_name:"",create_time:"",login_time:"",disable:"",labels:"",leader_inviter:"",fans:"",total_user_money:"",user_money:"",user_earnings:"",user_integral:"",count_num:"",inviter:{name:"",num:""},first_leader_info:{name:""}},e.transaction={total_order_amount:"",total_order_num:"",customer_price:" ",lately_order_time:""},e.userRules={},e.transactionRules={},e}return Object(a["a"])(s,[{key:"userDetail",value:function(){var e=this;Object(d["b"])({user_id:this.user_id}).then((function(t){e.user_info=t.user_info,e.transaction=t.transaction})).catch((function(e){console.log(e)}))}},{key:"userSetInfo",value:function(e,t){var s=this;Object(d["s"])({user_id:this.user_id,field:t,value:e}).then((function(e){s.userDetail()})).catch((function(e){console.log(e)}))}},{key:"toInvitationList",value:function(e){this.$router.push({path:"/user/invitation_list",query:{id:e.id}})}},{key:"created",value:function(){var e=this.$route.query;e.id&&(this.user_id=e.id),this.userDetail()}}]),s}(u["e"]);P=Object(c["a"])([Object(u["a"])({components:{LsDialog:f["a"],LsUserChange:y,LsLabelChange:L,LsLevelChange:U,PopoverInputUser:J,LsInvitationChange:N["a"]}})],P);var F=P,B=F,G=(s("29ee"),Object(h["a"])(B,i,l,!1,null,"624a969c",null));t["default"]=G.exports},a612:function(e,t,s){},d81d:function(e,t,s){"use strict";var i=s("23e7"),l=s("b727").map,r=s("1dde"),a=r("map");i({target:"Array",proto:!0,forced:!a},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},f633:function(e,t,s){"use strict";s.d(t,"o",(function(){return l})),s.d(t,"k",(function(){return r})),s.d(t,"m",(function(){return a})),s.d(t,"n",(function(){return o})),s.d(t,"l",(function(){return n})),s.d(t,"j",(function(){return c})),s.d(t,"f",(function(){return u})),s.d(t,"h",(function(){return d})),s.d(t,"i",(function(){return f})),s.d(t,"g",(function(){return m})),s.d(t,"p",(function(){return p})),s.d(t,"q",(function(){return v})),s.d(t,"b",(function(){return b})),s.d(t,"s",(function(){return _})),s.d(t,"t",(function(){return h})),s.d(t,"u",(function(){return g})),s.d(t,"r",(function(){return y})),s.d(t,"c",(function(){return j})),s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return k})),s.d(t,"v",(function(){return x})),s.d(t,"a",(function(){return C}));var i=s("f175"),l=function(e){return i["a"].get("/user.user_level/lists",{params:e})},r=function(e){return i["a"].post("/user.user_level/add",e)},a=function(e){return i["a"].get("/user.user_level/detail",{params:e})},o=function(e){return i["a"].post("/user.user_level/edit",e)},n=function(e){return i["a"].post("/user.user_level/del",e)},c=function(e){return i["a"].get("/user.user_label/lists",{params:e})},u=function(e){return i["a"].post("/user.user_label/add",e)},d=function(e){return i["a"].get("/user.user_label/detail",{params:e})},f=function(e){return i["a"].post("/user.user_label/edit",e)},m=function(e){return i["a"].post("/user.user_label/del",e)},p=function(e){return i["a"].get("/user.user/lists",{params:e})},v=function(){return i["a"].get("/user.user/otherList")},b=function(e){return i["a"].get("/user.user/detail",{params:e})},_=function(e){return i["a"].post("/user.user/setInfo",e)},h=function(e){return i["a"].post("/user.user/setLabel",e)},g=function(e){return i["a"].post("/user.user/setUserLabel",e)},y=function(e){return i["a"].post("/user.user/adjustUserWallet",e)},j=function(){return i["a"].get("/user.user/index")},O=function(e){return i["a"].get("/user.user/info",{params:e})},k=function(e){return i["a"].get("/user.user/userInviterLists",{params:e})},x=function(e){return i["a"].post("/user.user/adjustFirstLeader",e)},C=function(e){return i["a"].get("/user.user/selectUserLists",{params:e})}}}]);
//# sourceMappingURL=chunk-0a3adf60.7b33edc3.js.map