{"version":3,"sources":["webpack:///./src/views/setting/storage/storage.vue?d28a","webpack:///./src/views/setting/storage/storage.vue?7358","webpack:///./src/views/setting/storage/storage.vue?e1a5","webpack:///./src/views/setting/storage/storage.vue","webpack:///./src/api/setting/storage/storage.ts","webpack:///./src/views/setting/storage/storage.vue?d20f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","engine","_e","ref","form","formRules","_v","model","value","callback","$$v","$set","expression","staticStyle","onSubmit","staticRenderFns","bucket","access_key","secret_key","domain","region","status","required","message","trigger","$refs","formRef","validate","valid","then","res","setTimeout","catch","console","log","query","$route","getStorageIndex","components","component","apiStorageList","get","apiStorageIndex","params","apiStorageSetup","post","apiStorageChange"],"mappings":"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","file":"js/chunk-2cb985e0.3fa14ecd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storage-setting\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":\"存储设置\"},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),(_vm.engine !== 'local')?_c('div',{staticClass:\"ls-card m-t-16\"},[(_vm.engine == 'qiniu')?_c('el-alert',{attrs:{\"title\":\"温馨提示：切换七牛云存储后，素材库需要重新上传至七牛云。\",\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e(),(_vm.engine == 'aliyun')?_c('el-alert',{attrs:{\"title\":\"温馨提示：切换阿里云OSS后，素材库需要重新上传至阿里云OSS。\",\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e(),(_vm.engine == 'qcloud')?_c('el-alert',{attrs:{\"title\":\"温馨提示：切换腾讯云OSS后，素材库需要重新上传至腾讯云OSS。\",\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e()],1):_vm._e(),_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules,\"label-width\":\"240px\",\"size\":\"small\"}},[_c('div',{staticClass:\"ls-card m-t-16\"},[_c('div',{staticClass:\"card-content m-t-24\"},[_c('el-form-item',{attrs:{\"label\":\"存储方式\"}},[(_vm.engine == 'local')?_c('div',[_vm._v(\"本地存储\")]):_vm._e(),(_vm.engine == 'qiniu')?_c('div',[_vm._v(\"七牛云存储\")]):_vm._e(),(_vm.engine == 'aliyun')?_c('div',[_vm._v(\"阿里云OSS\")]):_vm._e(),(_vm.engine == 'qcloud')?_c('div',[_vm._v(\"腾讯云OSS\")]):_vm._e(),(_vm.engine == 'local')?_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 本地存储方式不需要配置其他参数 \")]):_vm._e()])],1),(_vm.engine !== 'local')?_c('div',[_c('el-form-item',{attrs:{\"label\":\" 存储空间名称(Bucket)\",\"prop\":\"bucket\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入存储空间名称(Bucket)\"},model:{value:(_vm.form.bucket),callback:function ($$v) {_vm.$set(_vm.form, \"bucket\", $$v)},expression:\"form.bucket\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ACCESS_KEY（AK）\",\"prop\":\"access_key\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入ACCESS_KEY\"},model:{value:(_vm.form.access_key),callback:function ($$v) {_vm.$set(_vm.form, \"access_key\", $$v)},expression:\"form.access_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"SECRET_KEY（SK）\",\"prop\":\"secret_key\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入SECRET_KEY\"},model:{value:(_vm.form.secret_key),callback:function ($$v) {_vm.$set(_vm.form, \"secret_key\", $$v)},expression:\"form.secret_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"空间域名（Domain）\",\"prop\":\"domain\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入空间域名\"},model:{value:(_vm.form.domain),callback:function ($$v) {_vm.$set(_vm.form, \"domain\", $$v)},expression:\"form.domain\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 请补全http://或https://，例如https://static.cloud.com \")])],1),(_vm.engine == 'qcloud')?_c('el-form-item',{attrs:{\"label\":\"REGION\",\"prop\":\"region\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入region\"},model:{value:(_vm.form.region),callback:function ($$v) {_vm.$set(_vm.form, \"region\", $$v)},expression:\"form.region\"}})],1):_vm._e()],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{staticClass:\"m-r-16 \",model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"停用·\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用\")])],1)],1)],1)]),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit()}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n\tVue,\n\tComponent\n} from 'vue-property-decorator'\nimport {\n\tapiStorageIndex,\n\tapiStorageSetup,\n} from '@/api/setting/storage/storage'\n@Component({\n\tcomponents: {},\n})\nexport default class Storage extends Vue {\n\t/** S Data **/\n\t// 存储方式\n\tengine = \"\" // 存储引擎名称：local-本地，qiniu-七牛云,aliyun-阿里云OSS,qcloud-腾讯云OS:\n\tform = {\n\t\tbucket: '',\n\t\taccess_key: '',\n\t\tsecret_key: '',\n\t\tdomain: '',\n\t\tregion: '', // 腾讯云需要\n\t\tstatus: 0,\n\t}\n\n\tformRules = {\n\t\tbucket: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入存储空间名称',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\taccess_key: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入ACCESS_KEY',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tsecret_key: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入SECRET_KEY',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tdomain: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入空间域名',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tregion: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入REGION',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t}\n\t$refs!: {\n\t\tformRef: any\n\t}\n\t/** E Data **/\n\n\t/** S Methods **/\n\tonSubmit() {\n\t\t// 验证表单格式是否正确\n\t\tthis.$refs.formRef.validate((valid: boolean): any => {\n\t\t\tif (!valid) return;\n\t\t\t// 请求发送\n\t\t\t apiStorageSetup({\n\t\t\t\t...this.form,\n\t\t\t\tengine: this.engine\n\t\t\t})\n\t\t\t.then((res: any) => {\n\t\t\t\tsetTimeout(() => this.$router.go(-1), 500)\t\t\t\n\t\t\t\t//this.$message.success('保存成功!')\n\t\t\t})\n\t\t\t.catch((res: any) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\t//this.$message.error('保存失败!')\n\t\t\t})\n\t\t\t// setTimeout(()=> {\n\t\t\t// \tthis.getStorageIndex()\n\t\t\t// }, 100)\n\t\t})\n\t}\n\n\t// 获取引擎配置\n\tgetStorageIndex() {\n\t\tapiStorageIndex({engine: this.engine})\n\t\t.then((res: any) => {\n\t\t\tconsole.log(res)\n\t\t\tthis.form = res\n\t\t})\n\t\t.catch((res: any) => {\n\t\t\tconsole.log(res)\n\t\t\t//this.$message.error('获取失败，请重试!')\n\t\t})\n\t}\n\t/** E Methods **/\n\t/** S Life Cycle **/\n\tcreated() {\n\t\tconst query: any = this.$route.query\n\t\tif (query.engine) this.engine = query.engine\n\t\tthis.getStorageIndex()\n\t}\n\t/** E Life Cycle **/\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./storage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./storage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./storage.vue?vue&type=template&id=f85c4a38&scoped=true&\"\nimport script from \"./storage.vue?vue&type=script&lang=ts&\"\nexport * from \"./storage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./storage.vue?vue&type=style&index=0&id=f85c4a38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f85c4a38\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/plugins/axios'\nimport * as Interface from '@/api/setting/system_maintain/system_maintain.d.ts'\n\n/** S 存储设置 **/\n// 获取存储引擎列表\nexport const apiStorageList = (): Promise<any> =>\n    request.get('/settings.shop.Storage/lists')\n\t\n// 获取存储配置信息\nexport const apiStorageIndex = (params:any): Promise<any> =>\n    request.get('/settings.shop.Storage/index',{params})\n\t\n// 更新配置\nexport const apiStorageSetup = (params:any): Promise<any> => \n\trequest.post('/settings.shop.Storage/setup', params)\n\n// 切换默认存储引擎\nexport const apiStorageChange = (params:any): Promise<any> => \n\trequest.post('/settings.shop.Storage/change', params)\n/** E 存储设置 **/","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./storage.vue?vue&type=style&index=0&id=f85c4a38&lang=scss&scoped=true&\""],"sourceRoot":""}