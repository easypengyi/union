(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b178c73"],{"0903":function(t,e,i){},"181a":function(t,e,i){t.exports=i.p+"img/img_shili_share_example.9b9126b9.png"},"31d6":function(t,e,i){},"568b":function(t,e,i){"use strict";i("31d6")},"81cf":function(t,e,i){"use strict";i("0903")},"82bb":function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"e",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return l})),i.d(e,"h",(function(){return o})),i.d(e,"g",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"a",(function(){return d}));var a=i("f175"),s=function(){return a["a"].get("/settings.shop.shop_setting/getShopInfo")},r=function(t){return a["a"].post("/settings.shop.shop_setting/setShopInfo",t)},n=function(){return a["a"].get("/settings.shop.shop_setting/getRecordInfo")},l=function(t){return a["a"].post("/settings.shop.shop_setting/setRecordInfo",t)},o=function(){return a["a"].get("/settings.shop.shop_setting/getShareSetting")},c=function(t){return a["a"].post("/settings.shop.shop_setting/setShareSetting",t)},u=function(){return a["a"].get("/settings.shop.shop_setting/getPolicyAgreement")},d=function(t){return a["a"].post("/settings.shop.shop_setting/setPolicyAgreement",t)}},b3ad:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+t.tipsText,width:"1050px",top:"15vh"},on:{confirm:t.handleConfirm}},[t.hiddenTrigger?t._e():i("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(t){t.stopPropagation()}},slot:"trigger"},[i("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:t.disabled||t.dragDisabled},on:{update:t.handleChange},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},t._l(t.fileList,(function(e,a){return i("div",{key:e+a,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!1,a)}}},[t.$scopedSlots.preview?i("div",[t._t("preview",null,{item:t.imageUri(e)})],2):i("file-item",{attrs:{type:t.type,item:{uri:t.imageUri(e)},size:t.size}}),t.enableDelete?i("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(e){return e.stopPropagation(),t.delImage(a)}}}):t._e()],1)})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!0)}}},[t.$slots.upload?i("div",[t._t("upload")],2):i("div",{staticClass:"upload-btn flex row-center",style:{width:t.size+"px",height:t.size+"px",background:t.uploadBg}},[t._t("default"),t.$slots.default?t._e():i("span",[t._v("添加"+t._s(t.tipsText))])],2)])],1),i("div",{staticClass:"material-wrap"},[i("ls-material",{ref:"material",attrs:{"page-size":15,type:t.type,limit:t.meterialLimit},on:{change:t.selectChange}})],1)])},s=[],r=i("d4ec"),n=i("bee2"),l=i("262e"),o=i("2caf"),c=(i("d81d"),i("a434"),i("99af"),i("9ab4")),u=i("1b40"),d=i("0a6d"),f=i("c6fe"),h=i("e915"),p=i("b76a"),m=i.n(p),g=function(t){Object(l["a"])(i,t);var e=Object(o["a"])(i);function i(){var t;return Object(r["a"])(this,i),t=e.apply(this,arguments),t.isAdd=!0,t.fileList=[],t}return Object(n["a"])(i,[{key:"showUpload",get:function(){var t=this.fileList,e=this.limit;return e-t.length>0}},{key:"meterialLimit",get:function(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}},{key:"tipsText",get:function(){switch(this.type){case"image":return"图片";case"video":return"视频"}}},{key:"imageUri",get:function(){var t=this;return function(e){return t.enableDomain?e:t.$getImageUri(e)}}},{key:"valueChange",value:function(t){this.fileList=Array.isArray(t)?t:""==t?[]:[t]}},{key:"showDialog",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;this.disabled||(this.isAdd=e,void 0!==i&&(this.currentIndex=i),null===(t=this.$refs.materialDialog)||void 0===t||t.onTrigger())}},{key:"selectChange",value:function(t){this.select=t}},{key:"handleConfirm",value:function(){var t=this;this.$refs.material.clearSelectList();var e=this.select.map((function(e){return t.enableDomain?e.uri:e.url}));this.isAdd?this.fileList=this.fileList.concat(e):this.fileList.splice(this.currentIndex,1,e.shift()),this.handleChange()}},{key:"delImage",value:function(t){this.fileList.splice(t,1),this.handleChange()}},{key:"handleChange",value:function(){var t=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",t),this.$emit("change",t),this.fileList=[]}}]),i}(u["e"]);Object(c["a"])([Object(u["c"])({default:function(){return[]}})],g.prototype,"value",void 0),Object(c["a"])([Object(u["c"])({default:1})],g.prototype,"limit",void 0),Object(c["a"])([Object(u["c"])({default:"100"})],g.prototype,"size",void 0),Object(c["a"])([Object(u["c"])({default:!1})],g.prototype,"disabled",void 0),Object(c["a"])([Object(u["c"])({default:!1})],g.prototype,"dragDisabled",void 0),Object(c["a"])([Object(u["c"])({default:!1})],g.prototype,"hiddenTrigger",void 0),Object(c["a"])([Object(u["c"])({default:"image"})],g.prototype,"type",void 0),Object(c["a"])([Object(u["c"])({default:"transparent"})],g.prototype,"uploadBg",void 0),Object(c["a"])([Object(u["c"])({default:!0})],g.prototype,"enableDomain",void 0),Object(c["a"])([Object(u["c"])({default:!0})],g.prototype,"enableDelete",void 0),Object(c["a"])([Object(u["f"])("value",{immediate:!0})],g.prototype,"valueChange",null),g=Object(c["a"])([Object(u["a"])({components:{LsDialog:d["a"],LsMaterial:f["a"],Draggable:m.a,FileItem:h["a"]}})],g);var b=g,v=b,_=(i("568b"),i("2877")),y=Object(_["a"])(v,a,s,!1,null,"1503bff6",null);e["a"]=y.exports},db6d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"setting-share"},[i("div",{staticClass:"ls-card"},[i("el-alert",{attrs:{title:"1.无需设置分享链接，分享页面为当前页面链接，APP分享时使用H5当前页链接；2.个人中心、我的订单等隐私页面分享链接为商城首页。",type:"info",closable:!1,"show-icon":""}})],1),i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px",size:"small"}},[i("div",{staticClass:"ls-card m-t-16"},[i("div",{staticClass:"card-title"},[t._v("分享设置")]),i("div",{staticClass:"card-content m-t-24"},[i("el-form-item",{attrs:{label:"页面",prop:"share_page"}},[i("el-radio",{attrs:{label:1},model:{value:t.form.share_page,callback:function(e){t.$set(t.form,"share_page",e)},expression:"form.share_page"}},[t._v("当前页面")]),i("div",{staticClass:"muted xs"},[t._v("用户使用微信分享把商城页面发送给微信好友时，分享当前页面对应的链接。")])],1),i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.share_title,callback:function(e){t.$set(t.form,"share_title",e)},expression:"form.share_title"}}),i("div",{staticClass:"muted xs"},[t._v("分享标题，不填则为当前页面标题")])],1),i("el-form-item",{attrs:{label:"简介"}},[i("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.share_intro,callback:function(e){t.$set(t.form,"share_intro",e)},expression:"form.share_intro"}}),i("div",{staticClass:"muted xs"},[t._v("分享简介，不填则为空")])],1),i("el-form-item",{attrs:{label:"图片",prop:"share_image"}},[i("material-select",{attrs:{limit:1},model:{value:t.form.share_image,callback:function(e){t.$set(t.form,"share_image",e)},expression:"form.share_image"}}),i("div",{staticClass:"flex"},[i("div",{staticClass:"muted xs m-r-16"},[t._v("建议尺寸：400 * 400px，支持jpg，jpeg，png格式")]),i("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover"}},[i("el-image",{attrs:{src:t.shareImageExample}}),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)],1)],1)])]),i("div",{staticClass:"bg-white ls-fixed-footer"},[i("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmitFrom("form")}}},[t._v("保存")])],1)])],1)},s=[],r=i("5530"),n=i("d4ec"),l=i("bee2"),o=i("262e"),c=i("2caf"),u=(i("d3b7"),i("9ab4")),d=i("1b40"),f=i("b3ad"),h=i("82bb"),p=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.form={share_page:0,share_title:"",share_intro:"",share_image:""},t.rules={share_image:[{required:!0,message:"请上传分享图片",trigger:"blur"}],share_page:[{required:!0,message:"请选择分享页面",trigger:"blur"}]},t.shareImageExample=i("181a"),t}return Object(l["a"])(a,[{key:"initFormData",value:function(){var t=this;Object(h["h"])().then((function(e){for(var i in e)t.form.hasOwnProperty(i)&&(t.form[i]=e[i])})).catch((function(){t.$message.error("数据加载失败，请刷新重载")}))}},{key:"onResetFrom",value:function(){this.initFormData(),this.$message.info("已重置数据")}},{key:"onSubmitFrom",value:function(t){var e=this,i=this.$refs[t];i.validate((function(t){if(t){var i=e.$loading({text:"保存中"});Object(h["g"])(Object(r["a"])({},e.form)).then((function(){e.$message.success("保存成功")})).catch((function(){e.$message.error("保存失败")})).finally((function(){i.close()}))}}))}},{key:"created",value:function(){this.initFormData()}}]),a}(d["e"]);p=Object(u["a"])([Object(d["a"])({components:{MaterialSelect:f["a"]}})],p);var m=p,g=m,b=(i("81cf"),i("2877")),v=Object(b["a"])(g,a,s,!1,null,"05861ab0",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-4b178c73.09b93e12.js.map