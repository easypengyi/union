(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11606fce"],{"0c4e":function(e,t,a){"use strict";a("9022")},"131b":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"i",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return d}));var i=a("f175"),n=function(e){return i["a"].get("/lucky_draw.lucky_draw/lists",{params:e})},s=function(e){return i["a"].post("/lucky_draw.lucky_draw/delete",e)},l=function(e){return i["a"].post("/lucky_draw.lucky_draw/end",e)},r=function(e){return i["a"].post("/lucky_draw.lucky_draw/start",e)},c=function(e){return i["a"].post("lucky_draw.lucky_draw/edit",e)},o=function(e){return i["a"].get("/lucky_draw.lucky_draw/detail",{params:e})},u=function(e){return i["a"].post("lucky_draw.lucky_draw/add",e)},p=function(){return i["a"].get("lucky_draw.lucky_draw/getPrizeType")},d=function(e){return i["a"].get("lucky_draw.lucky_draw/record",{params:e})}},"2b1d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ls-dialog",{ref:"dialog",staticClass:"link-select",attrs:{title:"选择跳转链接",width:"900px",top:"20vh",disabled:e.disabled,async:!0},on:{confirm:e.onConfirm}},[a("div",{staticClass:"link-select__trigger",attrs:{slot:"trigger"},slot:"trigger"},[a("el-input",{staticStyle:{width:"100%"},attrs:{value:e.linkName,placeholder:"请选择跳转链接",size:"small",readonly:"",disabled:e.disabled}},[e.linkName?a("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){return t.stopPropagation(),e.handleClear.apply(null,arguments)}},slot:"suffix"}):a("i",{staticClass:"el-icon-arrow-right el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("detail",{attrs:{client:e.client},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1)},n=[],s=a("d4ec"),l=a("bee2"),r=a("262e"),c=a("2caf"),o=(a("9911"),a("b0c0"),a("99af"),a("9ab4")),u=a("1b40"),p=a("0a6d"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail"},[a("div",{staticClass:"content flex"},[a("div",{staticClass:"left m-r-10"},[a("el-scrollbar",{staticClass:"ls-scrollbar",staticStyle:{height:"100%"}},[a("el-collapse",{staticClass:"p-t-20",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.lists,(function(t,i){return a("el-collapse-item",{key:i,attrs:{title:t.name,name:t.key}},[a("div",{staticClass:"nav-list"},e._l(t.children,(function(t,i){return a("div",{key:i,staticClass:"nav-item",class:{active:e.linkType==t.type},on:{click:function(a){e.linkType=t.type}}},[a("div",[e._v(e._s(t.name))])])})),0)])})),1)],1)],1),a("div",{staticClass:"right flex-1"},[a("div",{staticClass:"right-content"},["shop"==e.linkType||"marking"==e.linkType?a("shop",{key:e.linkType,attrs:{type:e.linkType,client:e.client},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}}):e._e(),"goods"==e.linkType?a("goods",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"seckill"==e.linkType||"team"==e.linkType||"bargain"==e.linkType?a("activity",{key:e.linkType,attrs:{single:!0,type:e.linkType},on:{input:e.setLinkParams},model:{value:e.link.params,callback:function(t){e.$set(e.link,"params",t)},expression:"link.params"}}):e._e(),"category"==e.linkType?a("category",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"draw"==e.linkType?a("draw",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"page"==e.linkType?a("page",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"custom"==e.linkType?a("custom",{model:{value:e.link.params,callback:function(t){e.$set(e.link,"params",t)},expression:"link.params"}}):e._e()],1)])])])},m=[],f=a("5530"),h=(a("159b"),a("7db0"),a("caad"),a("2532"),a("dcb0")),g=a("a92d"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shop"},[a("div",{staticClass:"link-list flex flex-wrap"},e._l(e.linkList,(function(t,i){return a("div",{key:i,staticClass:"link-item",class:{active:e.link.path==t.path},on:{click:function(a){e.link=t}}},[e._v(" "+e._s(t.name)+" ")])})),0)])},b=[],y=a("b6c4"),k=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.linkList=[],e}return Object(l["a"])(a,[{key:"link",get:function(){return this.value},set:function(e){this.$emit("input",e)}},{key:"getLists",value:function(){var e=this,t="mobile"==this.client?Object(y["b"])({type:this.type}):Object(y["e"])({type:this.type});t.then((function(t){e.linkList=t}))}},{key:"created",value:function(){this.getLists()}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],k.prototype,"value",void 0),Object(o["a"])([Object(u["c"])()],k.prototype,"type",void 0),Object(o["a"])([Object(u["c"])({default:"mobile"})],k.prototype,"client",void 0),k=Object(o["a"])([Object(u["a"])({components:{}})],k);var _=k,O=_,w=(a("0c4e"),a("2877")),j=Object(w["a"])(O,v,b,!1,null,"b1978dfc",null),x=j.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"category flex"},[a("div",{staticClass:"m-r-20"},[e._v("选择分类")]),a("el-cascader",{ref:"cascader",attrs:{value:e.params.id,options:e.lists,props:{checkStrictly:!0,label:"name",value:"id",children:"sons",emitPath:!1},clearable:"",filterable:""},on:{change:e.onSelect}})],1)},L=[],S=a("14c6"),$=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.lists=[],e}return Object(l["a"])(a,[{key:"params",get:function(){return this.value}},{key:"getLists",value:function(){var e=this;Object(S["l"])({pager_type:1}).then((function(t){e.lists=null===t||void 0===t?void 0:t.lists}))}},{key:"onSelect",value:function(){var e=this.$refs.cascader.getCheckedNodes();this.$emit("input",e[0].data)}},{key:"created",value:function(){this.getLists()}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],$.prototype,"value",void 0),$=Object(o["a"])([Object(u["a"])({components:{}})],$);var D=$,T=D,N=Object(w["a"])(T,C,L,!1,null,"41b5772c",null),z=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail"},[a("div",{staticClass:"flex m-b-20"},[a("div",{staticClass:"m-r-10"},[e._v("页面搜索")]),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"}},[a("el-table-column",{attrs:{width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{value:e.selectData.id==t.row.id},on:{change:function(a){return e.onSelect(a,t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"页面名称"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}})],1),a("div",{staticClass:"flex row-right m-t-10"},[a("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1)},P=[],G=a("3c50"),I=a("6ddb"),A=a("db85"),U=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.name="",e.pager=new I["a"],e}return Object(l["a"])(a,[{key:"selectData",get:function(){return this.value},set:function(e){this.$emit("input",e)}},{key:"getList",value:function(e){e&&(this.pager.page=e),this.pager.request({callback:A["t"],params:{type:1,name:this.name}}).then((function(e){}))}},{key:"onSelect",value:function(e,t){this.selectData=e?t:{}}},{key:"created",value:function(){this.getList()}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],U.prototype,"value",void 0),U=Object(o["a"])([Object(u["a"])({components:{LsPagination:G["a"]}})],U);var q=U,J=q,M=Object(w["a"])(J,E,P,!1,null,"7d79fb60",null),B=M.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom"},[a("el-form",{attrs:{size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"跳转链接",required:""}},[a("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入跳转链接"},model:{value:e.params.url,callback:function(t){e.$set(e.params,"url",t)},expression:"params.url"}})],1),a("el-form-item",{attrs:{label:""}},[a("div",{staticClass:"muted",staticStyle:{"line-height":"1.3"}},[e._v("请填写完整的带有“https://”或“http://”的链接地址 "),a("br"),e._v(" 链接的域名必须在微信公众平台设置业务域名")])])],1)],1)},H=[],K=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"params",get:function(){return this.value}},{key:"paramsChange",value:function(e){this.$emit("input",e)}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],K.prototype,"value",void 0),Object(o["a"])([Object(u["f"])("params",{deep:!0})],K.prototype,"paramsChange",null),K=Object(o["a"])([Object(u["a"])({components:{}})],K);var Q=K,R=Q,V=Object(w["a"])(R,F,H,!1,null,"9a1ab86e",null),W=V.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail"},[a("div",{staticClass:"flex m-b-20"},[a("div",{staticClass:"m-r-10"},[e._v("活动搜索")]),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入活动名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"}},[a("el-table-column",{attrs:{width:"45",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{value:t.row.id==e.selectData.id},on:{change:function(a){return e.onSelect(a,t.row)}}})]}}])}),a("el-table-column",{attrs:{label:"活动名称",prop:"name"}}),a("el-table-column",{attrs:{label:"活动状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(t.row.status_desc))]):a("el-tag",{attrs:{size:"medium",type:"info"}},[e._v(e._s(t.row.status_desc))])]}}])}),a("el-table-column",{attrs:{label:"活动时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.start_time_desc)+" ~ "+e._s(t.row.end_time_desc)+" ")]}}])})],1),a("div",{staticClass:"flex row-right m-t-20"},[a("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1)},Y=[],Z=a("131b"),ee=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.name="",e.pager=new I["a"],e}return Object(l["a"])(a,[{key:"selectData",get:function(){return this.value},set:function(e){this.$emit("input",e)}},{key:"getList",value:function(e){e&&(this.pager.page=e),this.pager.request({callback:Z["g"],params:{name:this.name}}).then((function(e){}))}},{key:"onSelect",value:function(e,t){e?this.selectData=t:(console.log(this.selectData),this.selectData={},console.log(this.selectData))}},{key:"created",value:function(){this.getList()}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],ee.prototype,"value",void 0),ee=Object(o["a"])([Object(u["a"])({components:{LsPagination:G["a"]}})],ee);var te=ee,ae=te,ie=Object(w["a"])(ae,X,Y,!1,null,"4180df0c",null),ne=ie.exports,se=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.activeName=[],e.linkType="shop",e.lists="mobile"==e.client?[{name:"商城页面",key:"shop",children:[{name:"基础页面",type:"shop",link:{path:"",name:"",params:{},type:"shop"}},{name:"微页面",type:"page",link:{path:"/pages/page/page",name:"微页面",params:{},type:"page"}}]},{name:"商品",key:"goods",children:[{name:"普通商品",type:"goods",link:{path:"/pages/goods_detail/goods_detail",name:"普通商品",params:{},type:"goods"}},{name:"秒杀商品",type:"seckill",link:{path:"/bundle/pages/seckill_detail/seckill_detail",name:"秒杀商品",params:{},type:"seckill"}},{name:"拼团商品",type:"team",link:{path:"/bundle/pages/goods_team_detail/goods_team_detail",name:"拼团商品",params:{},type:"team"}},{name:"商品分类",type:"category",link:{path:"/pages/goods_search/goods_search",name:"商品分类",params:{},type:"category"}}]},{name:"营销活动",key:"marking",children:[{name:"营销活动页面",type:"marking",link:{path:"",name:"",params:{},type:"marking"}},{name:"幸运抽奖",type:"draw",link:{path:"/bundle/pages/luck_draw/luck_draw",name:"幸运抽奖",params:{},type:"draw"}}]},{name:"其他",key:"other",children:[{name:"自定义链接",type:"custom",link:{path:"/pages/webview/webview",name:"自定义链接",params:{url:""},type:"custom"}}]}]:[{name:"商城页面",key:"shop",children:[{name:"基础页面",type:"shop",link:{path:"",name:"",params:{},type:"shop"}}]},{name:"商品",key:"goods",children:[{name:"普通商品",type:"goods",link:{path:"/goods_details",name:"普通商品",params:{},type:"goods"}},{name:"秒杀商品",type:"seckill",link:{path:"/goods_details_seckill",name:"秒杀商品",params:{},type:"seckill"}},{name:"商品分类",type:"category",link:{path:"/category",name:"商品分类",params:{},type:"category"}}]},{name:"营销活动",key:"marking",children:[{name:"营销活动页面",type:"marking",link:{path:"",name:"",params:{},type:"marking"}}]}],e}return Object(l["a"])(a,[{key:"link",get:function(){var e,t=this,a={};return this.lists.forEach((function(e){var i=e.children.find((function(e){return e.type==t.linkType}));i&&(a=i)})),null===(e=a)||void 0===e?void 0:e.link},set:function(e){var t=this;this.lists.forEach((function(a){a.children.forEach((function(i){i.type==t.linkType&&(e&&(i.link=e),t.activeName.includes(a.key)||t.activeName.push(a.key))}))}))}},{key:"valueChange",value:function(e){e&&(this.linkType=e.type||"shop",this.link=e)}},{key:"linkChange",value:function(e){this.$emit("input",e)}},{key:"setLinkParams",value:function(e){if(!e.id)return this.link.params={};this.link&&(this.link=Object(f["a"])(Object(f["a"])({},this.link),{},{params:{id:e.id,name:e.name}}))}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])()],se.prototype,"value",void 0),Object(o["a"])([Object(u["c"])({default:"mobile"})],se.prototype,"client",void 0),Object(o["a"])([Object(u["f"])("value",{immediate:!0})],se.prototype,"valueChange",null),Object(o["a"])([Object(u["f"])("link",{deep:!0})],se.prototype,"linkChange",null),se=Object(o["a"])([Object(u["a"])({components:{Goods:h["a"],Shop:x,Category:z,Page:B,Custom:W,Activity:g["a"],Draw:ne}})],se);var le=se,re=le,ce=(a("50ff"),Object(w["a"])(re,d,m,!1,null,"1ab33785",null)),oe=ce.exports,ue=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.link={},e}return Object(l["a"])(a,[{key:"linkName",get:function(){var e=this.value,t=e.type,a=e.name,i=e.params;if(!a)return"";switch(t){case"custom":return i.url;default:return"".concat(a).concat(i&&i.name?"("+i.name+")":"")}}},{key:"valueChange",value:function(e){this.link=JSON.parse(JSON.stringify(e))}},{key:"onConfirm",value:function(){var e=this.link,t=e.type,a=e.params,i=e.path;switch(t){case"shop":if(!i)return void this.$message.warning("请选择商城页面");break;case"goods":if(!a.name)return void this.$message.warning("请选择商品");break;case"seckill":if(!a.name)return void this.$message.warning("请选择秒杀商品");break;case"team":if(!a.name)return void this.$message.warning("请选择拼团商品");break;case"marking":if(!i)return void this.$message.warning("请选择营销页面");break;case"draw":if(!a.name)return void this.$message.warning("请选择幸运抽奖");break;case"category":if(!a.name)return void this.$message.warning("请选择分类");break;case"custom":if(!a.url)return void this.$message.warning("请输入自定义链接");break;case"page":if(!a.name)return void this.$message.warning("请选择微页面");break}this.$refs.dialog.close(),this.$emit("input",this.link)}},{key:"handleClear",value:function(){this.$emit("input",{})}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])({default:function(){return{}}})],ue.prototype,"value",void 0),Object(o["a"])([Object(u["c"])({default:!1})],ue.prototype,"disabled",void 0),Object(o["a"])([Object(u["c"])({default:"mobile"})],ue.prototype,"client",void 0),Object(o["a"])([Object(u["f"])("value",{immediate:!0})],ue.prototype,"valueChange",null),ue=Object(o["a"])([Object(u["a"])({components:{LsDialog:p["a"],Detail:oe}})],ue);var pe=ue,de=pe,me=(a("7743"),Object(w["a"])(de,i,n,!1,null,"619aaa3e",null));t["a"]=me.exports},"31d6":function(e,t,a){},"50ff":function(e,t,a){"use strict";a("9e73")},"54e5":function(e,t,a){},"568b":function(e,t,a){"use strict";a("31d6")},6576:function(e,t,a){"use strict";a("deba")},7743:function(e,t,a){"use strict";a("54e5")},"857a":function(e,t,a){var i=a("1d80"),n=/"/g;e.exports=function(e,t,a,s){var l=String(i(e)),r="<"+t;return""!==a&&(r+=" "+a+'="'+String(s).replace(n,"&quot;")+'"'),r+">"+l+"</"+t+">"}},9022:function(e,t,a){},9911:function(e,t,a){"use strict";var i=a("23e7"),n=a("857a"),s=a("af03");i({target:"String",proto:!0,forced:s("link")},{link:function(e){return n(this,"a","href",e)}})},"9e73":function(e,t,a){},a92d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail",staticStyle:{height:"475px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGoods,expression:"!showGoods"}],staticClass:"activity-lists"},[a("div",{staticClass:"flex m-b-20"},[a("div",{staticClass:"m-r-10"},[e._v("活动搜索")]),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入活动名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"},on:{"cell-click":e.handleCellClick}},[a("el-table-column",{attrs:{label:"活动名称",prop:"name"}}),a("el-table-column",{attrs:{label:"活动状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-tag",{attrs:{size:"medium",type:"danger"}},[e._v(e._s(t.row.status_text))]):2==t.row.status?a("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(t.row.status_text))]):a("el-tag",{attrs:{size:"medium",type:"info"}},[e._v(e._s(t.row.status_text))])]}}])}),a("el-table-column",{attrs:{label:"商品数量",prop:"goods_num"}}),a("el-table-column",{attrs:{label:"活动时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.start_time)+" ~ "+e._s(t.row.end_time)+" ")]}}])})],1),a("div",{staticClass:"flex row-right m-t-20"},[a("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showGoods,expression:"showGoods"}],staticClass:"goods-list"},[a("div",{staticClass:"flex m-b-20"},[a("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:function(t){e.showGoods=!1}}},[e._v("返回")]),a("div",{staticClass:"m-r-10 m-l-20"},[e._v("商品搜索")]),a("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入商品名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGoodsList.apply(null,arguments)}},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getGoodsList},slot:"append"})],1)],1),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.goodsLists,height:"420px",size:"mini"},on:{"selection-change":e.handleSelect}},[e.single?a("el-table-column",{attrs:{width:"45",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{value:t.row.id==e.value.id},on:{change:function(a){return e.selectChange(a,t.row)}}})]}}],null,!1,2281051103)}):a("el-table-column",{attrs:{width:"45",type:"selection"}}),a("el-table-column",{attrs:{label:"商品信息","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex"},[a("el-image",{staticClass:"flex-none",staticStyle:{width:"58px",height:"58px"},attrs:{src:t.row.image,fit:"cover"}}),a("div",{staticClass:"goods-info m-l-8"},[a("div",{staticClass:"line-2"},[e._v(e._s(t.row.name))])])],1)]}}])}),a("el-table-column",{attrs:{label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ￥"+e._s(t.row.min_activity_price)+" "),t.row.min_activity_price!=t.row.max_activity_price?a("span",[e._v(" ~ "+e._s(t.row.max_activity_price))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"商品库存",prop:"total_stock"}})],1)],1)])},n=[],s=a("d4ec"),l=a("bee2"),r=a("262e"),c=a("2caf"),o=(a("b0c0"),a("9ab4")),u=a("1b40"),p=a("3c50"),d=a("6ddb"),m=a("b99a"),f=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.name="",e.goodsName="",e.activeId="",e.pager=new d["a"],e.showGoods=!1,e.goodsLists=[],e}return Object(l["a"])(a,[{key:"selectData",get:function(){return this.value},set:function(e){this.$emit("input",e)}},{key:"visibleChange",value:function(e){e.val?this.getList():(this.showGoods=!1,this.name="",this.goodsLists=[])}},{key:"getList",value:function(e){e&&(this.pager.page=e),this.pager.request({callback:m["b"],params:{keyword:this.name,type:this.type}}).then((function(e){}))}},{key:"getGoodsList",value:function(){var e=this;Object(m["c"])({keyword:this.goodsName,type:this.type,activity_id:this.activeId}).then((function(t){e.goodsLists=t}))}},{key:"handleCellClick",value:function(e){this.goodsName="",this.showGoods=!0,this.goodsLists=[],this.activeId=e.id,this.getGoodsList()}},{key:"handleSelect",value:function(e){this.selectData=e}},{key:"selectChange",value:function(e,t){this.selectData=e?t:{}}}]),a}(u["e"]);Object(o["a"])([Object(u["b"])("visible")],f.prototype,"visible",void 0),Object(o["a"])([Object(u["c"])()],f.prototype,"value",void 0),Object(o["a"])([Object(u["c"])()],f.prototype,"type",void 0),Object(o["a"])([Object(u["c"])({default:!1})],f.prototype,"single",void 0),Object(o["a"])([Object(u["f"])("visible",{deep:!0,immediate:!0})],f.prototype,"visibleChange",null),f=Object(o["a"])([Object(u["a"])({components:{LsPagination:p["a"]}})],f);var h=f,g=h,v=(a("6576"),a("2877")),b=Object(v["a"])(g,i,n,!1,null,"74af0ce0",null);t["a"]=b.exports},af03:function(e,t,a){var i=a("d039");e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b3ad:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+e.tipsText,width:"1050px",top:"15vh"},on:{confirm:e.handleConfirm}},[e.hiddenTrigger?e._e():a("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(e){e.stopPropagation()}},slot:"trigger"},[a("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:e.disabled||e.dragDisabled},on:{update:e.handleChange},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},e._l(e.fileList,(function(t,i){return a("div",{key:t+i,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":e.disabled,"is-one":1==e.limit},on:{click:function(t){return e.showDialog(!1,i)}}},[e.$scopedSlots.preview?a("div",[e._t("preview",null,{item:e.imageUri(t)})],2):a("file-item",{attrs:{type:e.type,item:{uri:e.imageUri(t)},size:e.size}}),e.enableDelete?a("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(t){return t.stopPropagation(),e.delImage(i)}}}):e._e()],1)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":e.disabled,"is-one":1==e.limit},on:{click:function(t){return e.showDialog(!0)}}},[e.$slots.upload?a("div",[e._t("upload")],2):a("div",{staticClass:"upload-btn flex row-center",style:{width:e.size+"px",height:e.size+"px",background:e.uploadBg}},[e._t("default"),e.$slots.default?e._e():a("span",[e._v("添加"+e._s(e.tipsText))])],2)])],1),a("div",{staticClass:"material-wrap"},[a("ls-material",{ref:"material",attrs:{"page-size":15,type:e.type,limit:e.meterialLimit},on:{change:e.selectChange}})],1)])},n=[],s=a("d4ec"),l=a("bee2"),r=a("262e"),c=a("2caf"),o=(a("d81d"),a("a434"),a("99af"),a("9ab4")),u=a("1b40"),p=a("0a6d"),d=a("c6fe"),m=a("e915"),f=a("b76a"),h=a.n(f),g=function(e){Object(r["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.isAdd=!0,e.fileList=[],e}return Object(l["a"])(a,[{key:"showUpload",get:function(){var e=this.fileList,t=this.limit;return t-e.length>0}},{key:"meterialLimit",get:function(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}},{key:"tipsText",get:function(){switch(this.type){case"image":return"图片";case"video":return"视频"}}},{key:"imageUri",get:function(){var e=this;return function(t){return e.enableDomain?t:e.$getImageUri(t)}}},{key:"valueChange",value:function(e){this.fileList=Array.isArray(e)?e:""==e?[]:[e]}},{key:"showDialog",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1?arguments[1]:void 0;this.disabled||(this.isAdd=t,void 0!==a&&(this.currentIndex=a),null===(e=this.$refs.materialDialog)||void 0===e||e.onTrigger())}},{key:"selectChange",value:function(e){this.select=e}},{key:"handleConfirm",value:function(){var e=this;this.$refs.material.clearSelectList();var t=this.select.map((function(t){return e.enableDomain?t.uri:t.url}));this.isAdd?this.fileList=this.fileList.concat(t):this.fileList.splice(this.currentIndex,1,t.shift()),this.handleChange()}},{key:"delImage",value:function(e){this.fileList.splice(e,1),this.handleChange()}},{key:"handleChange",value:function(){var e=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",e),this.$emit("change",e),this.fileList=[]}}]),a}(u["e"]);Object(o["a"])([Object(u["c"])({default:function(){return[]}})],g.prototype,"value",void 0),Object(o["a"])([Object(u["c"])({default:1})],g.prototype,"limit",void 0),Object(o["a"])([Object(u["c"])({default:"100"})],g.prototype,"size",void 0),Object(o["a"])([Object(u["c"])({default:!1})],g.prototype,"disabled",void 0),Object(o["a"])([Object(u["c"])({default:!1})],g.prototype,"dragDisabled",void 0),Object(o["a"])([Object(u["c"])({default:!1})],g.prototype,"hiddenTrigger",void 0),Object(o["a"])([Object(u["c"])({default:"image"})],g.prototype,"type",void 0),Object(o["a"])([Object(u["c"])({default:"transparent"})],g.prototype,"uploadBg",void 0),Object(o["a"])([Object(u["c"])({default:!0})],g.prototype,"enableDomain",void 0),Object(o["a"])([Object(u["c"])({default:!0})],g.prototype,"enableDelete",void 0),Object(o["a"])([Object(u["f"])("value",{immediate:!0})],g.prototype,"valueChange",null),g=Object(o["a"])([Object(u["a"])({components:{LsDialog:p["a"],LsMaterial:d["a"],Draggable:h.a,FileItem:m["a"]}})],g);var v=g,b=v,y=(a("568b"),a("2877")),k=Object(y["a"])(b,i,n,!1,null,"1503bff6",null);t["a"]=k.exports},b99a:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));var i=a("f175"),n=function(){return i["a"].get("/config/getMarketingModule")},s=function(){return i["a"].get("/config/getAppModule")},l=function(e){return i["a"].get("/common/activity",{params:e})},r=function(e){return i["a"].get("/common/activityGoods",{params:e})}},deba:function(e,t,a){}}]);
//# sourceMappingURL=chunk-11606fce.76d3fb19.js.map