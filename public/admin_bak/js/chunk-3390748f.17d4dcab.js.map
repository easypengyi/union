{"version":3,"sources":["webpack:///./src/views/marketing/live_broadcast/edit.vue?350a","webpack:///./src/components/live-broadcast/live-upload.vue?08fb","webpack:///./src/components/live-broadcast/live-upload.vue?a3d3","webpack:///./src/components/live-broadcast/live-upload.vue?32b0","webpack:///./src/components/live-broadcast/live-upload.vue","webpack:///./src/views/marketing/live_broadcast/edit.vue?88b0","webpack:///./src/views/marketing/live_broadcast/edit.vue?a82c","webpack:///./src/views/marketing/live_broadcast/edit.vue","webpack:///./src/components/material-select/index.vue?2866","webpack:///./src/api/marketing/live_broadcast.ts","webpack:///./src/components/material-select/index.vue?f4e8","webpack:///./src/components/material-select/index.vue?553c","webpack:///./src/components/material-select/index.vue?304a","webpack:///./src/components/material-select/index.vue","webpack:///./src/views/marketing/live_broadcast/edit.vue?0270","webpack:///./src/components/live-broadcast/live-upload.vue?10af"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","mode","on","$event","$router","go","ref","formRules","form","model","value","callback","$$v","$set","expression","_v","pickerOptions","start","end","setShareImg","setFeedsImg","setCoverImg","staticStyle","onSubmit","staticRenderFns","class","ishide","action","token","$store","getters","version","handleRemove","handleSuccess","handleExceed","handleError","config","baseURL","file","fileList","console","log","response","$emit","data","media_id","err","$message","error","name","components","component","shortcuts","text","onClick","picker","Date","date","setTime","getTime","type","start_time","end_time","anchor_name","anchor_wechat","cover_img","share_img","feeds_img","is_feeds_public","close_like","close_goods","close_comment","close_replay","close_share","close_kf","required","message","trigger","val","$refs","formRef","validate","valid","liveRoomAdd","dateStart","dateEnd","then","res","setTimeout","catch","MaterialSelect","LiveUpload","apiLiveRoomLists","params","get","apiLiveRoomAdd","post","apiLiveRoomDel","apiLiveGoodsLists","apiLiveGoodsAdd","apiLiveGoodsDel","tipsText","handleConfirm","hiddenTrigger","_e","stopPropagation","slot","disabled","dragDisabled","handleChange","_l","item","index","key","limit","showDialog","$scopedSlots","_t","imageUri","uri","size","delImage","directives","rawName","$slots","style","width","height","background","uploadBg","default","_s","meterialLimit","selectChange","isAdd","length","enableDomain","$getImageUri","Array","isArray","undefined","currentIndex","materialDialog","onTrigger","select","material","clearSelectList","selectUri","map","url","concat","splice","shift","valueImg","immediate","LsDialog","LsMaterial","Draggable","FileItem"],"mappings":"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","file":"js/chunk-3390748f.17d4dcab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-broadcast-edit\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":_vm.mode === 'add'?'新建直播间':''},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('el-form',{ref:\"formRef\",attrs:{\"rules\":_vm.formRules,\"model\":_vm.form,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('div',{staticClass:\"ls-card m-t-16\"},[_c('div',{staticClass:\"card-content m-t-24\"},[_c('el-form-item',{attrs:{\"label\":\"直播间标题\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入直播标题\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"直播类型\",\"prop\":\"type\"}},[_c('el-radio-group',{staticClass:\"m-r-16\",model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-radio',{staticClass:\"m-r-16\",attrs:{\"label\":0}},[_vm._v(\"手机直播\")])],1),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 通过“小程序直播/推流设备”开播 \")])],1),_c('el-form-item',{attrs:{\"label\":\"开播时间\",\"prop\":\"\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions,\"type\":\"datetime\",\"placeholder\":\"请输入开播时间\",\"align\":\"right\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.start),callback:function ($$v) {_vm.start=$$v},expression:\"start\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 填写直播开始时间，开播时间需要在当前时间的10分钟后并且不能在6个月后 \")])],1),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions,\"type\":\"datetime\",\"placeholder\":\"请输入结束时间\",\"align\":\"right\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.end),callback:function ($$v) {_vm.end=$$v},expression:\"end\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 开播时间和结束时间间隔不得短于30分钟，不得超过24小时 \")])],1),_c('el-form-item',{attrs:{\"label\":\"主播昵称\",\"prop\":\"anchor_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主播昵称\"},model:{value:(_vm.form.anchor_name),callback:function ($$v) {_vm.$set(_vm.form, \"anchor_name\", $$v)},expression:\"form.anchor_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"主播微信号\",\"prop\":\"anchor_wechat\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主播微信号\"},model:{value:(_vm.form.anchor_wechat),callback:function ($$v) {_vm.$set(_vm.form, \"anchor_wechat\", $$v)},expression:\"form.anchor_wechat\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 每个直播间需要绑定主播微信号身份，用以核实主播身份，不会展示给观众。 \")])],1),_c('el-form-item',{attrs:{\"label\":\"分享卡片封面\",\"prop\":\"share_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setShareImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"用户在微信对话框内分享的直播间将以分享卡片的形式呈现。\")]),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"建议尺寸：800像素 * 640像素，图片大小不得超过1M。\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播卡片封面\",\"prop\":\"feeds_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setFeedsImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"图片建议大小为 800像素 * 800像素。图片大小不超过300KB。\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播间背景墙\",\"prop\":\"cover_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setCoverImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"直播间背景墙是每个直播间的默认背景。 建议尺寸：600像素 * 1300像素，图片大小不得超过3M\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播间功能\",\"prop\":\"\"}},[_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_like),callback:function ($$v) {_vm.$set(_vm.form, \"close_like\", $$v)},expression:\"form.close_like\"}},[_vm._v(\"开启点赞\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_goods),callback:function ($$v) {_vm.$set(_vm.form, \"close_goods\", $$v)},expression:\"form.close_goods\"}},[_vm._v(\"开启货架\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_comment),callback:function ($$v) {_vm.$set(_vm.form, \"close_comment\", $$v)},expression:\"form.close_comment\"}},[_vm._v(\"开启评论\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_replay),callback:function ($$v) {_vm.$set(_vm.form, \"close_replay\", $$v)},expression:\"form.close_replay\"}},[_vm._v(\"开启回放\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_share),callback:function ($$v) {_vm.$set(_vm.form, \"close_share\", $$v)},expression:\"form.close_share\"}},[_vm._v(\"开启分享\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_kf),callback:function ($$v) {_vm.$set(_vm.form, \"close_kf\", $$v)},expression:\"form.close_kf\"}},[_vm._v(\"开启客服\")]),_c('el-checkbox',{attrs:{\"true-label\":1,\"false-label\":0},model:{value:(_vm.form.is_feeds_public),callback:function ($$v) {_vm.$set(_vm.form, \"is_feeds_public\", $$v)},expression:\"form.is_feeds_public\"}},[_vm._v(\"开启官方收录 \")])],1)],1)])]),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit()}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-upload',{class:_vm.ishide ? 'hide':'',attrs:{\"action\":_vm.action,\"headers\":{token: _vm.$store.getters.token, version: _vm.version},\"list-type\":\"picture-card\",\"limit\":1,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"on-error\":_vm.handleError}},[_c('i',{staticClass:\"el-icon-plus\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport {\n\tComponent,\n\tVue,\n\tProp\n} from \"vue-property-decorator\";\nimport config from '@/config'\n@Component({\n\tcomponents: {\n\t},\n})\nexport default class LsUpload extends Vue {\n\t\n\t// @Prop() value ? : string // imgUrl\n\t\n\taction = `${config.baseURL}/adminapi/upload/wechatMaterial`\n\tversion = config.version\n\tishide = false\n\t\n\thandleRemove(file: any, fileList: any) {\n\t\tconsole.log('删除成功', file, fileList);\n\t\tthis.ishide = false\n\t}\n\thandleSuccess(response: any, file: any, fileList: any[]) {\n\t\tthis.$emit('setImage', response.data.media_id)\n\t\tconsole.log('上传成功', response)\n\t\tthis.ishide = true\n\t}\n\thandleError(err: any, file: any) {\n\t\tthis.$message.error(`${file.name}文件上传失败`)\n\t}\n\thandleExceed() {\n\t\tthis.$message.error(\"超出上传上限，请重新上传\")\n\t}\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./live-upload.vue?vue&type=template&id=4d6cc57c&scoped=true&\"\nimport script from \"./live-upload.vue?vue&type=script&lang=ts&\"\nexport * from \"./live-upload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./live-upload.vue?vue&type=style&index=0&id=4d6cc57c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d6cc57c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n\tComponent,\n\tVue,\n\tWatch,\n} from \"vue-property-decorator\";\nimport {\n\tPageMode\n} from '@/utils/type'\nimport MaterialSelect from '@/components/material-select/index.vue'\nimport LiveUpload from '@/components/live-broadcast/live-upload.vue'\nimport {\n\tapiLiveRoomAdd\n} from \"@/api/marketing/live_broadcast\"\n@Component({\n\tcomponents: {\n\t\tMaterialSelect,\n\t\tLiveUpload,\n\t},\n})\nexport default class LiveBroadcastEdit extends Vue {\n\n\tpickerOptions = {\n\t\tshortcuts: [{\n\t\t\ttext: '今天',\n\t\t\tonClick(picker: any) {\n\t\t\t\tpicker.$emit('pick', new Date());\n\t\t\t}\n\t\t}, {\n\t\t\ttext: '昨天',\n\t\t\tonClick(picker: any) {\n\t\t\t\tconst date = new Date();\n\t\t\t\tdate.setTime(date.getTime() - 3600 * 1000 * 24);\n\t\t\t\tpicker.$emit('pick', date);\n\t\t\t}\n\t\t}, {\n\t\t\ttext: '一周前',\n\t\t\tonClick(picker: any) {\n\t\t\t\tconst date = new Date();\n\t\t\t\tdate.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n\t\t\t\tpicker.$emit('pick', date);\n\t\t\t}\n\t\t}]\n\t}\n\n\tmode: string = PageMode['ADD'] // 当前页面【add: 添加 | edit: 编辑】\n\n\tform = {\n\t\ttype: 0, //【1: 推流，0：手机直播】\n\t\tname: '', // 直播间名称\n\t\tstart_time: 0, // 直播开始时间\n\t\tend_time: 0, // 直播结束时间\n\t\tanchor_name: '', // 主播名称\n\t\tanchor_wechat: '', // 主播微信号 wapftp\n\t\t// sub_anchor_wechat: 'wapftp', // 主播副号微信号\n\t\tcover_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 背景图（调用上传素材接口， 拿返回的media_id）\n\t\tshare_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 分享图（调用上传素材接口， 拿返回的media_id）\n\t\tfeeds_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 购物直播频道封面图（调用上传素材接口， 拿返回的media_id）\n\t\tis_feeds_public: 0, // 是否开启官方收录 【1: 开启，0：关闭】，默认开启收录\n\t\tclose_like: 0, // 是否关闭点赞 【0：开启，1：关闭】（若关闭，观众端将隐藏点赞按钮，直播开始后不允许开启）\n\t\tclose_goods: 0, // 是否关闭货架 【0：开启，1：关闭】（若关闭，观众端将隐藏商品货架，直播开始后不允许开启）\n\t\tclose_comment: 0, // 是否关闭评论 【0：开启，1：关闭】（若关闭，观众端将隐藏评论入口，直播开始后不允许开启）\n\t\tclose_replay: 0, // 是否关闭回放 【0：开启，1：关闭】默认关闭回放（直播开始后允许开启）\n\t\tclose_share: 0, // 是否关闭分享 【0：开启，1：关闭】默认开启分享（直播开始后不允许修改）\n\t\tclose_kf: 0, // 是否关闭客服 【0：开启，1：关闭】 默认关闭客服（直播开始后允许开启）\t\n\t}\n\t\n\tstart = '' // 直播开始时间\n\tend = '' // 直播结束时间\n\n\tformRules = {\n\t\ttype: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择直播类型',\n\t\t\ttrigger: 'change'\n\t\t}],\n\t\tname: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入直播标题',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tstart_time: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择直播开始时间',\n\t\t\ttrigger: 'change'\n\t\t}],\n\t\tend_time: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择直播结束时间',\n\t\t\ttrigger: 'change'\n\t\t}],\n\t\tanchor_name: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入主播昵称',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tanchor_wechat: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请输入主播微信号',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tcover_img: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择直播间背景墙图片',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tshare_img: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择分享卡片封面图片',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t\tfeeds_img: [{\n\t\t\trequired: true,\n\t\t\tmessage: '请选择直播卡片封面图片',\n\t\t\ttrigger: 'blur'\n\t\t}],\n\t}\n\t$refs!: {\n\t\tformRef: any\n\t}\n\n\tsetCoverImg(val: any) {\n\t\tthis.form.cover_img = val\n\t}\n\tsetShareImg(val: any) {\n\t\tthis.form.share_img = val\n\t}\n\tsetFeedsImg(val: any) {\n\t\tthis.form.feeds_img = val\n\t}\n\n\t// 表单提交\n\tonSubmit() {\n\t\t// 验证表单格式是否正确\n\t\tthis.$refs.formRef.validate((valid: boolean): any => {\n\t\t\tif (!valid) return;\n\n\n\t\t\tconsole.log('发送请求')\n\t\t\t// 请求发送\n\t\t\t// switch (this.mode) {\n\t\t\t// \tcase PageMode['ADD']:\n\t\t\t// \t\treturn this.handleUserLabelAdd()\n\t\t\t// \tcase PageMode['EDIT']:\n\t\t\t// \t\treturn this.handleUserLabelEdit()\n\t\t\t// }\n\t\t\tthis.liveRoomAdd()\n\t\t})\n\t}\n\n\t// 创建直播间\n\tliveRoomAdd() {\n\t\tlet dateStart = new Date(this.start)\n\t\tthis.form.start_time = dateStart.getTime()/1000\n\t\tlet dateEnd = new Date(this.end)\n\t\tthis.form.end_time = dateEnd.getTime()/1000\n\t\t\n\t\tapiLiveRoomAdd(this.form)\n\t\t\t.then((res: any) => {\n\t\t\t\tsetTimeout(() => this.$router.go(-1), 500)\n\t\t\t})\n\t\t\t.catch((err: any) => {\n\t\t\t\tconsole.log('err:', err)\n\t\t\t})\n\t}\n\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=0428d5db&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=0428d5db&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0428d5db\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1503bff6&scoped=true&lang=scss&\"","import request from '@/plugins/axios'\n\n// 直播间列表\nexport const apiLiveRoomLists = (params: any) => request.get('/live.LiveRoom/lists', {params})\n\n// 创建直播间\nexport const apiLiveRoomAdd = (params: any) => request.post('/live.LiveRoom/add', params)\n\n// 删除直播间\nexport const apiLiveRoomDel = (params: any) => request.post('/live.LiveRoom/del', params)\n\n// 上传素材\nexport const apiLiveRoomUploadMaterial = (params: any) => request.post('/live.LiveRoom/uploadMaterial', params)\n\n// 直播商品列表\nexport const apiLiveGoodsLists = (params: any) => request.get('/live.LiveGoods/lists', {params})\n\n// 添加直播商品\nexport const apiLiveGoodsAdd = (params: any) => request.post('/live.LiveGoods/add', params)\n\n// 删除直播商品\nexport const apiLiveGoodsDel = (params: any) => request.post('/live.LiveGoods/del', params)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ls-dialog',{ref:\"materialDialog\",staticClass:\"material-select\",attrs:{\"title\":(\"选择\" + _vm.tipsText),\"width\":\"1050px\",\"top\":\"15vh\"},on:{\"confirm\":_vm.handleConfirm}},[(!_vm.hiddenTrigger)?_c('div',{staticClass:\"material-select__trigger clearfix\",attrs:{\"slot\":\"trigger\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"trigger\"},[_c('draggable',{staticClass:\"ls-draggable\",attrs:{\"animation\":\"300\",\"disabled\":_vm.disabled || _vm.dragDisabled},on:{\"update\":_vm.handleChange},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:item + index,staticClass:\"material-preview ls-del-wrap\",class:{ 'is-disabled': _vm.disabled, 'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(false, index)}}},[(_vm.$scopedSlots.preview)?_c('div',[_vm._t(\"preview\",null,{\"item\":_vm.imageUri(item)})],2):_c('file-item',{attrs:{\"type\":_vm.type,\"item\":{ uri: _vm.imageUri(item)},\"size\":_vm.size}}),(_vm.enableDelete)?_c('i',{staticClass:\"el-icon-close ls-icon-del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delImage(index)}}}):_vm._e()],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],staticClass:\"material-upload\",class:{ 'is-disabled': _vm.disabled,  'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(true)}}},[(_vm.$slots.upload)?_c('div',[_vm._t(\"upload\")],2):_c('div',{staticClass:\"upload-btn flex row-center\",style:({ width: (_vm.size + \"px\"), height: (_vm.size + \"px\"), background: _vm.uploadBg})},[_vm._t(\"default\"),(!_vm.$slots.default)?_c('span',[_vm._v(\"添加\"+_vm._s(_vm.tipsText))]):_vm._e()],2)])],1):_vm._e(),_c('div',{staticClass:\"material-wrap\"},[_c('ls-material',{ref:\"material\",attrs:{\"page-size\":15,\"type\":_vm.type,\"limit\":_vm.meterialLimit},on:{\"change\":_vm.selectChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport LsDialog from '@/components/ls-dialog.vue'\nimport LsMaterial from './material.vue'\nimport FileItem from './file-item.vue'\nimport Draggable from 'vuedraggable'\n\n@Component({\n    components: {\n        LsDialog,\n        LsMaterial,\n        Draggable,\n        FileItem,\n    },\n})\nexport default class MediaSelect extends Vue {\n    $refs!: { materialDialog: any; material: any }\n    select!: any[]\n    currentIndex!: number\n    // 双向数据绑定的值\n    @Prop({ default: () => [] }) value!: [] | string\n    // 图片张数限制\n    @Prop({ default: 1 }) limit!: number \n    @Prop({ default: '100' }) size!: string\n    @Prop({ default: false }) disabled!: boolean //禁用图片选择\n    @Prop({ default: false }) dragDisabled!: boolean //禁用图片拖拽\n    @Prop({ default: false }) hiddenTrigger!: boolean //是否隐藏\n    @Prop({ default: 'image' }) type!: 'image' | 'video' //是否隐藏\n    @Prop({ default: 'transparent' }) uploadBg!: string\n    @Prop({ default: true }) enableDomain!: boolean\n    @Prop({ default: true }) enableDelete!: boolean\n    isAdd = true\n    fileList: any[] = []\n\n    get showUpload() {\n        const { fileList, limit } = this\n        return limit - fileList.length > 0\n    }\n\n    get meterialLimit() {\n        if (!this.isAdd) {\n            return 1\n        }\n        if(!this.limit ) return null\n        return this.limit - this.fileList.length\n    }\n\n    get tipsText() {\n        switch (this.type) {\n            case 'image':\n                return '图片'\n            case 'video':\n                return '视频'\n        }\n    }\n    get imageUri() {\n        return (item: string) => {\n            return this.enableDomain ? item :  this.$getImageUri(item) \n        }\n    }\n    @Watch('value', { immediate: true })\n    valueChange(val: any[] | string) {\n        this.fileList = Array.isArray(val) ? val : val == '' ? [] : [val]\n    }\n    showDialog(isAdd: boolean = true, index: number) {\n        if (this.disabled) return\n        this.isAdd = isAdd\n        if (index !== undefined) {\n            this.currentIndex = index\n        }\n        this.$refs.materialDialog?.onTrigger()\n    }\n    selectChange(val: any[]) {\n        this.select = val\n    }\n    handleConfirm() {\n        this.$refs.material.clearSelectList()\n        const selectUri = this.select.map((item) => this.enableDomain ? item.uri : item.url)\n        if (!this.isAdd) {\n            this.fileList.splice(this.currentIndex, 1, selectUri.shift())\n        } else {\n            this.fileList = this.fileList.concat(selectUri)\n        }\n        this.handleChange()\n    }\n\n    delImage(index: number) {\n        this.fileList.splice(index, 1)\n        this.handleChange()\n    }\n    handleChange() {\n        const valueImg =\n            this.limit != 1 ? this.fileList : this.fileList[0] || ''\n        this.$emit('input', valueImg)\n        this.$emit('change', valueImg)\n        this.fileList = []\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1503bff6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1503bff6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1503bff6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=0428d5db&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=style&index=0&id=4d6cc57c&lang=scss&scoped=true&\""],"sourceRoot":""}