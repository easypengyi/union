(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f3e75be"],{"14c6":function(t,e,o){"use strict";o.d(e,"n",(function(){return n})),o.d(e,"x",(function(){return a})),o.d(e,"y",(function(){return s})),o.d(e,"u",(function(){return r})),o.d(e,"C",(function(){return d})),o.d(e,"v",(function(){return l})),o.d(e,"B",(function(){return u})),o.d(e,"w",(function(){return c})),o.d(e,"z",(function(){return f})),o.d(e,"A",(function(){return g})),o.d(e,"a",(function(){return p})),o.d(e,"e",(function(){return m})),o.d(e,"f",(function(){return h})),o.d(e,"b",(function(){return b})),o.d(e,"c",(function(){return v})),o.d(e,"d",(function(){return _})),o.d(e,"E",(function(){return y})),o.d(e,"H",(function(){return j})),o.d(e,"F",(function(){return O})),o.d(e,"G",(function(){return w})),o.d(e,"D",(function(){return k})),o.d(e,"L",(function(){return C})),o.d(e,"I",(function(){return L})),o.d(e,"J",(function(){return x})),o.d(e,"K",(function(){return $})),o.d(e,"g",(function(){return D})),o.d(e,"l",(function(){return P})),o.d(e,"h",(function(){return z})),o.d(e,"m",(function(){return S})),o.d(e,"i",(function(){return q})),o.d(e,"k",(function(){return A})),o.d(e,"j",(function(){return I})),o.d(e,"M",(function(){return U})),o.d(e,"P",(function(){return T})),o.d(e,"N",(function(){return E})),o.d(e,"O",(function(){return B})),o.d(e,"r",(function(){return J})),o.d(e,"q",(function(){return M})),o.d(e,"s",(function(){return N})),o.d(e,"t",(function(){return F})),o.d(e,"p",(function(){return G})),o.d(e,"o",(function(){return H}));var i=o("f175"),n=function(t){return i["a"].post("/goods.goods/add",t)},a=function(t){return i["a"].post("/goods.goods/edit",t)},s=function(t){return i["a"].get("/goods.goods/lists",{params:t})},r=function(t){return i["a"].get("/goods.goods/commonLists",{params:t})},d=function(t){return i["a"].post("/goods.goods/status",t)},l=function(t){return i["a"].post("/goods.goods/del",t)},u=function(t){return i["a"].post("/goods.goods/sort",t)},c=function(t){return i["a"].get("/goods.goods/detail",{params:{id:t}})},f=function(t){return i["a"].get("/goods.goods/otherList",{params:t})},g=function(t){return i["a"].post("goods.goods/rename ",t)},p=function(t){return i["a"].post("/goods.goods_brand/add",t)},m=function(t){return i["a"].get("/goods.goods_brand/lists",{params:t})},h=function(t){return i["a"].post("/goods.goods_brand/status",t)},b=function(t){return i["a"].post("/goods.goods_brand/del",t)},v=function(t){return i["a"].get("/goods.goods_brand/detail",{params:{id:t}})},_=function(t){return i["a"].post("/goods.goods_brand/edit",t)},y=function(t){return i["a"].post("/goods.goods_supplier_category/add",t)},j=function(t){return i["a"].get("goods.goods_supplier_category/lists",{params:t})},O=function(t){return i["a"].post("goods.goods_supplier_category/del",{id:t})},w=function(t){return i["a"].post("goods.goods_supplier_category/edit",t)},k=function(t){return i["a"].post("/goods.goods_supplier/add",t)},C=function(t){return i["a"].get("/goods.goods_supplier/lists",{params:t})},L=function(t){return i["a"].post("goods.goods_supplier/del",{id:t})},x=function(t){return i["a"].get("/goods.goods_supplier/detail",{params:{id:t}})},$=function(t){return i["a"].post("/goods.goods_supplier/edit",t)},D=function(t){return i["a"].post("/goods.goods_category/add",t)},P=function(t){return i["a"].get("/goods.goods_category/lists",{params:t})},z=function(t){return i["a"].get("/goods.goods_category/commonLists",{params:t})},S=function(t){return i["a"].post("/goods.goods_category/status",t)},q=function(t){return i["a"].post("goods.goods_category/del",{id:t})},A=function(t){return i["a"].post("/goods.goods_category/edit",t)},I=function(t){return i["a"].get("/goods.goods_category/detail",{params:{id:t}})},U=function(t){return i["a"].post("/goods.goods_unit/add",t)},T=function(t){return i["a"].get("/goods.goods_unit/lists",{params:t})},E=function(t){return i["a"].post("goods.goods_unit/del",{id:t})},B=function(t){return i["a"].post("/goods.goods_unit/edit",t)},J=function(t){return i["a"].get("goods.goods_comment/lists",{params:t})},M=function(t){return i["a"].post("goods.goods_comment/del",t)},N=function(t){return i["a"].post("goods.goods_comment/reply",t)},F=function(t){return i["a"].post("/goods.goods_comment/status",t)},G=function(t){return i["a"].get("goods.goods_comment_assistant/lists",{params:t})},H=function(t){return i["a"].post("goods.goods_comment_assistant/add",t)}},"1e54":function(t,e,o){"use strict";o("6fd1")},"31d6":function(t,e,o){},"375e":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ls-category-edit"},[o("div",{staticClass:"ls-card category-edit__header"},[o("el-page-header",{attrs:{content:t.id?"编辑分类":"新增分类"},on:{back:function(e){return t.$router.go(-1)}}})],1),o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",size:"small",rules:t.rules}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ls-card category-edit__base m-t-16"},[o("div",{staticClass:"nr weight-500 m-b-20"},[t._v("基础信息")]),o("el-form-item",{attrs:{label:"分类名称",prop:"name",required:""}},[o("el-input",{staticClass:"ls-input",attrs:{maxlength:"8","show-word-limit":"",placeholder:"请输入分类名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"父级分类",required:""}},[o("el-radio-group",{staticClass:"m-r-16",model:{value:t.hasPid,callback:function(e){t.hasPid=e},expression:"hasPid"}},[o("el-radio",{attrs:{label:0}},[t._v("无父级分类")]),o("el-radio",{attrs:{label:1}},[t._v("有父级分类")])],1),o("el-alert",{staticClass:"ls-tips",attrs:{title:"选择无上级分类，则表明此分类为一级分类；选择有上级分类，则表明此分类为选中分类的子分类",type:"warning",closable:!1}})],1),1==t.hasPid?o("el-form-item",{attrs:{label:"",required:""}},[o("el-cascader",{attrs:{options:t.categoryList,props:{checkStrictly:!0,value:"id",label:"name",children:"sons",emitPath:!1},clearable:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return n.level<=2?[o("span",[t._v(t._s(n.name))]),i.isLeaf?t._e():o("span",[t._v(" ("+t._s(n.sons.length)+") ")])]:void 0}}],null,!0),model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}})],1):t._e(),o("el-form-item",{attrs:{label:"分类图标",prop:"image",required:""}},[o("material-select",{attrs:{limit:1},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),o("div",{staticClass:"muted xs"},[t._v("建议尺寸：宽200像素*高200像素的jpg，jpeg，png图片")])],1),o("el-form-item",{attrs:{label:"排序"}},[o("el-input",{staticStyle:{width:"220px"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}}),o("div",{staticClass:"muted xs"},[t._v("排序值必须为整数；数值越小，越靠前")])],1),o("el-form-item",{attrs:{label:"是否显示"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}})],1)],1)]),o("div",{staticClass:"category-edit__footer bg-white ls-fixed-footer"},[o("div",{staticClass:"btns row-center flex",staticStyle:{height:"100%"}},[o("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSave}},[t._v("保存")])],1)])],1)},n=[],a=o("d4ec"),s=o("bee2"),r=o("262e"),d=o("2caf"),l=(o("159b"),o("9ab4")),u=o("1b40"),c=o("b3ad"),f=o("14c6"),g=function(t){Object(r["a"])(o,t);var e=Object(d["a"])(o);function o(){var t;return Object(a["a"])(this,o),t=e.apply(this,arguments),t.loading=!1,t.hasPid=0,t.categoryList=[],t.form={name:"",pid:"",image:"",sort:"",is_show:1,is_recommend:0},t.rules={name:[{required:!0,message:"请输入分类名称",trigger:["blur","change"]}],image:[{required:!0,message:"请选择分类图标",trigger:["blur","change"]}]},t}return Object(s["a"])(o,[{key:"handleSave",value:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.hasPid||(t.form.pid="");var o=t.id?Object(f["k"])(t.form):Object(f["g"])(t.form);o.then((function(){t.$router.go(-1)}))}))}},{key:"getCategoryDetail",value:function(){var t=this;this.loading=!0,Object(f["j"])(this.id).then((function(e){e.pid&&(t.hasPid=1),t.form=e,t.loading=!1}))}},{key:"getCategoryList",value:function(){var t=this;Object(f["l"])({page_type:1}).then((function(e){null===e||void 0===e||e.lists.forEach((function(t){t.sons&&t.sons.forEach((function(t){delete t.sons}))})),t.categoryList=null===e||void 0===e?void 0:e.lists}))}},{key:"created",value:function(){this.id=this.$route.query.id,this.id&&this.getCategoryDetail(),this.getCategoryList()}}]),o}(u["e"]);g=Object(l["a"])([Object(u["a"])({components:{MaterialSelect:c["a"]}})],g);var p=g,m=p,h=(o("1e54"),o("2877")),b=Object(h["a"])(m,i,n,!1,null,"d89cee96",null);e["default"]=b.exports},"568b":function(t,e,o){"use strict";o("31d6")},"6fd1":function(t,e,o){},b3ad:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+t.tipsText,width:"1050px",top:"15vh"},on:{confirm:t.handleConfirm}},[t.hiddenTrigger?t._e():o("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(t){t.stopPropagation()}},slot:"trigger"},[o("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:t.disabled||t.dragDisabled},on:{update:t.handleChange},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},t._l(t.fileList,(function(e,i){return o("div",{key:e+i,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!1,i)}}},[t.$scopedSlots.preview?o("div",[t._t("preview",null,{item:t.imageUri(e)})],2):o("file-item",{attrs:{type:t.type,item:{uri:t.imageUri(e)},size:t.size}}),t.enableDelete?o("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(e){return e.stopPropagation(),t.delImage(i)}}}):t._e()],1)})),0),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!0)}}},[t.$slots.upload?o("div",[t._t("upload")],2):o("div",{staticClass:"upload-btn flex row-center",style:{width:t.size+"px",height:t.size+"px",background:t.uploadBg}},[t._t("default"),t.$slots.default?t._e():o("span",[t._v("添加"+t._s(t.tipsText))])],2)])],1),o("div",{staticClass:"material-wrap"},[o("ls-material",{ref:"material",attrs:{"page-size":15,type:t.type,limit:t.meterialLimit},on:{change:t.selectChange}})],1)])},n=[],a=o("d4ec"),s=o("bee2"),r=o("262e"),d=o("2caf"),l=(o("d81d"),o("a434"),o("99af"),o("9ab4")),u=o("1b40"),c=o("0a6d"),f=o("c6fe"),g=o("e915"),p=o("b76a"),m=o.n(p),h=function(t){Object(r["a"])(o,t);var e=Object(d["a"])(o);function o(){var t;return Object(a["a"])(this,o),t=e.apply(this,arguments),t.isAdd=!0,t.fileList=[],t}return Object(s["a"])(o,[{key:"showUpload",get:function(){var t=this.fileList,e=this.limit;return e-t.length>0}},{key:"meterialLimit",get:function(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}},{key:"tipsText",get:function(){switch(this.type){case"image":return"图片";case"video":return"视频"}}},{key:"imageUri",get:function(){var t=this;return function(e){return t.enableDomain?e:t.$getImageUri(e)}}},{key:"valueChange",value:function(t){this.fileList=Array.isArray(t)?t:""==t?[]:[t]}},{key:"showDialog",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=arguments.length>1?arguments[1]:void 0;this.disabled||(this.isAdd=e,void 0!==o&&(this.currentIndex=o),null===(t=this.$refs.materialDialog)||void 0===t||t.onTrigger())}},{key:"selectChange",value:function(t){this.select=t}},{key:"handleConfirm",value:function(){var t=this;this.$refs.material.clearSelectList();var e=this.select.map((function(e){return t.enableDomain?e.uri:e.url}));this.isAdd?this.fileList=this.fileList.concat(e):this.fileList.splice(this.currentIndex,1,e.shift()),this.handleChange()}},{key:"delImage",value:function(t){this.fileList.splice(t,1),this.handleChange()}},{key:"handleChange",value:function(){var t=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",t),this.$emit("change",t),this.fileList=[]}}]),o}(u["e"]);Object(l["a"])([Object(u["c"])({default:function(){return[]}})],h.prototype,"value",void 0),Object(l["a"])([Object(u["c"])({default:1})],h.prototype,"limit",void 0),Object(l["a"])([Object(u["c"])({default:"100"})],h.prototype,"size",void 0),Object(l["a"])([Object(u["c"])({default:!1})],h.prototype,"disabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],h.prototype,"dragDisabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],h.prototype,"hiddenTrigger",void 0),Object(l["a"])([Object(u["c"])({default:"image"})],h.prototype,"type",void 0),Object(l["a"])([Object(u["c"])({default:"transparent"})],h.prototype,"uploadBg",void 0),Object(l["a"])([Object(u["c"])({default:!0})],h.prototype,"enableDomain",void 0),Object(l["a"])([Object(u["c"])({default:!0})],h.prototype,"enableDelete",void 0),Object(l["a"])([Object(u["f"])("value",{immediate:!0})],h.prototype,"valueChange",null),h=Object(l["a"])([Object(u["a"])({components:{LsDialog:c["a"],LsMaterial:f["a"],Draggable:m.a,FileItem:g["a"]}})],h);var b=h,v=b,_=(o("568b"),o("2877")),y=Object(_["a"])(v,i,n,!1,null,"1503bff6",null);e["a"]=y.exports}}]);
//# sourceMappingURL=chunk-4f3e75be.441420aa.js.map