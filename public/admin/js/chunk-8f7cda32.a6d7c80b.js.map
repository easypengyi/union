{"version":3,"sources":["webpack:///./src/components/area-select.vue","webpack:///./src/components/area-select.vue?0546","webpack:///./src/components/area-select.vue?b6c8","webpack:///./src/components/area-select.vue?c89a","webpack:///./src/views/marketing/selffetch/shop_edit.vue?26e7","webpack:///./src/components/material-select/index.vue","webpack:///./src/components/material-select/index.vue?f2a0","webpack:///./src/components/material-select/index.vue?630d","webpack:///./src/components/material-select/index.vue?bfaf","webpack:///./src/assets/images/icon_marker.png","webpack:///./src/api/marketing/selffetch.ts","webpack:///./src/views/marketing/selffetch/shop_edit.vue","webpack:///./src/utils/importCDN.ts","webpack:///./src/views/marketing/selffetch/shop_edit.vue?4c00","webpack:///./src/views/marketing/selffetch/shop_edit.vue?c220","webpack:///./src/views/marketing/selffetch/shop_edit.vue?b055","webpack:///./src/components/material-select/index.vue?0cf7"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","style","width","attrs","options","model","value","areaValue","callback","$$v","expression","staticRenderFns","AreaSelect","Vue","constructor","area","province","city","district","$emit","__decorate","Prop","default","Component","component","ref","tipsText","on","handleConfirm","hiddenTrigger","_e","$event","stopPropagation","slot","disabled","dragDisabled","handleChange","fileList","_l","item","index","key","class","limit","showDialog","$scopedSlots","preview","_t","imageUri","type","uri","size","enableDelete","delImage","directives","name","rawName","showUpload","$slots","upload","height","background","uploadBg","_v","_s","meterialLimit","selectChange","MediaSelect","isAdd","length","enableDomain","$getImageUri","valueChange","val","Array","isArray","undefined","currentIndex","$refs","materialDialog","onTrigger","select","material","clearSelectList","selectUri","map","url","concat","splice","shift","valueImg","Watch","immediate","components","LsDialog","LsMaterial","Draggable","FileItem","module","exports","apiSelffetchShopList","params","request","get","apiSelffetchShopAdd","post","apiSelffetchShopDetail","apiSelffetchShopEdit","apiSelffetchShopStatus","apiSelffetchShopDel","apiMapRegionSearch","apiSelffetchVerifierList","apiSelffetchVerifierAdd","apiSelffetchVerifierDetail","apiSelffetchVerifierEdit","apiSelffetchVerifierStatus","apiSelffetchVerifierDel","apiSelffetchVerification","apiSelffetchVerificationList","apiSelffetchVerificationQuery","pageTitle","$router","go","rules","form","$set","image","contact","mobile","address","onMapSearch","weekdayChecked","weekdayList","weekday","label","businessTime","minRows","maxRows","remark","status","staticStyle","onSubmit","importCDN","Promise","resolve","reject","hasScriptEl","document","getElementById","scriptEl","createElement","setAttribute","body","append","handler","stdOnEnd","ieOnEnd","then","catch","err","onload","onerror","onreadystatechange","readyState","SelffetchShopEdit","mode","PageMode","identity","longitude","latitude","business_start_time","business_end_time","weekdays","Date","required","message","trigger","tencentMap","markerLayer","formName","refs","validate","valid","handleAdd","handleEdit","setTimeout","id","initFormDataForEdit","data","Object","keys","split","Number","date","toDateString","dateFormat","timeFormat","parse","$message","error","initTencentMap","TencentMap","window","TMap","getCurrentLocation","lat","lng","setCenter","updateGeometries","styleId","position","LatLng","latLng","center","Map","zoom","pitch","rotation","MultiMarker","styles","MarkerStyle","require","x","y","geometries","poi","console","log","loadTencentMapScript","TENTCENT_MAP_API","config","tencentMapKey","URL","QQ","geolocation","maps","Geolocation","watchPosition","clearWatch","keyword","encodeURI","boundary","info","setGeometries","add","forEach","location","push","title","query","$route","handleSearchMap","handleWeekdays","join","handleBusinessTime","MaterialSelect"],"mappings":"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","file":"js/chunk-8f7cda32.a6d7c80b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"area-select\"},[_c('el-cascader',{style:({width: _vm.width}),attrs:{\"options\":_vm.options},model:{value:(_vm.areaValue),callback:function ($$v) {_vm.areaValue=$$v},expression:\"areaValue\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport area from '@/utils/area'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\n\n@Component\nexport default class AreaSelect extends Vue {\n    /** S Props **/\n    @Prop() province!: number        // 省份ID\n    @Prop() city!: number            // 城市ID\n    @Prop() district!: number        // 区域ID\n    // 表单宽度\n    @Prop({default: '380px'}) width!: string\n    /** E Props **/\n\n    /** S Data **/\n    options: Array<object> = area                      // 地区列表\n    /** S Data **/\n\n\n    /** S Computed **/\n    // 更新绑定数据\n    get areaValue (): Array<number> {\n        return [\n            this.province,\n            this.city,\n            this.district\n        ]\n    }\n\n    set areaValue (value) {\n        this.$emit('update:province', value[0])\n        this.$emit('update:city', value[1])\n        this.$emit('update:district', value[2])\n    }\n    /** E Computed **/\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-select.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-select.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./area-select.vue?vue&type=template&id=2575593e&\"\nimport script from \"./area-select.vue?vue&type=script&lang=ts&\"\nexport * from \"./area-select.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop_edit.vue?vue&type=style&index=0&id=43379549&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ls-dialog',{ref:\"materialDialog\",staticClass:\"material-select\",attrs:{\"title\":`选择${_vm.tipsText}`,\"width\":\"1050px\",\"top\":\"15vh\"},on:{\"confirm\":_vm.handleConfirm}},[(!_vm.hiddenTrigger)?_c('div',{staticClass:\"material-select__trigger clearfix\",attrs:{\"slot\":\"trigger\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"trigger\"},[_c('draggable',{staticClass:\"ls-draggable\",attrs:{\"animation\":\"300\",\"disabled\":_vm.disabled || _vm.dragDisabled},on:{\"update\":_vm.handleChange},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:item + index,staticClass:\"material-preview ls-del-wrap\",class:{ 'is-disabled': _vm.disabled, 'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(false, index)}}},[(_vm.$scopedSlots.preview)?_c('div',[_vm._t(\"preview\",null,{\"item\":_vm.imageUri(item)})],2):_c('file-item',{attrs:{\"type\":_vm.type,\"item\":{ uri: _vm.imageUri(item)},\"size\":_vm.size}}),(_vm.enableDelete)?_c('i',{staticClass:\"el-icon-close ls-icon-del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delImage(index)}}}):_vm._e()],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],staticClass:\"material-upload\",class:{ 'is-disabled': _vm.disabled,  'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(true)}}},[(_vm.$slots.upload)?_c('div',[_vm._t(\"upload\")],2):_c('div',{staticClass:\"upload-btn flex row-center\",style:({ width: `${_vm.size}px`, height: `${_vm.size}px`, background: _vm.uploadBg})},[_vm._t(\"default\"),(!_vm.$slots.default)?_c('span',[_vm._v(\"添加\"+_vm._s(_vm.tipsText))]):_vm._e()],2)])],1):_vm._e(),_c('div',{staticClass:\"material-wrap\"},[_c('ls-material',{ref:\"material\",attrs:{\"page-size\":15,\"type\":_vm.type,\"limit\":_vm.meterialLimit},on:{\"change\":_vm.selectChange}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport LsDialog from '@/components/ls-dialog.vue'\nimport LsMaterial from './material.vue'\nimport FileItem from './file-item.vue'\nimport Draggable from 'vuedraggable'\n\n@Component({\n    components: {\n        LsDialog,\n        LsMaterial,\n        Draggable,\n        FileItem,\n    },\n})\nexport default class MediaSelect extends Vue {\n    $refs!: { materialDialog: any; material: any }\n    select!: any[]\n    currentIndex!: number\n    // 双向数据绑定的值\n    @Prop({ default: () => [] }) value!: [] | string\n    // 图片张数限制\n    @Prop({ default: 1 }) limit!: number \n    @Prop({ default: '100' }) size!: string\n    @Prop({ default: false }) disabled!: boolean //禁用图片选择\n    @Prop({ default: false }) dragDisabled!: boolean //禁用图片拖拽\n    @Prop({ default: false }) hiddenTrigger!: boolean //是否隐藏\n    @Prop({ default: 'image' }) type!: 'image' | 'video' //是否隐藏\n    @Prop({ default: 'transparent' }) uploadBg!: string\n    @Prop({ default: true }) enableDomain!: boolean\n    @Prop({ default: true }) enableDelete!: boolean\n    isAdd = true\n    fileList: any[] = []\n\n    get showUpload() {\n        const { fileList, limit } = this\n        return limit - fileList.length > 0\n    }\n\n    get meterialLimit() {\n        if (!this.isAdd) {\n            return 1\n        }\n        if(!this.limit ) return null\n        return this.limit - this.fileList.length\n    }\n\n    get tipsText() {\n        switch (this.type) {\n            case 'image':\n                return '图片'\n            case 'video':\n                return '视频'\n        }\n    }\n    get imageUri() {\n        return (item: string) => {\n            return this.enableDomain ? item :  this.$getImageUri(item) \n        }\n    }\n    @Watch('value', { immediate: true })\n    valueChange(val: any[] | string) {\n        this.fileList = Array.isArray(val) ? val : val == '' ? [] : [val]\n    }\n    showDialog(isAdd: boolean = true, index: number) {\n        if (this.disabled) return\n        this.isAdd = isAdd\n        if (index !== undefined) {\n            this.currentIndex = index\n        }\n        this.$refs.materialDialog?.onTrigger()\n    }\n    selectChange(val: any[]) {\n        this.select = val\n    }\n    handleConfirm() {\n        this.$refs.material.clearSelectList()\n        const selectUri = this.select.map((item) => this.enableDomain ? item.uri : item.url)\n        if (!this.isAdd) {\n            this.fileList.splice(this.currentIndex, 1, selectUri.shift())\n        } else {\n            this.fileList = this.fileList.concat(selectUri)\n        }\n        this.handleChange()\n    }\n\n    delImage(index: number) {\n        this.fileList.splice(index, 1)\n        this.handleChange()\n    }\n    handleChange() {\n        const valueImg =\n            this.limit != 1 ? this.fileList : this.fileList[0] || ''\n        this.$emit('input', valueImg)\n        this.$emit('change', valueImg)\n        this.fileList = []\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1503bff6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1503bff6\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,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\"","import request from '@/plugins/axios'\nimport * as Interface from '@/api/marketing/selffetch.d.ts'\n\n/** S 门店自提 **/\n// 门店自提--列表\nexport const apiSelffetchShopList = (params: Interface.SelffetchShopList_Req): Promise<any> =>\n    request.get('/selffetch_shop.selffetch_shop/lists', { params })\n\n// 门店自提--新增\nexport const apiSelffetchShopAdd = (params: Interface.SelffetchShopAdd_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_shop/add', params)\n\n// 门店自提--详情\nexport const apiSelffetchShopDetail = (params: Interface.SelffetchShopDetail_Req): Promise<any> =>\n    request.get('/selffetch_shop.selffetch_shop/detail', { params })\n    \n// 门店自提--编辑\nexport const apiSelffetchShopEdit = (params: Interface.SelffetchShopEdit_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_shop/edit', params)\n\n// 门店自提--编辑状态\nexport const apiSelffetchShopStatus = (params: Interface.SelffetchShopStatus_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_shop/status', params)\n\n// 门店自提--删除\nexport const apiSelffetchShopDel = (params: Interface.SelffetchShopDel_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_shop/del', params)\n\nexport const apiMapRegionSearch = (params: Interface.MapRegionSearch_Req): Promise<any> => \n    request.get('/selffetch_shop.selffetch_shop/regionSearch', { params })\n/** E 门店自提 **/\n\n\n/** S 核销员 **/\n// 核销员--列表\nexport const apiSelffetchVerifierList = (params: Interface.SelffetchVerifierList_Req): Promise<any> =>\n    request.get('/selffetch_shop.selffetch_verifier/lists', { params })\n\n// 核销员--新增\nexport const apiSelffetchVerifierAdd = (params: Interface.SelffetchVerifierAdd_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_verifier/add', params)\n\n// 核销员--详情\nexport const apiSelffetchVerifierDetail = (params: Interface.SelffetchVerifierDetail_Req): Promise<any> =>\n    request.get('/selffetch_shop.selffetch_verifier/detail', { params })\n    \n// 核销员--编辑\nexport const apiSelffetchVerifierEdit = (params: Interface.SelffetchVerifierEdit_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_verifier/edit', params)\n\n// 核销员--编辑状态\nexport const apiSelffetchVerifierStatus = (params: Interface.SelffetchVerifierStatus_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_verifier/status', params)\n\n// 核销员--删除\nexport const apiSelffetchVerifierDel = (params: Interface.SelffetchVerifierDel_Req): Promise<any> =>\n    request.post('/selffetch_shop.selffetch_verifier/del', params)\n/** E 核销员 **/\n\n\n/** S 核销订单 **/\n// 核销订单--核销\nexport const apiSelffetchVerification = (params: Interface.SelffetchVerification_Req): Promise<any> =>\n    request.post('/selffetch_shop.verification/verification', params)\n\n// 核销订单--列表\nexport const apiSelffetchVerificationList = (params: Interface.SelffetchVerificationList_Req): Promise<any> => \n    request.get('selffetch_shop.verification/lists', { params })\n\n// 核销订单--查询\nexport const apiSelffetchVerificationQuery = (params: Interface.SelffetchVerificationQuery_Req): Promise<any> => \n    request.get('selffetch_shop.verification/verificationQuery', { params })\n\n// 核销订单--详情\nexport const apiSelffetchVerificationDetail = (params: Interface.SelffetchVerificationDetail_Req): Promise<any> => \n    request.get('selffetch_shop.verification/verificationDetail', { params })\n/** E 核销订单**/","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"page\",staticClass:\"ls-add-admin\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":_vm.pageTitle},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',{staticClass:\"ls-card m-t-16\"},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"门店名称\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入门店名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"门店LOGO\",\"prop\":\"image\"}},[_c('material-select',{attrs:{\"limit\":1},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"建议尺寸：100*100像素，jpg，jpeg，png图片类型\")])],1),_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"contact\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入联系人\"},model:{value:(_vm.form.contact),callback:function ($$v) {_vm.$set(_vm.form, \"contact\", $$v)},expression:\"form.contact\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"mobile\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"门店地址\",\"prop\":\"province\"}},[_c('area-select',{attrs:{\"province\":_vm.form.province,\"city\":_vm.form.city,\"district\":_vm.form.district},on:{\"update:province\":function($event){return _vm.$set(_vm.form, \"province\", $event)},\"update:city\":function($event){return _vm.$set(_vm.form, \"city\", $event)},\"update:district\":function($event){return _vm.$set(_vm.form, \"district\", $event)}}})],1),_c('el-form-item',{attrs:{\"label\":\"详情地址\",\"prop\":\"address\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入详情地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.onMapSearch},slot:\"append\"},[_vm._v(\"搜索地图\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"地图定位\",\"prop\":\"password_confirm\"}},[_c('div',{attrs:{\"id\":\"tencent-map\"}})]),_c('el-form-item',{attrs:{\"label\":\"营业周天\",\"prop\":\"weekdays\"}},[_c('el-checkbox-group',{model:{value:(_vm.weekdayChecked),callback:function ($$v) {_vm.weekdayChecked=$$v},expression:\"weekdayChecked\"}},_vm._l((_vm.weekdayList),function(weekday){return _c('el-checkbox',{key:weekday.key,attrs:{\"label\":weekday.key}},[_vm._v(_vm._s(weekday.label))])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"营业时段\",\"prop\":\"business_start_time\"}},[_c('el-time-picker',{staticClass:\"ls-input\",attrs:{\"is-range\":\"\",\"arrow-control\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\",\"placeholder\":\"选择时间范围\"},model:{value:(_vm.businessTime),callback:function ($$v) {_vm.businessTime=$$v},expression:\"businessTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"门店详情\",\"prop\":\"remark\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 6 },\"show-word-limit\":\"\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1),_c('el-form-item',{attrs:{\"label\":\"门店状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"停用\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用\")])],1)],1)],1)],1),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"保存\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* 声明IE上的HTMLScriptElement类型补充 */\ndeclare global{\n    interface HTMLScriptElement{\n        onreadystatechange: Function | null;\n        readyState: 'loaded' | 'complete';\n    }\n}\n\n/**\n * 导入第三方CDN\n * 缺陷：由于没有做调用栈，目前仅支持调用一次，多次调用将会产生异步不确定性。\n * 改良：改造成调用栈的方式\n * @param uri { String } CDN链接\n * @return { Promise }\n */\n\nexport const importCDN = (uri: string) => {\n    return new Promise((resolve, reject) => {\n        /* 如果已经存在则直接退出 */\n        const hasScriptEl = document.getElementById(uri)\n        if (hasScriptEl) return resolve(hasScriptEl)\n\n        try {\n            const scriptEl: HTMLScriptElement = document.createElement('script')\n            scriptEl.setAttribute('id', uri)\n            scriptEl.setAttribute('src', uri)\n            document.body.append(scriptEl)\n\n            const handler = 'onload' in scriptEl ? stdOnEnd : ieOnEnd\n            handler(scriptEl).then(() => resolve(scriptEl)).catch(() => reject())\n        } catch (err) {\n            reject(err)\n        }\n\n        function stdOnEnd (scriptEl: HTMLScriptElement) {\n            return new Promise((resolve, reject) => {\n                scriptEl.onload = function() {\n                    this.onerror = this.onload = null\n                    resolve(scriptEl)\n                }\n\n                scriptEl.onerror = function() {\n                    this.onerror = this.onload = null\n                    reject()\n                }\n            })\n        }\n\n        function ieOnEnd (scriptEl: HTMLScriptElement) {\n            return new Promise((resolve, reject) => {\n                scriptEl.onreadystatechange = function() {\n                    if (this.readyState === 'loaded' || this.readyState === 'complete') {\n                        this.onreadystatechange = null\n                        resolve(scriptEl)\n                    }\n                }\n            })\n        }\n    })\n}\n\n","\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport {\n    apiSelffetchShopAdd,\n    apiSelffetchShopDetail,\n    apiSelffetchShopEdit,\n    apiMapRegionSearch,\n} from '@/api/marketing/selffetch'\nimport AreaSelect from '@/components/area-select.vue'\nimport MaterialSelect from '@/components/material-select/index.vue'\nimport { PageMode } from '@/utils/type'\nimport { timeFormat } from '@/utils/util'\nimport { importCDN } from '@/utils/importCDN'\nimport config from '@/config'\n\n\n@Component({\n    components: {\n        AreaSelect,\n        MaterialSelect,\n    },\n})\nexport default class SelffetchShopEdit extends Vue {\n    /** S Data **/\n    mode: string = PageMode['ADD'] // 当前页面【add: 添加 | edit: 编辑】\n    identity: number | null = null // 当前编辑用户的身份ID  valid: mode = 'edit'\n\n    // 表单数据\n    form: any = {\n        name: '', // 门店名称\n        image: '', // 门店LOGO\n        contact: '', // 联系人\n        mobile: '', // 联系电话\n        province: '', // 省\n        city: '', // 市\n        district: '', // 区\n        address: '', // 详细地址\n        longitude: '', // 经度\n        latitude: '', // 纬度\n        business_start_time: '', // 营业开始时间\n        business_end_time: '', // 营业结束时间\n        weekdays: '', // 营业周天,逗号隔开如 1,2,3,4,5,6,7\n        status: 1, // 门店状态:1-启用;0-停用;\n        remark: '', // 门店简介\n    }\n\n    // 营业时间段\n    businessTime = [new Date(), new Date()]\n\n    // 营业周天选中列表\n    weekdayChecked = []\n    // 营业周天列表\n    weekdayList = [\n        {\n            key: 1,\n            label: '周一',\n        },\n        {\n            key: 2,\n            label: '周二',\n        },\n        {\n            key: 3,\n            label: '周三',\n        },\n        {\n            key: 4,\n            label: '周四',\n        },\n        {\n            key: 5,\n            label: '周五',\n        },\n        {\n            key: 6,\n            label: '周六',\n        },\n        {\n            key: 7,\n            label: '周天',\n        },\n    ]\n\n    // 表单校验\n    rules = {\n        name: [\n            {\n                required: true,\n                message: '请输入门店名称',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        image: [\n            {\n                required: true,\n                message: '请选择门店LOGO',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        contact: [\n            {\n                required: true,\n                message: '请输入联系人',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        mobile: [\n            {\n                required: true,\n                message: '请输入联系电话',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        province: [\n            {\n                required: true,\n                message: '请选择门店地址',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        address: [\n            {\n                required: true,\n                message: '请输入详细地址',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        weekdays: [\n            {\n                required: true,\n                message: '请选择营业周天',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        status: [\n            {\n                required: true,\n                message: '请选择门店状态',\n                trigger: ['blur', 'change'],\n            },\n        ],\n        business_start_time: [\n            {\n                required: true,\n                message: '请选择营业时段',\n                trigger: ['blur', 'change'],\n            },\n        ],\n    }\n\n    // 腾讯地图对象\n    tencentMap: any = undefined\n    // 腾讯地图锚点对象\n    markerLayer: any = undefined\n\n    /** E Data **/\n\n    /** S Computed **/\n    get pageTitle() {\n        switch (this.mode) {\n            case PageMode['ADD']:\n                return '新增自提门店'\n            case PageMode['EDIT']:\n                return '编辑自提门店'\n        }\n    }\n    /** S Computed **/\n\n    /** S Methods **/\n    // 点击表单提交\n    onSubmit(formName: string) {\n        // 验证表单格式是否正确\n        const refs = this.$refs[formName] as HTMLFormElement\n        refs.validate((valid: boolean): any => {\n            if (!valid) return\n\n            // 请求发送\n            switch (this.mode) {\n                case PageMode['ADD']:\n                    return this.handleAdd()\n                case PageMode['EDIT']:\n                    return this.handleEdit()\n            }\n        })\n    }\n\n    // 添加\n    handleAdd() {\n        const form = this.form\n        apiSelffetchShopAdd(form)\n            .then(() => {\n                setTimeout(() => this.$router.go(-1), 500)\n            })\n    }\n\n    // 编辑\n    handleEdit() {\n        const params = this.form\n        const id: number = this.identity as number\n        apiSelffetchShopEdit({ ...params, id })\n            .then(() => {\n                setTimeout(() => this.$router.go(-1), 500)\n            })\n    }\n\n    // 表单初始化数据 [编辑模式] mode => edit\n    initFormDataForEdit() {\n        return new Promise((resolve, reject) => {\n            apiSelffetchShopDetail({\n                id: this.identity as number,\n            })\n                .then((data) => {\n                    Object.keys(data).map((key) => {\n                        this.$set(this.form, key, data[key])\n                    })\n                    // 初始化营业周天表单\n                    this.weekdayChecked = data.weekdays\n                        .split(',')\n                        .map((item: string) => Number(item))\n                    // 初始化营业时段表单\n                    const date = new Date().toDateString()\n                    const dateFormat = timeFormat(Date.parse(date), 'yyyy-mm-dd')\n                    this.businessTime = [\n                        new Date(dateFormat + ' ' + data.business_start_time),\n                        new Date(dateFormat + ' ' + data.business_end_time),\n                    ]\n\n                    resolve(data)\n                })\n                .catch(err => {\n                    this.$message.error('数据初始化失败，请刷新重载！')\n                    reject(err)\n                })\n        })\n\n    }\n\n    // 初始化腾讯地图\n    initTencentMap() {\n        const TencentMap = (window as any).TMap\n\n        if (this.mode === PageMode['ADD']) {\n            this.form.latitude = '39.954104'\n            this.form.longitude = '116.357503'\n\n            this.getCurrentLocation().then((data: any) => {\n                this.form.latitude = data.lat\n                this.form.longitude = data.lng\n\n                this.tencentMap.setCenter({ lat:data.lat, lng: data.lng })\n                this.markerLayer.updateGeometries([\n                    {\n                        styleId: 'me',\n                        id: '1',\n                        position: new TencentMap.LatLng(data.lat, data.lng),\n                    },\n                ])\n            })\n        }\n\n        const latLng = {\n            lat: this.form.latitude,\n            lng: this.form.longitude\n        }\n\n        //定义地图中心点坐标\n        const center = new TencentMap.LatLng(latLng.lat, latLng.lng)\n\n        //定义map变量，调用 TencentMap.Map() 构造函数创建地图\n        this.tencentMap = new TencentMap.Map(document.getElementById('tencent-map'), {\n            center: center, //设置地图中心点坐标\n            zoom: 17.2, //设置地图缩放级别\n            pitch: 43.5, //设置俯仰角\n            rotation: 45, //设置地图旋转角度\n        })\n\n        //创建并初始化MultiMarker\n        this.markerLayer = new TencentMap.MultiMarker({\n            map: this.tencentMap, //指定地图容器\n            styles: {\n                //创建一个styleId为\"myStyle\"的样式（styles的子属性名即为styleId）\n                \"me\": new TencentMap.MarkerStyle({\n                    \"width\": 34,  // 点标记样式宽度（像素）\n                    \"height\": 34, // 点标记样式高度（像素）\n                    \"src\": require('@/assets/images/icon_marker.png'),  //图片路径\n                    //焦点在图片中的像素位置，一般大头针类似形式的图片以针尖位置做为焦点，圆形点以圆心位置为焦点\n                    \"anchor\": { x: 17, y: 34 }\n                })\n            },\n            //点标记数据数组\n            geometries: [\n                {\n                    //点标记唯一标识，后续如果有删除、修改位置等操作，都需要此id\n                    id: '1',\n                    //指定样式id\n                    styleId: 'me',\n                    //点标记坐标位置\n                    position: new TencentMap.LatLng(latLng.lat, latLng.lng),\n                    // properties: {\n                    //     //自定义属性\n                    //     title: 'marker',\n                    // },\n                },\n            ],\n        })\n\n        // 监听地图点击事件\n        this.tencentMap.on('click', ({ latLng, poi }: any) => {\n            console.log(poi)\n            this.markerLayer.updateGeometries([\n                {\n                    styleId: 'me',\n                    id: '1',\n                    position: new TencentMap.LatLng(latLng.lat, latLng.lng),\n                },\n            ])\n\n            this.form.latitude = latLng.lat\n            this.form.longitude = latLng.lng\n        })\n\n        // console.log('Map:', map)\n        // console.log('TMap:', TencentMap)\n    }\n\n    // 导入腾讯地图API\n    loadTencentMapScript() {\n        const TENTCENT_MAP_API = `https://map.qq.com/api/gljs?v=1.exp&key=${config.tencentMapKey}`\n        importCDN(TENTCENT_MAP_API).then(() => this.initTencentMap())\n    }\n\n    // 获取当前位置\n    getCurrentLocation() {\n        return new Promise((resolve: Function, reject: Function) => {\n            const URL = 'https://mapapi.qq.com/web/mapComponents/geoLocation/v/geolocation.min.js'\n\n            importCDN(URL)\n                .then(() => {\n                    const QQ = (window as any)['qq']\n                    const geolocation = new QQ.maps.Geolocation(config.tencentMapKey, \"admin\")\n                    geolocation.watchPosition((data: any) => {\n                        geolocation.clearWatch()\n                        console.log(data)\n                        resolve(data)\n                    })\n                })\n                .catch(err => reject(err))\n        })\n    }\n\n    // 地图搜索\n    onMapSearch() {\n        if (!this.tencentMap) return this.$message.error('地图未加载完成')\n\n        apiMapRegionSearch({\n            keyword: encodeURI(this.form.address),\n            boundary: `region(${this.form.district ?? this.form.city}, 0)`,\n            key: config.tencentMapKey,\n        }).then(({data}) => {\n            console.log('SearchMap:', data)\n            if (!data.length) return this.$message.info(`没有找到“${this.form.address}”的相关地点`)\n\n            const TencentMap = (window as any).TMap\n            const geometries: any = []\n\n            // 清除所有标点\n            this.markerLayer.setGeometries([])\n            // 添加自己位置的标点\n            this.markerLayer.add([\n                {\n                    id: '1',\n                    styleId: 'me',\n                    position: new TencentMap.LatLng(this.form.latitude, this.form.longitude),\n                }\n            ])\n\n            data.forEach((item: any) => {\n                const { lat, lng } = item.location\n                geometries.push({\n                    \"id\": item.id,\n                    \"styleId\": 'marker',\n                    \"position\": new TencentMap.LatLng(lat, lng),\n                    \"properties\": {\n                        \"title\": item.title\n                    }\n                })\n            });\n\n            // 更改地图中心点\n            const { lat, lng } = data[0].location\n            this.tencentMap.setCenter({ lat, lng })\n            // 添加标点\n            this.markerLayer.add(geometries)\n        }).catch(err => {\n            // this.$message.error('地图搜索出现了点问题，请重新尝试。')\n            console.log('SearchMapError:', err)\n        })\n    }\n    /** E Methods **/\n\n    /** S Life Cycle **/\n    async created() {\n        const query: any = this.$route.query\n\n        if (query.mode) this.mode = query.mode\n\n        // 编辑模式：初始化数据\n        if (this.mode === PageMode['EDIT']) {\n            this.identity = query.id * 1\n            await this.initFormDataForEdit()\n        }\n\n        this.loadTencentMapScript();\n\n        (window as any).handleSearchMap = (data: any) => {\n            console.log(data)\n        }\n    }\n\n    @Watch('weekdayChecked')\n    handleWeekdays(value: Array<number>) {\n        this.form.weekdays = value.join(',')\n    }\n\n    @Watch('businessTime')\n    handleBusinessTime(value: Array<string>) {\n        this.form.business_start_time = timeFormat(\n            Date.parse(value[0]),\n            'hh:MM:ss'\n        )\n        this.form.business_end_time = timeFormat(\n            Date.parse(value[1]),\n            'hh:MM:ss'\n        )\n    }\n    /** E Life Cycle **/\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop_edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shop_edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./shop_edit.vue?vue&type=template&id=43379549&scoped=true&\"\nimport script from \"./shop_edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./shop_edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./shop_edit.vue?vue&type=style&index=0&id=43379549&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43379549\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\""],"sourceRoot":""}