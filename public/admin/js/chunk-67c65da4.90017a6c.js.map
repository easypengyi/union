{"version":3,"sources":["webpack:///./node_modules/echarts/lib/chart/helper/createSeriesDataSimply.js","webpack:///./node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///./node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/echarts/lib/chart/pie/PieSeries.js","webpack:///./node_modules/echarts/lib/processor/negativeDataFilter.js","webpack:///./node_modules/echarts/lib/chart/pie/install.js","webpack:///./node_modules/echarts/lib/label/labelGuideHelper.js","webpack:///./node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack:///./node_modules/echarts/lib/chart/helper/pieHelper.js","webpack:///./node_modules/echarts/lib/processor/dataFilter.js"],"names":["createSeriesDataSimply","seriesModel","opt","nameList","coordDimensions","encodeDefine","getEncode","source","getSource","dimensions","list","initData","PI2","Math","PI","RADIAN","getViewRect","api","getBoxLayoutParams","width","getWidth","height","getHeight","getBasicPieLayout","viewRect","center","get","radius","size","min","cx","x","cy","y","r0","r","pieLayout","seriesType","ecModel","eachSeriesByType","data","getData","valueDim","mapDimension","_a","startAngle","minAngle","validDataCount","each","value","isNaN","sum","getSum","unitRadian","clockwise","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","setLayout","idx","angle","setItemLayout","NaN","endAngle","angle_1","layout_1","getItemLayout","layout_2","adjustSingleSide","viewWidth","viewHeight","viewLeft","viewTop","farthestX","length","len","i","position","labelAlignTo","dx","label","linePoints","recalculateX","recalculateXOnSemiToAlignOnEllipseCurve","semi","rB","rB2","item","dy","abs","rA","rA2","sqrt","newX","len2","deltaX","newTargetWidth","targetTextWidth","constrainTextWidth","items","topSemi","maxY","bottomSemi","push","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","Number","MAX_VALUE","rightmostX","isPositionCenter","max","layout","labelStyleWidth","labelDistance","edgeDistance","bleedMargin","isAlignToEdge","padding","style","paddingH","extraPaddingH","backgroundColor","realTextWidth","rect","dist","availableWidth","forceRecalculate","textRect","bgColor","overflow","oldOuterWidth","oldHeight","match","setStyle","innerRect","getBoundingRect","ceil","availableInnerWidth","newWidth","unconstrainedWidth","newRect","margin","sectorShape","pieLabelLayout","hasLabelRotate","minShowLabelRadian","getLayout","setNotShow","el","ignore","isLabelShown","key","states","sector","getItemGraphicEl","shape","getTextContent","labelLine","getTextGuideLine","itemModel","getItemModel","labelModel","getModel","labelPosition","labelLineModel","labelLineLen","labelLineLen2","textX","textY","textAlign","midAngle","nx","cos","ny","sin","isLabelInside","x1","y1","x2","y2","x3","y3","labelRotate","rotate","radialAngle","rad","atan2","isDown","rotation","verticalAlign","align","selectState","select","clone","applyTransform","getComputedTransform","minTurnAngle","maxSurfaceAngle","surfaceNormal","Point","setTextConfig","inside","notShowLabel","setShape","points","__hostTarget","textGuideLineConfig","anchor","_super","PiePiece","_this","call","this","z2","text","setTextContent","updateData","prototype","firstCreate","hostModel","emphasisModel","animationType","getShallow","ssr","scaleX","scaleY","dataIndex","isFrom","originX","originY","useStyle","getItemVisual","offset","cursorStyle","attr","_updateLabel","ensureState","labelText","visualColor","fill","visualOpacity","opacity","labelFetcher","labelDataIndex","inheritColor","defaultOpacity","defaultText","getFormattedLabel","getName","removeTextGuideLine","polyline","setTextGuideLine","stroke","PieView","apply","arguments","ignoreLabelLineUpdate","render","payload","oldData","_data","group","count","s","_emptyCircleSector","remove","getItemStyle","add","diff","piePiece","setItemGraphicEl","update","newIdx","oldIdx","off","execute","dispose","containPoint","point","itemLayout","type","Chart","PieSeriesModel","init","option","legendVisualProvider","LegendVisualProvider","getRawData","_defaultLabelLine","mergeOption","getInitialData","encodeDefaulter","getDataParams","params","valueList","percent","$vars","model","labelLineNormalOpt","labelLineEmphasisOpt","emphasis","show","defaultOption","z","legendHoverLink","colorBy","minShowLabelAngle","selectedOffset","percentPrecision","left","top","right","bottom","alignTo","distanceToLabelLine","length2","smooth","lineStyle","itemStyle","borderWidth","borderJoin","showEmptyCircle","emptyCircleStyle","color","labelLayout","hideOverlap","scale","scaleSize","avoidLabelOverlap","animationDuration","animationTypeUpdate","animationEasingUpdate","animationDurationUpdate","animationEasing","Series","PieSeries","negativeDataFilter","reset","filterSelf","curValue","install","registers","registerChartView","registerSeriesModel","registerAction","registerLayout","registerProcessor","dataFilter","CMD","DEFAULT_SEARCH_SPACE","getCandidateAnchor","pos","distance","outPt","outDir","set","projectPointToArc","anticlockwise","out","d","ox","oy","tmp","d1","d2","projectPointToLine","limitToEnds","dx1","dy1","lineLen","projectedLen","t","projectPointToRect","tmpPt","nearestPointOnRect","pt","nearestPointOnPath","path","xi","yi","x0","y0","minDist","Infinity","cmd","M","L","C","Q","A","rx","ry","theta","dTheta","_x","R","Z","pt0","pt1","pt2","dir2","updateLabelLinePoints","target","labelGuideConfig","searchSpace","candidates","labelRect","anchorPoint","targetTransform","targetInversedTransform","copy","candidate","scaleAndAdd","transform","boundingRect","toArray","limitTurnAngle","tmpArr","tmpProjPoint","fromArray","sub","len1","angleCos","dot","minTurnAngleCos","tan","limitSurfaceAngle","maxSurfaceAngleCos","HALF_PI","angle2","acos","newAngle","setLabelLineState","stateName","stateModel","isNormal","stateObj","styleObj","getLineStyle","buildLabelLinePath","moveTo","lineTo","moveLen","midPoint0","midPoint2","midPoint1","bezierCurveTo","setLabelLineStyle","targetEl","statesModels","defaultStyle","normalModel","normal","showNormal","labelIgnoreNormal","stateShow","isLabelIgnored","stateProxy","showAbove","labelLineConfig","buildPath","getLabelLineStatesModels","labelLineName","getDataWithEncodedVisual","_getDataWithEncodedVisual","_getRawData","getAllNames","rawData","mapArray","containName","name","indexOfName","dataWithEncodedVisual","getSectorCornerRadius","zeroIfNull","cornerRadius","dr","cr","legendModels","findComponents","mainType","isSelected"],"mappings":"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","file":"js/chunk-67c65da4.90017a6c.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { extend, isArray } from 'zrender/lib/core/util.js';\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n */\n\nexport default function createSeriesDataSimply(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({\n    encodeDefine: seriesModel.getEncode()\n  }, opt);\n  var source = seriesModel.getSource();\n  var dimensions = prepareSeriesDataSchema(source, opt).dimensions;\n  var list = new SeriesData(dimensions, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent, linearMap } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport function getBasicPieLayout(seriesModel, api) {\n  var viewRect = getViewRect(seriesModel, api);\n  var center = seriesModel.get('center');\n  var radius = seriesModel.get('radius');\n\n  if (!zrUtil.isArray(radius)) {\n    radius = [0, radius];\n  }\n\n  if (!zrUtil.isArray(center)) {\n    center = [center, center];\n  }\n\n  var width = parsePercent(viewRect.width, api.getWidth());\n  var height = parsePercent(viewRect.height, api.getHeight());\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], width) + viewRect.x;\n  var cy = parsePercent(center[1], height) + viewRect.y;\n  var r0 = parsePercent(radius[0], size / 2);\n  var r = parsePercent(radius[1], size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r\n  };\n}\nexport default function pieLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n\n    var _a = getBasicPieLayout(seriesModel, api),\n        cx = _a.cx,\n        cy = _a.cy,\n        r = _a.r,\n        r0 = _a.r0;\n\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.setLayout({\n      viewRect: viewRect,\n      r: r\n    });\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle_1 = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_1 = data.getItemLayout(idx);\n            layout_1.angle = angle_1;\n            layout_1.startAngle = startAngle + dir * idx * angle_1;\n            layout_1.endAngle = startAngle + dir * (idx + 1) * angle_1;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout_2 = data.getItemLayout(idx);\n            var angle = layout_2.angle === minAngle ? minAngle : value * unitRadian;\n            layout_2.startAngle = currentAngle;\n            layout_2.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nimport { parsePercent } from '../../util/number.js';\nimport { Point } from '../../util/graphic.js';\nimport { each, isNumber } from 'zrender/lib/core/util.js';\nimport { limitTurnAngle, limitSurfaceAngle } from '../../label/labelGuideHelper.js';\nimport { shiftLayoutOnY } from '../../label/labelLayoutHelper.js';\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  if (list.length < 2) {\n    return;\n  }\n\n  ;\n\n  function recalculateXOnSemiToAlignOnEllipseCurve(semi) {\n    var rB = semi.rB;\n    var rB2 = rB * rB;\n\n    for (var i = 0; i < semi.list.length; i++) {\n      var item = semi.list[i];\n      var dy = Math.abs(item.label.y - cy); // horizontal r is always same with original r because x is not changed.\n\n      var rA = r + item.len;\n      var rA2 = rA * rA; // Use ellipse implicit function to calculate x\n\n      var dx = Math.sqrt((1 - Math.abs(dy * dy / rB2)) * rA2);\n      var newX = cx + (dx + item.len2) * dir;\n      var deltaX = newX - item.label.x;\n      var newTargetWidth = item.targetTextWidth - deltaX * dir; // text x is changed, so need to recalculate width.\n\n      constrainTextWidth(item, newTargetWidth, true);\n      item.label.x = newX;\n    }\n  } // Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.\n\n\n  function recalculateX(items) {\n    // Extremes of\n    var topSemi = {\n      list: [],\n      maxY: 0\n    };\n    var bottomSemi = {\n      list: [],\n      maxY: 0\n    };\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var item = items[i];\n      var semi = item.label.y > cy ? bottomSemi : topSemi;\n      var dy = Math.abs(item.label.y - cy);\n\n      if (dy >= semi.maxY) {\n        var dx = item.label.x - cx - item.len2 * dir; // horizontal r is always same with original r because x is not changed.\n\n        var rA = r + item.len; // Canculate rB based on the topest / bottemest label.\n\n        var rB = Math.abs(dx) < rA ? Math.sqrt(dy * dy / (1 - dx * dx / rA / rA)) : rA;\n        semi.rB = rB;\n        semi.maxY = dy;\n      }\n\n      semi.list.push(item);\n    }\n\n    recalculateXOnSemiToAlignOnEllipseCurve(topSemi);\n    recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi);\n  }\n\n  var len = list.length;\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].label.x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].label.x = farthestX;\n    }\n  }\n\n  if (shiftLayoutOnY(list, viewTop, viewTop + viewHeight)) {\n    recalculateX(list);\n  }\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var label = labelLayoutList[i].label;\n\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (label.x < cx) {\n      leftmostX = Math.min(leftmostX, label.x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, label.x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (!isPositionCenter(layout) && layout.linePoints) {\n      if (layout.labelStyleWidth != null) {\n        continue;\n      }\n\n      var label = layout.label;\n      var linePoints = layout.linePoints;\n      var targetTextWidth = void 0;\n\n      if (layout.labelAlignTo === 'edge') {\n        if (label.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.edgeDistance;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.edgeDistance - linePoints[2][0] - layout.labelDistance;\n        }\n      } else if (layout.labelAlignTo === 'labelLine') {\n        if (label.x < cx) {\n          targetTextWidth = leftmostX - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - rightmostX - layout.bleedMargin;\n        }\n      } else {\n        if (label.x < cx) {\n          targetTextWidth = label.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - label.x - layout.bleedMargin;\n        }\n      }\n\n      layout.targetTextWidth = targetTextWidth;\n      constrainTextWidth(layout, targetTextWidth);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (!isPositionCenter(layout) && layout.linePoints) {\n      var label = layout.label;\n      var linePoints = layout.linePoints;\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var padding = label.style.padding;\n      var paddingH = padding ? padding[1] + padding[3] : 0; // textRect.width already contains paddingH if bgColor is set\n\n      var extraPaddingH = label.style.backgroundColor ? 0 : paddingH;\n      var realTextWidth = layout.rect.width + extraPaddingH;\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          linePoints[2][0] = viewLeft + layout.edgeDistance + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.edgeDistance - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          linePoints[2][0] = label.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = label.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = label.y;\n    }\n  }\n}\n/**\n * Set max width of each label, and then wrap each label to the max width.\n *\n * @param layout label layout\n * @param availableWidth max width for the label to display\n * @param forceRecalculate recaculate the text layout even if the current width\n * is smaller than `availableWidth`. This is useful when the text was previously\n * wrapped by calling `constrainTextWidth` but now `availableWidth` changed, in\n * which case, previous wrapping should be redo.\n */\n\n\nfunction constrainTextWidth(layout, availableWidth, forceRecalculate) {\n  if (forceRecalculate === void 0) {\n    forceRecalculate = false;\n  }\n\n  if (layout.labelStyleWidth != null) {\n    // User-defined style.width has the highest priority.\n    return;\n  }\n\n  var label = layout.label;\n  var style = label.style;\n  var textRect = layout.rect;\n  var bgColor = style.backgroundColor;\n  var padding = style.padding;\n  var paddingH = padding ? padding[1] + padding[3] : 0;\n  var overflow = style.overflow; // textRect.width already contains paddingH if bgColor is set\n\n  var oldOuterWidth = textRect.width + (bgColor ? 0 : paddingH);\n\n  if (availableWidth < oldOuterWidth || forceRecalculate) {\n    var oldHeight = textRect.height;\n\n    if (overflow && overflow.match('break')) {\n      // Temporarily set background to be null to calculate\n      // the bounding box without backgroud.\n      label.setStyle('backgroundColor', null); // Set constraining width\n\n      label.setStyle('width', availableWidth - paddingH); // This is the real bounding box of the text without padding\n\n      var innerRect = label.getBoundingRect();\n      label.setStyle('width', Math.ceil(innerRect.width));\n      label.setStyle('backgroundColor', bgColor);\n    } else {\n      var availableInnerWidth = availableWidth - paddingH;\n      var newWidth = availableWidth < oldOuterWidth // Current text is too wide, use `availableWidth` as max width.\n      ? availableInnerWidth : // Current available width is enough, but the text may have\n      // already been wrapped with a smaller available width.\n      forceRecalculate ? availableInnerWidth > layout.unconstrainedWidth // Current available is larger than text width,\n      // so don't constrain width (otherwise it may have\n      // empty space in the background).\n      ? null // Current available is smaller than text width, so\n      // use the current available width as constraining\n      // width.\n      : availableInnerWidth : // Current available width is enough, so no need to\n      // constrain.\n      null;\n      label.setStyle('width', newWidth);\n    }\n\n    var newRect = label.getBoundingRect();\n    textRect.width = newRect.width;\n    var margin = (label.style.margin || 0) + 2.1;\n    textRect.height = newRect.height + margin;\n    textRect.y -= (textRect.height - oldHeight) / 2;\n  }\n}\n\nfunction isPositionCenter(sectorShape) {\n  // Not change x for center label\n  return sectorShape.position === 'center';\n}\n\nexport default function pieLabelLayout(seriesModel) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  var viewRect = data.getLayout('viewRect');\n  var r = data.getLayout('r');\n  var viewWidth = viewRect.width;\n  var viewLeft = viewRect.x;\n  var viewTop = viewRect.y;\n  var viewHeight = viewRect.height;\n\n  function setNotShow(el) {\n    el.ignore = true;\n  }\n\n  function isLabelShown(label) {\n    if (!label.ignore) {\n      return true;\n    }\n\n    for (var key in label.states) {\n      if (label.states[key].ignore === false) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  data.each(function (idx) {\n    var sector = data.getItemGraphicEl(idx);\n    var sectorShape = sector.shape;\n    var label = sector.getTextContent();\n    var labelLine = sector.getTextGuideLine();\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get(['emphasis', 'label', 'position']);\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var edgeDistance = parsePercent(labelModel.get('edgeDistance'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (Math.abs(sectorShape.endAngle - sectorShape.startAngle) < minShowLabelRadian) {\n      each(label.states, setNotShow);\n      label.ignore = true;\n      return;\n    }\n\n    if (!isLabelShown(label)) {\n      return;\n    }\n\n    var midAngle = (sectorShape.startAngle + sectorShape.endAngle) / 2;\n    var nx = Math.cos(midAngle);\n    var ny = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = sectorShape.cx;\n    cy = sectorShape.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = sectorShape.cx;\n      textY = sectorShape.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * nx : sectorShape.r * nx) + cx;\n      var y1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * ny : sectorShape.r * ny) + cy;\n      textX = x1 + nx * 3;\n      textY = y1 + ny * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + nx * (labelLineLen + r - sectorShape.r);\n        var y2 = y1 + ny * (labelLineLen + r - sectorShape.r);\n        var x3 = x2 + (nx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = nx < 0 ? viewLeft + edgeDistance : viewLeft + viewWidth - edgeDistance;\n        } else {\n          textX = x3 + (nx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? nx > 0 ? 'right' : 'left' : nx > 0 ? 'left' : 'right';\n    }\n\n    var PI = Math.PI;\n    var labelRotate = 0;\n    var rotate = labelModel.get('rotate');\n\n    if (isNumber(rotate)) {\n      labelRotate = rotate * (PI / 180);\n    } else if (labelPosition === 'center') {\n      labelRotate = 0;\n    } else if (rotate === 'radial' || rotate === true) {\n      var radialAngle = nx < 0 ? -midAngle + PI : -midAngle;\n      labelRotate = radialAngle;\n    } else if (rotate === 'tangential' && labelPosition !== 'outside' && labelPosition !== 'outer') {\n      var rad = Math.atan2(nx, ny);\n\n      if (rad < 0) {\n        rad = PI * 2 + rad;\n      }\n\n      var isDown = ny > 0;\n\n      if (isDown) {\n        rad = PI + rad;\n      }\n\n      labelRotate = rad - PI;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    label.x = textX;\n    label.y = textY;\n    label.rotation = labelRotate;\n    label.setStyle({\n      verticalAlign: 'middle'\n    }); // Not sectorShape the inside label\n\n    if (!isLabelInside) {\n      var textRect = label.getBoundingRect().clone();\n      textRect.applyTransform(label.getComputedTransform()); // Text has a default 1px stroke. Exclude this.\n\n      var margin = (label.style.margin || 0) + 2.1;\n      textRect.y -= margin / 2;\n      textRect.height += margin;\n      labelLayoutList.push({\n        label: label,\n        labelLine: labelLine,\n        position: labelPosition,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        minTurnAngle: labelLineModel.get('minTurnAngle'),\n        maxSurfaceAngle: labelLineModel.get('maxSurfaceAngle'),\n        surfaceNormal: new Point(nx, ny),\n        linePoints: linePoints,\n        textAlign: textAlign,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        edgeDistance: edgeDistance,\n        bleedMargin: bleedMargin,\n        rect: textRect,\n        unconstrainedWidth: textRect.width,\n        labelStyleWidth: label.style.width\n      });\n    } else {\n      label.setStyle({\n        align: textAlign\n      });\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    sector.setTextConfig({\n      inside: isLabelInside\n    });\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n    var labelLine = layout.labelLine;\n    var notShowLabel = isNaN(label.x) || isNaN(label.y);\n\n    if (label) {\n      label.setStyle({\n        align: layout.textAlign\n      });\n\n      if (notShowLabel) {\n        each(label.states, setNotShow);\n        label.ignore = true;\n      }\n\n      var selectState = label.states.select;\n\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n\n    if (labelLine) {\n      var linePoints = layout.linePoints;\n\n      if (notShowLabel || !linePoints) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      } else {\n        limitTurnAngle(linePoints, layout.minTurnAngle);\n        limitSurfaceAngle(linePoints, layout.surfaceNormal, layout.maxSurfaceAngle);\n        labelLine.setShape({\n          points: linePoints\n        }); // Set the anchor to the midpoint of sector\n\n        label.__hostTarget.textGuideLineConfig = {\n          anchor: new Point(linePoints[0][0], linePoints[0][1])\n        };\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport labelLayout from './labelLayout.js';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getSectorCornerRadius } from '../helper/pieHelper.js';\nimport { saveOldStyle } from '../../animation/basicTrasition.js';\nimport { getBasicPieLayout } from './pieLayout.js';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx); // cornerRadius & innerCornerRadius doesn't exist in the item layout. Use `0` if null value is specified.\n    // see `setItemLayout` in `pieLayout.ts`.\n\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout, true), layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (seriesModel.ecModel.ssr) {\n        // Use scale animation in SSR mode(opacity?)\n        // Because CSS SVG animation doesn't support very customized shape animation.\n        graphic.initProps(sector, {\n          scaleX: 0,\n          scaleY: 0\n        }, seriesModel, {\n          dataIndex: idx,\n          isFrom: true\n        });\n        sector.originX = sectorShape.cx;\n        sector.originY = sectorShape.cy;\n      } else if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          if (startAngle != null) {\n            sector.setShape({\n              startAngle: startAngle,\n              endAngle: startAngle\n            });\n            graphic.initProps(sector, {\n              shape: {\n                startAngle: layout.startAngle,\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          } else {\n            sector.shape.endAngle = layout.startAngle;\n            graphic.updateProps(sector, {\n              shape: {\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          }\n        }\n    } else {\n      saveOldStyle(sector); // Transition animation from the old shape\n\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = extend({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    toggleHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    } // remove empty-circle if it exists\n\n\n    if (this._emptyCircleSector) {\n      group.remove(this._emptyCircleSector);\n    } // when all data are filtered, show lightgray empty circle\n\n\n    if (data.count() === 0 && seriesModel.get('showEmptyCircle')) {\n      var sector = new graphic.Sector({\n        shape: getBasicPieLayout(seriesModel, api)\n      });\n      sector.useStyle(seriesModel.getModel('emptyCircleStyle').getItemStyle());\n      this._emptyCircleSector = sector;\n      group.add(sector);\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { getPercentWithPrecision } from '../../util/number.js';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\n\nvar PieSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(PieSeriesModel, _super);\n\n  function PieSeriesModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n\n    this._defaultLabelLine(option);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.mergeOption = function () {\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getInitialData = function () {\n    return createSeriesDataSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  /**\n   * @overwrite\n   */\n\n\n  PieSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n\n    var params = _super.prototype.getDataParams.call(this, dataIndex); // FIXME toFixed?\n\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  };\n\n  PieSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n\n  PieSeriesModel.type = 'series.pie';\n  PieSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    colorBy: 'data',\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // color: 'inherit',\n      // If rotate around circle\n      rotate: 0,\n      show: true,\n      overflow: 'truncate',\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      edgeDistance: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      minTurnAngle: 90,\n      maxSurfaceAngle: 90,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderJoin: 'round'\n    },\n    showEmptyCircle: true,\n    emptyCircleStyle: {\n      color: 'lightgray',\n      opacity: 1\n    },\n    labelLayout: {\n      // Hide the overlapped label.\n      hideOverlap: true\n    },\n    emphasis: {\n      scale: true,\n      scaleSize: 5\n    },\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasingUpdate: 'cubicInOut',\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicInOut'\n  };\n  return PieSeriesModel;\n}(SeriesModel);\n\nexport default PieSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function negativeDataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        // handle negative value condition\n        var valueDim = data.mapDimension('value');\n        var curValue = data.get(valueDim, idx);\n\n        if (isNumber(curValue) && !isNaN(curValue) && curValue < 0) {\n          return false;\n        }\n\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction.js';\nimport pieLayout from '../pie/pieLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport PieView from './PieView.js';\nimport PieSeriesModel from './PieSeries.js';\nimport negativeDataFilter from '../../processor/negativeDataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(PieView);\n  registers.registerSeriesModel(PieSeriesModel);\n  createLegacyDataSelectAction('pie', registers.registerAction);\n  registers.registerLayout(curry(pieLayout, 'pie'));\n  registers.registerProcessor(dataFilter('pie'));\n  registers.registerProcessor(negativeDataFilter('pie'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Point, Path, Polyline } from '../util/graphic.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nimport { cubicProjectPoint, quadraticProjectPoint } from 'zrender/lib/core/curve.js';\nimport { defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport { DISPLAY_STATES, SPECIAL_STATES } from '../util/states.js';\nvar PI2 = Math.PI * 2;\nvar CMD = PathProxy.CMD;\nvar DEFAULT_SEARCH_SPACE = ['top', 'right', 'bottom', 'left'];\n\nfunction getCandidateAnchor(pos, distance, rect, outPt, outDir) {\n  var width = rect.width;\n  var height = rect.height;\n\n  switch (pos) {\n    case 'top':\n      outPt.set(rect.x + width / 2, rect.y - distance);\n      outDir.set(0, -1);\n      break;\n\n    case 'bottom':\n      outPt.set(rect.x + width / 2, rect.y + height + distance);\n      outDir.set(0, 1);\n      break;\n\n    case 'left':\n      outPt.set(rect.x - distance, rect.y + height / 2);\n      outDir.set(-1, 0);\n      break;\n\n    case 'right':\n      outPt.set(rect.x + width + distance, rect.y + height / 2);\n      outDir.set(1, 0);\n      break;\n  }\n}\n\nfunction projectPointToArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y, out) {\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n  x /= d;\n  y /= d; // Intersect point.\n\n  var ox = x * r + cx;\n  var oy = y * r + cy;\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n    // Project point is on the arc.\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n\n  var x1 = r * Math.cos(startAngle) + cx;\n  var y1 = r * Math.sin(startAngle) + cy;\n  var x2 = r * Math.cos(endAngle) + cx;\n  var y2 = r * Math.sin(endAngle) + cy;\n  var d1 = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n  var d2 = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n\n  if (d1 < d2) {\n    out[0] = x1;\n    out[1] = y1;\n    return Math.sqrt(d1);\n  } else {\n    out[0] = x2;\n    out[1] = y2;\n    return Math.sqrt(d2);\n  }\n}\n\nfunction projectPointToLine(x1, y1, x2, y2, x, y, out, limitToEnds) {\n  var dx = x - x1;\n  var dy = y - y1;\n  var dx1 = x2 - x1;\n  var dy1 = y2 - y1;\n  var lineLen = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  dx1 /= lineLen;\n  dy1 /= lineLen; // dot product\n\n  var projectedLen = dx * dx1 + dy * dy1;\n  var t = projectedLen / lineLen;\n\n  if (limitToEnds) {\n    t = Math.min(Math.max(t, 0), 1);\n  }\n\n  t *= lineLen;\n  var ox = out[0] = x1 + t * dx1;\n  var oy = out[1] = y1 + t * dy1;\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\n\nfunction projectPointToRect(x1, y1, width, height, x, y, out) {\n  if (width < 0) {\n    x1 = x1 + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y1 = y1 + height;\n    height = -height;\n  }\n\n  var x2 = x1 + width;\n  var y2 = y1 + height;\n  var ox = out[0] = Math.min(Math.max(x, x1), x2);\n  var oy = out[1] = Math.min(Math.max(y, y1), y2);\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\n\nvar tmpPt = [];\n\nfunction nearestPointOnRect(pt, rect, out) {\n  var dist = projectPointToRect(rect.x, rect.y, rect.width, rect.height, pt.x, pt.y, tmpPt);\n  out.set(tmpPt[0], tmpPt[1]);\n  return dist;\n}\n/**\n * Calculate min distance corresponding point.\n * This method won't evaluate if point is in the path.\n */\n\n\nfunction nearestPointOnPath(pt, path, out) {\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n  var x1;\n  var y1;\n  var minDist = Infinity;\n  var data = path.data;\n  var x = pt.x;\n  var y = pt.y;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++];\n\n    if (i === 1) {\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    var d = minDist;\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        d = projectPointToLine(xi, yi, data[i], data[i + 1], x, y, tmpPt, true);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        d = cubicProjectPoint(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        d = quadraticProjectPoint(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc 旋转\n\n        i += 1;\n        var anticlockwise = !!(1 - data[i++]);\n        x1 = Math.cos(theta) * rx + cx;\n        y1 = Math.sin(theta) * ry + cy; // 不是直接使用 arc 命令\n\n        if (i <= 1) {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        } // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        d = projectPointToArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y, tmpPt);\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        d = projectPointToRect(x0, y0, width, height, x, y, tmpPt);\n        break;\n\n      case CMD.Z:\n        d = projectPointToLine(xi, yi, x0, y0, x, y, tmpPt, true);\n        xi = x0;\n        yi = y0;\n        break;\n    }\n\n    if (d < minDist) {\n      minDist = d;\n      out.set(tmpPt[0], tmpPt[1]);\n    }\n  }\n\n  return minDist;\n} // Temporal varible for intermediate usage.\n\n\nvar pt0 = new Point();\nvar pt1 = new Point();\nvar pt2 = new Point();\nvar dir = new Point();\nvar dir2 = new Point();\n/**\n * Calculate a proper guide line based on the label position and graphic element definition\n * @param label\n * @param labelRect\n * @param target\n * @param targetRect\n */\n\nexport function updateLabelLinePoints(target, labelLineModel) {\n  if (!target) {\n    return;\n  }\n\n  var labelLine = target.getTextGuideLine();\n  var label = target.getTextContent(); // Needs to create text guide in each charts.\n\n  if (!(label && labelLine)) {\n    return;\n  }\n\n  var labelGuideConfig = target.textGuideLineConfig || {};\n  var points = [[0, 0], [0, 0], [0, 0]];\n  var searchSpace = labelGuideConfig.candidates || DEFAULT_SEARCH_SPACE;\n  var labelRect = label.getBoundingRect().clone();\n  labelRect.applyTransform(label.getComputedTransform());\n  var minDist = Infinity;\n  var anchorPoint = labelGuideConfig.anchor;\n  var targetTransform = target.getComputedTransform();\n  var targetInversedTransform = targetTransform && invert([], targetTransform);\n  var len = labelLineModel.get('length2') || 0;\n\n  if (anchorPoint) {\n    pt2.copy(anchorPoint);\n  }\n\n  for (var i = 0; i < searchSpace.length; i++) {\n    var candidate = searchSpace[i];\n    getCandidateAnchor(candidate, 0, labelRect, pt0, dir);\n    Point.scaleAndAdd(pt1, pt0, dir, len); // Transform to target coord space.\n\n    pt1.transform(targetInversedTransform); // Note: getBoundingRect will ensure the `path` being created.\n\n    var boundingRect = target.getBoundingRect();\n    var dist = anchorPoint ? anchorPoint.distance(pt1) : target instanceof Path ? nearestPointOnPath(pt1, target.path, pt2) : nearestPointOnRect(pt1, boundingRect, pt2); // TODO pt2 is in the path\n\n    if (dist < minDist) {\n      minDist = dist; // Transform back to global space.\n\n      pt1.transform(targetTransform);\n      pt2.transform(targetTransform);\n      pt2.toArray(points[0]);\n      pt1.toArray(points[1]);\n      pt0.toArray(points[2]);\n    }\n  }\n\n  limitTurnAngle(points, labelLineModel.get('minTurnAngle'));\n  labelLine.setShape({\n    points: points\n  });\n} // Temporal variable for the limitTurnAngle function\n\nvar tmpArr = [];\nvar tmpProjPoint = new Point();\n/**\n * Reduce the line segment attached to the label to limit the turn angle between two segments.\n * @param linePoints\n * @param minTurnAngle Radian of minimum turn angle. 0 - 180\n */\n\nexport function limitTurnAngle(linePoints, minTurnAngle) {\n  if (!(minTurnAngle <= 180 && minTurnAngle > 0)) {\n    return;\n  }\n\n  minTurnAngle = minTurnAngle / 180 * Math.PI; // The line points can be\n  //      /pt1----pt2 (label)\n  //     /\n  // pt0/\n\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt0, pt1);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(dir2);\n  var minTurnAngleCos = Math.cos(minTurnAngle);\n\n  if (minTurnAngleCos < angleCos) {\n    // Smaller than minTurnAngle\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr); // Calculate new projected length with limited minTurnAngle and get the new connect point\n\n    tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI - minTurnAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n    var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n\n    if (isNaN(t)) {\n      return;\n    }\n\n    if (t < 0) {\n      Point.copy(tmpProjPoint, pt1);\n    } else if (t > 1) {\n      Point.copy(tmpProjPoint, pt2);\n    }\n\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n/**\n * Limit the angle of line and the surface\n * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite\n */\n\nexport function limitSurfaceAngle(linePoints, surfaceNormal, maxSurfaceAngle) {\n  if (!(maxSurfaceAngle <= 180 && maxSurfaceAngle > 0)) {\n    return;\n  }\n\n  maxSurfaceAngle = maxSurfaceAngle / 180 * Math.PI;\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt1, pt0);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(surfaceNormal);\n  var maxSurfaceAngleCos = Math.cos(maxSurfaceAngle);\n\n  if (angleCos < maxSurfaceAngleCos) {\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    var HALF_PI = Math.PI / 2;\n    var angle2 = Math.acos(dir2.dot(surfaceNormal));\n    var newAngle = HALF_PI + angle2 - maxSurfaceAngle;\n\n    if (newAngle >= HALF_PI) {\n      // parallel\n      Point.copy(tmpProjPoint, pt2);\n    } else {\n      // Calculate new projected length with limited minTurnAngle and get the new connect point\n      tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - newAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n      var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n\n      if (isNaN(t)) {\n        return;\n      }\n\n      if (t < 0) {\n        Point.copy(tmpProjPoint, pt1);\n      } else if (t > 1) {\n        Point.copy(tmpProjPoint, pt2);\n      }\n    }\n\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n\nfunction setLabelLineState(labelLine, ignore, stateName, stateModel) {\n  var isNormal = stateName === 'normal';\n  var stateObj = isNormal ? labelLine : labelLine.ensureState(stateName); // Make sure display.\n\n  stateObj.ignore = ignore; // Set smooth\n\n  var smooth = stateModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.3;\n  }\n\n  stateObj.shape = stateObj.shape || {};\n\n  if (smooth > 0) {\n    stateObj.shape.smooth = smooth;\n  }\n\n  var styleObj = stateModel.getModel('lineStyle').getLineStyle();\n  isNormal ? labelLine.useStyle(styleObj) : stateObj.style = styleObj;\n}\n\nfunction buildLabelLinePath(path, shape) {\n  var smooth = shape.smooth;\n  var points = shape.points;\n\n  if (!points) {\n    return;\n  }\n\n  path.moveTo(points[0][0], points[0][1]);\n\n  if (smooth > 0 && points.length >= 3) {\n    var len1 = vector.dist(points[0], points[1]);\n    var len2 = vector.dist(points[1], points[2]);\n\n    if (!len1 || !len2) {\n      path.lineTo(points[1][0], points[1][1]);\n      path.lineTo(points[2][0], points[2][1]);\n      return;\n    }\n\n    var moveLen = Math.min(len1, len2) * smooth;\n    var midPoint0 = vector.lerp([], points[1], points[0], moveLen / len1);\n    var midPoint2 = vector.lerp([], points[1], points[2], moveLen / len2);\n    var midPoint1 = vector.lerp([], midPoint0, midPoint2, 0.5);\n    path.bezierCurveTo(midPoint0[0], midPoint0[1], midPoint0[0], midPoint0[1], midPoint1[0], midPoint1[1]);\n    path.bezierCurveTo(midPoint2[0], midPoint2[1], midPoint2[0], midPoint2[1], points[2][0], points[2][1]);\n  } else {\n    for (var i = 1; i < points.length; i++) {\n      path.lineTo(points[i][0], points[i][1]);\n    }\n  }\n}\n/**\n * Create a label line if necessary and set it's style.\n */\n\n\nexport function setLabelLineStyle(targetEl, statesModels, defaultStyle) {\n  var labelLine = targetEl.getTextGuideLine();\n  var label = targetEl.getTextContent();\n\n  if (!label) {\n    // Not show label line if there is no label.\n    if (labelLine) {\n      targetEl.removeTextGuideLine();\n    }\n\n    return;\n  }\n\n  var normalModel = statesModels.normal;\n  var showNormal = normalModel.get('show');\n  var labelIgnoreNormal = label.ignore;\n\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateName = DISPLAY_STATES[i];\n    var stateModel = statesModels[stateName];\n    var isNormal = stateName === 'normal';\n\n    if (stateModel) {\n      var stateShow = stateModel.get('show');\n      var isLabelIgnored = isNormal ? labelIgnoreNormal : retrieve2(label.states[stateName] && label.states[stateName].ignore, labelIgnoreNormal);\n\n      if (isLabelIgnored // Not show when label is not shown in this state.\n      || !retrieve2(stateShow, showNormal) // Use normal state by default if not set.\n      ) {\n          var stateObj = isNormal ? labelLine : labelLine && labelLine.states[stateName];\n\n          if (stateObj) {\n            stateObj.ignore = true;\n          }\n\n          continue;\n        } // Create labelLine if not exists\n\n\n      if (!labelLine) {\n        labelLine = new Polyline();\n        targetEl.setTextGuideLine(labelLine); // Reset state of normal because it's new created.\n        // NOTE: NORMAL should always been the first!\n\n        if (!isNormal && (labelIgnoreNormal || !showNormal)) {\n          setLabelLineState(labelLine, true, 'normal', statesModels.normal);\n        } // Use same state proxy.\n\n\n        if (targetEl.stateProxy) {\n          labelLine.stateProxy = targetEl.stateProxy;\n        }\n      }\n\n      setLabelLineState(labelLine, false, stateName, stateModel);\n    }\n  }\n\n  if (labelLine) {\n    defaults(labelLine.style, defaultStyle); // Not fill.\n\n    labelLine.style.fill = null;\n    var showAbove = normalModel.get('showAbove');\n    var labelLineConfig = targetEl.textGuideLineConfig = targetEl.textGuideLineConfig || {};\n    labelLineConfig.showAbove = showAbove || false; // Custom the buildPath.\n\n    labelLine.buildPath = buildLabelLinePath;\n  }\n}\nexport function getLabelLineStatesModels(itemModel, labelLineName) {\n  labelLineName = labelLineName || 'labelLine';\n  var statesModels = {\n    normal: itemModel.getModel(labelLineName)\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelLineName]);\n  }\n\n  return statesModels;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider =\n/** @class */\nfunction () {\n  function LegendVisualProvider( // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual, // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n\n  return LegendVisualProvider;\n}();\n\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray, map } from 'zrender/lib/core/util.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nexport function getSectorCornerRadius(model, shape, zeroIfNull) {\n  var cornerRadius = model.get('borderRadius');\n\n  if (cornerRadius == null) {\n    return zeroIfNull ? {\n      cornerRadius: 0\n    } : null;\n  }\n\n  if (!isArray(cornerRadius)) {\n    cornerRadius = [cornerRadius, cornerRadius, cornerRadius, cornerRadius];\n  }\n\n  var dr = Math.abs(shape.r || 0 - shape.r0 || 0);\n  return {\n    cornerRadius: map(cornerRadius, function (cr) {\n      return parsePercent(cr, dr);\n    })\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}"],"sourceRoot":""}