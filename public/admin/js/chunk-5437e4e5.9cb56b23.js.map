{"version":3,"sources":["webpack:///./src/views/marketing/live_broadcast/edit.vue?69c4","webpack:///./src/components/live-broadcast/live-upload.vue?a40e","webpack:///./src/views/marketing/live_broadcast/edit.vue","webpack:///./src/components/live-broadcast/live-upload.vue","webpack:///./src/components/live-broadcast/live-upload.vue?103f","webpack:///./src/components/live-broadcast/live-upload.vue?456d","webpack:///./src/components/live-broadcast/live-upload.vue?4c60","webpack:///./src/views/marketing/live_broadcast/edit.vue?f4dd","webpack:///./src/views/marketing/live_broadcast/edit.vue?93cb","webpack:///./src/views/marketing/live_broadcast/edit.vue?66fe","webpack:///./src/api/marketing/live_broadcast.ts","webpack:///./src/components/material-select/index.vue","webpack:///./src/components/material-select/index.vue?f2a0","webpack:///./src/components/material-select/index.vue?630d","webpack:///./src/components/material-select/index.vue?bfaf","webpack:///./src/components/material-select/index.vue?0cf7"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","mode","on","$event","$router","go","ref","formRules","form","model","value","name","callback","$$v","$set","expression","type","_v","pickerOptions","start","end","anchor_name","anchor_wechat","setShareImg","setFeedsImg","setCoverImg","close_like","close_goods","close_comment","close_replay","close_share","close_kf","is_feeds_public","staticStyle","onSubmit","staticRenderFns","class","ishide","action","token","$store","getters","version","handleRemove","handleSuccess","handleExceed","handleError","LsUpload","Vue","constructor","config","baseURL","file","fileList","console","log","response","$emit","data","media_id","err","$message","error","Component","components","component","LiveBroadcastEdit","shortcuts","text","onClick","picker","Date","date","setTime","getTime","PageMode","start_time","end_time","cover_img","share_img","feeds_img","required","message","trigger","val","$refs","formRef","validate","valid","liveRoomAdd","dateStart","dateEnd","apiLiveRoomAdd","then","res","setTimeout","catch","MaterialSelect","LiveUpload","apiLiveRoomLists","params","request","get","post","apiLiveRoomDel","apiLiveGoodsLists","apiLiveGoodsAdd","apiLiveGoodsDel","tipsText","handleConfirm","hiddenTrigger","_e","stopPropagation","slot","disabled","dragDisabled","handleChange","_l","item","index","key","limit","showDialog","$scopedSlots","preview","_t","imageUri","uri","size","enableDelete","delImage","directives","rawName","showUpload","$slots","upload","style","width","height","background","uploadBg","default","_s","meterialLimit","selectChange","MediaSelect","isAdd","length","enableDomain","$getImageUri","valueChange","Array","isArray","undefined","currentIndex","materialDialog","onTrigger","select","material","clearSelectList","selectUri","map","url","concat","splice","shift","valueImg","__decorate","Prop","Watch","immediate","LsDialog","LsMaterial","Draggable","FileItem"],"mappings":"kHAAA,W,6DCAA,W,2CCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACH,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,iBAAiB,CAACI,MAAM,CAAC,QAAuB,QAAbN,EAAIO,KAAe,QAAQ,IAAIC,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,QAAQ,GAAGT,EAAG,UAAU,CAACU,IAAI,UAAUN,MAAM,CAAC,MAAQN,EAAIa,UAAU,MAAQb,EAAIc,KAAK,cAAc,QAAQ,KAAO,UAAU,CAACZ,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACH,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,WAAWS,MAAM,CAACC,MAAOhB,EAAIc,KAAKG,KAAMC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,OAAQK,IAAME,WAAW,gBAAgB,GAAGnB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACJ,EAAG,iBAAiB,CAACG,YAAY,SAASU,MAAM,CAACC,MAAOhB,EAAIc,KAAKQ,KAAMJ,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,OAAQK,IAAME,WAAW,cAAc,CAACnB,EAAG,WAAW,CAACG,YAAY,SAASC,MAAM,CAAC,MAAQ,IAAI,CAACN,EAAIuB,GAAG,WAAW,GAAGrB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,yBAAyB,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,KAAK,CAACJ,EAAG,iBAAiB,CAACI,MAAM,CAAC,iBAAiBN,EAAIwB,cAAc,KAAO,WAAW,YAAc,UAAU,MAAQ,QAAQ,eAAe,uBAAuBT,MAAM,CAACC,MAAOhB,EAAIyB,MAAOP,SAAS,SAAUC,GAAMnB,EAAIyB,MAAMN,GAAKE,WAAW,WAAWnB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,4CAA4C,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,KAAK,CAACJ,EAAG,iBAAiB,CAACI,MAAM,CAAC,iBAAiBN,EAAIwB,cAAc,KAAO,WAAW,YAAc,UAAU,MAAQ,QAAQ,eAAe,uBAAuBT,MAAM,CAACC,MAAOhB,EAAI0B,IAAKR,SAAS,SAAUC,GAAMnB,EAAI0B,IAAIP,GAAKE,WAAW,SAASnB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,qCAAqC,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,WAAWS,MAAM,CAACC,MAAOhB,EAAIc,KAAKa,YAAaT,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,cAAeK,IAAME,WAAW,uBAAuB,GAAGnB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,kBAAkB,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,YAAYS,MAAM,CAACC,MAAOhB,EAAIc,KAAKc,cAAeV,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,gBAAiBK,IAAME,WAAW,wBAAwBnB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,2CAA2C,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,CAACJ,EAAG,cAAc,CAACM,GAAG,CAAC,SAAWR,EAAI6B,eAAe3B,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,iCAAiCrB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,qCAAqC,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,CAACJ,EAAG,cAAc,CAACM,GAAG,CAAC,SAAWR,EAAI8B,eAAe5B,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,0CAA0C,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,CAACJ,EAAG,cAAc,CAACM,GAAG,CAAC,SAAWR,EAAI+B,eAAe7B,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACL,EAAIuB,GAAG,wDAAwD,GAAGrB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,KAAK,CAACJ,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKkB,WAAYd,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,aAAcK,IAAME,WAAW,oBAAoB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKmB,YAAaf,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,cAAeK,IAAME,WAAW,qBAAqB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKoB,cAAehB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,gBAAiBK,IAAME,WAAW,uBAAuB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKqB,aAAcjB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,eAAgBK,IAAME,WAAW,sBAAsB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKsB,YAAalB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,cAAeK,IAAME,WAAW,qBAAqB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKuB,SAAUnB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,WAAYK,IAAME,WAAW,kBAAkB,CAACrB,EAAIuB,GAAG,UAAUrB,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGS,MAAM,CAACC,MAAOhB,EAAIc,KAAKwB,gBAAiBpB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,KAAM,kBAAmBK,IAAME,WAAW,yBAAyB,CAACrB,EAAIuB,GAAG,cAAc,IAAI,OAAOrB,EAAG,MAAM,CAACG,YAAY,4BAA4B,CAACH,EAAG,MAAM,CAACG,YAAY,kBAAkBkC,YAAY,CAAC,OAAS,SAAS,CAACrC,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,SAASE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,MAAM,CAACX,EAAIuB,GAAG,QAAQrB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIwC,cAAc,CAACxC,EAAIuB,GAAG,SAAS,MAAM,IAE9+JkB,EAAkB,G,gDCFlB1C,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,GAAG,CAACA,EAAG,YAAY,CAACwC,MAAM1C,EAAI2C,OAAS,OAAO,GAAGrC,MAAM,CAAC,OAASN,EAAI4C,OAAO,QAAU,CAACC,MAAO7C,EAAI8C,OAAOC,QAAQF,MAAOG,QAAShD,EAAIgD,SAAS,YAAY,eAAe,MAAQ,EAAE,YAAYhD,EAAIiD,aAAa,aAAajD,EAAIkD,cAAc,YAAYlD,EAAImD,aAAa,WAAWnD,EAAIoD,cAAc,CAAClD,EAAG,IAAI,CAACG,YAAY,oBAAoB,IAEvboC,EAAkB,G,YCSrB,IAAqBY,EAArB,cAAsCC,OAAtCC,c,oBAIC,KAAAX,OAAYY,OAAOC,QAAV,kCACT,KAAAT,QAAUQ,OAAOR,QACjB,KAAAL,QAAS,EAETM,aAAaS,EAAWC,GACvBC,QAAQC,IAAI,OAAQH,EAAMC,GAC1B1D,KAAK0C,QAAS,EAEfO,cAAcY,EAAeJ,EAAWC,GACvC1D,KAAK8D,MAAM,WAAYD,EAASE,KAAKC,UACrCL,QAAQC,IAAI,OAAQC,GACpB7D,KAAK0C,QAAS,EAEfS,YAAYc,EAAUR,GACrBzD,KAAKkE,SAASC,MAASV,EAAKzC,KAAR,UAErBkC,eACClD,KAAKkE,SAASC,MAAM,kBArBDf,EAAQ,gBAJ5BgB,eAAU,CACVC,WAAY,MAGQjB,WCXkY,I,wBCQpZkB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCCd,IAAqBC,EAArB,cAA+ClB,OAA/CC,c,oBAEC,KAAA/B,cAAgB,CACfiD,UAAW,CAAC,CACXC,KAAM,KACNC,QAAQC,GACPA,EAAOb,MAAM,OAAQ,IAAIc,QAExB,CACFH,KAAM,KACNC,QAAQC,GACP,MAAME,EAAO,IAAID,KACjBC,EAAKC,QAAQD,EAAKE,UAAY,OAC9BJ,EAAOb,MAAM,OAAQe,KAEpB,CACFJ,KAAM,MACNC,QAAQC,GACP,MAAME,EAAO,IAAID,KACjBC,EAAKC,QAAQD,EAAKE,UAAY,QAC9BJ,EAAOb,MAAM,OAAQe,OAKxB,KAAAvE,KAAe0E,OAAS,OAExB,KAAAnE,KAAO,CACNQ,KAAM,EACNL,KAAM,GACNiE,WAAY,EACZC,SAAU,EACVxD,YAAa,GACbC,cAAe,GAEfwD,UAAW,mEACXC,UAAW,mEACXC,UAAW,mEACXhD,gBAAiB,EACjBN,WAAY,EACZC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,YAAa,EACbC,SAAU,GAGX,KAAAZ,MAAQ,GACR,KAAAC,IAAM,GAEN,KAAAb,UAAY,CACXS,KAAM,CAAC,CACNiE,UAAU,EACVC,QAAS,UACTC,QAAS,WAEVxE,KAAM,CAAC,CACNsE,UAAU,EACVC,QAAS,UACTC,QAAS,SAEVP,WAAY,CAAC,CACZK,UAAU,EACVC,QAAS,YACTC,QAAS,WAEVN,SAAU,CAAC,CACVI,UAAU,EACVC,QAAS,YACTC,QAAS,WAEV9D,YAAa,CAAC,CACb4D,UAAU,EACVC,QAAS,UACTC,QAAS,SAEV7D,cAAe,CAAC,CACf2D,UAAU,EACVC,QAAS,WACTC,QAAS,SAEVL,UAAW,CAAC,CACXG,UAAU,EACVC,QAAS,cACTC,QAAS,SAEVJ,UAAW,CAAC,CACXE,UAAU,EACVC,QAAS,cACTC,QAAS,SAEVH,UAAW,CAAC,CACXC,UAAU,EACVC,QAAS,cACTC,QAAS,UAOX1D,YAAY2D,GACXzF,KAAKa,KAAKsE,UAAYM,EAEvB7D,YAAY6D,GACXzF,KAAKa,KAAKuE,UAAYK,EAEvB5D,YAAY4D,GACXzF,KAAKa,KAAKwE,UAAYI,EAIvBlD,WAECvC,KAAK0F,MAAMC,QAAQC,SAAUC,IACvBA,IAGLlC,QAAQC,IAAI,QAQZ5D,KAAK8F,iBAKPA,cACC,IAAIC,EAAY,IAAInB,KAAK5E,KAAKwB,OAC9BxB,KAAKa,KAAKoE,WAAac,EAAUhB,UAAU,IAC3C,IAAIiB,EAAU,IAAIpB,KAAK5E,KAAKyB,KAC5BzB,KAAKa,KAAKqE,SAAWc,EAAQjB,UAAU,IAEvCkB,eAAejG,KAAKa,MAClBqF,KAAMC,IACNC,WAAW,IAAMpG,KAAKS,QAAQC,IAAI,GAAI,OAEtC2F,MAAOpC,IACPN,QAAQC,IAAI,OAAQK,OA9IHM,EAAiB,gBANrCH,eAAU,CACVC,WAAY,CACXiC,sBACAC,iBAGmBhC,WCpB6Y,ICQ/Z,G,UAAY,eACd,EACAzE,EACA0C,GACA,EACA,KACA,WACA,OAIa,e,sECnBf,4NAGO,MAAMgE,EAAoBC,GAAgBC,OAAQC,IAAI,uBAAwB,CAACF,WAGzER,EAAkBQ,GAAgBC,OAAQE,KAAK,qBAAsBH,GAGrEI,EAAkBJ,GAAgBC,OAAQE,KAAK,qBAAsBH,GAMrEK,EAAqBL,GAAgBC,OAAQC,IAAI,wBAAyB,CAACF,WAG3EM,EAAmBN,GAAgBC,OAAQE,KAAK,sBAAuBH,GAGvEO,EAAmBP,GAAgBC,OAAQE,KAAK,sBAAuBH,I,yDCrBpF,IAAI3G,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,YAAY,CAACU,IAAI,iBAAiBP,YAAY,kBAAkBC,MAAM,CAAC,MAAS,KAAIN,EAAIkH,SAAW,MAAQ,SAAS,IAAM,QAAQ1G,GAAG,CAAC,QAAUR,EAAImH,gBAAgB,CAAGnH,EAAIoH,cAAkiDpH,EAAIqH,KAAvhDnH,EAAG,MAAM,CAACG,YAAY,oCAAoCC,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO6G,oBAAqBC,KAAK,WAAW,CAACrH,EAAG,YAAY,CAACG,YAAY,eAAeC,MAAM,CAAC,UAAY,MAAM,SAAWN,EAAIwH,UAAYxH,EAAIyH,cAAcjH,GAAG,CAAC,OAASR,EAAI0H,cAAc3G,MAAM,CAACC,MAAOhB,EAAI2D,SAAUzC,SAAS,SAAUC,GAAMnB,EAAI2D,SAASxC,GAAKE,WAAW,aAAarB,EAAI2H,GAAI3H,EAAI2D,UAAU,SAASiE,EAAKC,GAAO,OAAO3H,EAAG,MAAM,CAAC4H,IAAIF,EAAOC,EAAMxH,YAAY,+BAA+BqC,MAAM,CAAE,cAAe1C,EAAIwH,SAAU,SAAuB,GAAbxH,EAAI+H,OAAavH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIgI,YAAW,EAAOH,MAAU,CAAE7H,EAAIiI,aAAaC,QAAShI,EAAG,MAAM,CAACF,EAAImI,GAAG,UAAU,KAAK,CAAC,KAAOnI,EAAIoI,SAASR,MAAS,GAAG1H,EAAG,YAAY,CAACI,MAAM,CAAC,KAAON,EAAIsB,KAAK,KAAO,CAAE+G,IAAKrI,EAAIoI,SAASR,IAAO,KAAO5H,EAAIsI,QAAStI,EAAIuI,aAAcrI,EAAG,IAAI,CAACG,YAAY,4BAA4BG,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO6G,kBAAyBtH,EAAIwI,SAASX,OAAW7H,EAAIqH,MAAM,MAAK,GAAGnH,EAAG,MAAM,CAACuI,WAAW,CAAC,CAACxH,KAAK,OAAOyH,QAAQ,SAAS1H,MAAOhB,EAAI2I,WAAYtH,WAAW,eAAehB,YAAY,kBAAkBqC,MAAM,CAAE,cAAe1C,EAAIwH,SAAW,SAAuB,GAAbxH,EAAI+H,OAAavH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIgI,YAAW,MAAS,CAAEhI,EAAI4I,OAAOC,OAAQ3I,EAAG,MAAM,CAACF,EAAImI,GAAG,WAAW,GAAGjI,EAAG,MAAM,CAACG,YAAY,6BAA6ByI,MAAO,CAAEC,MAAU/I,EAAIsI,KAAN,KAAgBU,OAAWhJ,EAAIsI,KAAN,KAAgBW,WAAYjJ,EAAIkJ,WAAY,CAAClJ,EAAImI,GAAG,WAAanI,EAAI4I,OAAOO,QAAwDnJ,EAAIqH,KAAnDnH,EAAG,OAAO,CAACF,EAAIuB,GAAG,KAAKvB,EAAIoJ,GAAGpJ,EAAIkH,cAAuB,MAAM,GAAYhH,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,cAAc,CAACU,IAAI,WAAWN,MAAM,CAAC,YAAY,GAAG,KAAON,EAAIsB,KAAK,MAAQtB,EAAIqJ,eAAe7I,GAAG,CAAC,OAASR,EAAIsJ,iBAAiB,MAEj+D7G,EAAkB,G,iFCatB,IAAqB8G,EAArB,cAAyCjG,OAAzCC,c,oBAgBI,KAAAiG,OAAQ,EACR,KAAA7F,SAAkB,GAEJ,iBACV,MAAM,SAAEA,EAAF,MAAYoE,GAAU9H,KAC5B,OAAO8H,EAAQpE,EAAS8F,OAAS,EAGpB,oBACb,OAAKxJ,KAAKuJ,MAGNvJ,KAAK8H,MACF9H,KAAK8H,MAAQ9H,KAAK0D,SAAS8F,OADV,KAFb,EAMH,eACR,OAAQxJ,KAAKqB,MACT,IAAK,QACD,MAAO,KACX,IAAK,QACD,MAAO,MAGP,eACR,OAAQsG,GACG3H,KAAKyJ,aAAe9B,EAAQ3H,KAAK0J,aAAa/B,GAI7DgC,YAAYlE,GACRzF,KAAK0D,SAAWkG,MAAMC,QAAQpE,GAAOA,EAAa,IAAPA,EAAY,GAAK,CAACA,GAEjEsC,WAAWwB,GAAiB,EAAM3B,GAAa,MACvC5H,KAAKuH,WACTvH,KAAKuJ,MAAQA,OACCO,IAAVlC,IACA5H,KAAK+J,aAAenC,GAExB,UAAA5H,KAAK0F,MAAMsE,sBAAX,SAA2BC,aAE/BZ,aAAa5D,GACTzF,KAAKkK,OAASzE,EAElByB,gBACIlH,KAAK0F,MAAMyE,SAASC,kBACpB,MAAMC,EAAYrK,KAAKkK,OAAOI,IAAK3C,GAAS3H,KAAKyJ,aAAe9B,EAAKS,IAAMT,EAAK4C,KAC3EvK,KAAKuJ,MAGNvJ,KAAK0D,SAAW1D,KAAK0D,SAAS8G,OAAOH,GAFrCrK,KAAK0D,SAAS+G,OAAOzK,KAAK+J,aAAc,EAAGM,EAAUK,SAIzD1K,KAAKyH,eAGTc,SAASX,GACL5H,KAAK0D,SAAS+G,OAAO7C,EAAO,GAC5B5H,KAAKyH,eAETA,eACI,MAAMkD,EACY,GAAd3K,KAAK8H,MAAa9H,KAAK0D,SAAW1D,KAAK0D,SAAS,IAAM,GAC1D1D,KAAK8D,MAAM,QAAS6G,GACpB3K,KAAK8D,MAAM,SAAU6G,GACrB3K,KAAK0D,SAAW,KA3ESkH,gBAA5BC,eAAK,CAAE3B,QAAS,IAAM,MAAM,4BAEP0B,gBAArBC,eAAK,CAAE3B,QAAS,KAAK,4BACI0B,gBAAzBC,eAAK,CAAE3B,QAAS,SAAS,2BACA0B,gBAAzBC,eAAK,CAAE3B,SAAS,KAAS,+BACA0B,gBAAzBC,eAAK,CAAE3B,SAAS,KAAS,mCACA0B,gBAAzBC,eAAK,CAAE3B,SAAS,KAAS,oCACE0B,gBAA3BC,eAAK,CAAE3B,QAAS,WAAW,2BACM0B,gBAAjCC,eAAK,CAAE3B,QAAS,iBAAiB,+BACT0B,gBAAxBC,eAAK,CAAE3B,SAAS,KAAQ,mCACA0B,gBAAxBC,eAAK,CAAE3B,SAAS,KAAQ,mCA+BzB0B,gBADCE,eAAM,QAAS,CAAEC,WAAW,KAC7B,gCA9CiBzB,EAAW,gBAR/BlF,eAAU,CACPC,WAAY,CACR2G,gBACAC,kBACAC,cACAC,oBAGa7B,WCf6X,I,wBCQ9YhF,EAAY,eACd,EACAxE,EACA0C,GACA,EACA,KACA,WACA,MAIa,OAAA8B,E,2CCnBf","file":"js/chunk-5437e4e5.9cb56b23.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=0428d5db&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=style&index=0&id=4d6cc57c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"live-broadcast-edit\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":_vm.mode === 'add'?'新建直播间':''},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('el-form',{ref:\"formRef\",attrs:{\"rules\":_vm.formRules,\"model\":_vm.form,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('div',{staticClass:\"ls-card m-t-16\"},[_c('div',{staticClass:\"card-content m-t-24\"},[_c('el-form-item',{attrs:{\"label\":\"直播间标题\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入直播标题\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"直播类型\",\"prop\":\"type\"}},[_c('el-radio-group',{staticClass:\"m-r-16\",model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-radio',{staticClass:\"m-r-16\",attrs:{\"label\":0}},[_vm._v(\"手机直播\")])],1),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 通过“小程序直播/推流设备”开播 \")])],1),_c('el-form-item',{attrs:{\"label\":\"开播时间\",\"prop\":\"\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions,\"type\":\"datetime\",\"placeholder\":\"请输入开播时间\",\"align\":\"right\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.start),callback:function ($$v) {_vm.start=$$v},expression:\"start\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 填写直播开始时间，开播时间需要在当前时间的10分钟后并且不能在6个月后 \")])],1),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions,\"type\":\"datetime\",\"placeholder\":\"请输入结束时间\",\"align\":\"right\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.end),callback:function ($$v) {_vm.end=$$v},expression:\"end\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 开播时间和结束时间间隔不得短于30分钟，不得超过24小时 \")])],1),_c('el-form-item',{attrs:{\"label\":\"主播昵称\",\"prop\":\"anchor_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主播昵称\"},model:{value:(_vm.form.anchor_name),callback:function ($$v) {_vm.$set(_vm.form, \"anchor_name\", $$v)},expression:\"form.anchor_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"主播微信号\",\"prop\":\"anchor_wechat\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入主播微信号\"},model:{value:(_vm.form.anchor_wechat),callback:function ($$v) {_vm.$set(_vm.form, \"anchor_wechat\", $$v)},expression:\"form.anchor_wechat\"}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\" 每个直播间需要绑定主播微信号身份，用以核实主播身份，不会展示给观众。 \")])],1),_c('el-form-item',{attrs:{\"label\":\"分享卡片封面\",\"prop\":\"share_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setShareImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"用户在微信对话框内分享的直播间将以分享卡片的形式呈现。\")]),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"建议尺寸：800像素 * 640像素，图片大小不得超过1M。\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播卡片封面\",\"prop\":\"feeds_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setFeedsImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"图片建议大小为 800像素 * 800像素。图片大小不超过300KB。\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播间背景墙\",\"prop\":\"cover_img\"}},[_c('live-upload',{on:{\"setImage\":_vm.setCoverImg}}),_c('div',{staticClass:\"muted xs m-r-16\"},[_vm._v(\"直播间背景墙是每个直播间的默认背景。 建议尺寸：600像素 * 1300像素，图片大小不得超过3M\")])],1),_c('el-form-item',{attrs:{\"label\":\"直播间功能\",\"prop\":\"\"}},[_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_like),callback:function ($$v) {_vm.$set(_vm.form, \"close_like\", $$v)},expression:\"form.close_like\"}},[_vm._v(\"开启点赞\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_goods),callback:function ($$v) {_vm.$set(_vm.form, \"close_goods\", $$v)},expression:\"form.close_goods\"}},[_vm._v(\"开启货架\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_comment),callback:function ($$v) {_vm.$set(_vm.form, \"close_comment\", $$v)},expression:\"form.close_comment\"}},[_vm._v(\"开启评论\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_replay),callback:function ($$v) {_vm.$set(_vm.form, \"close_replay\", $$v)},expression:\"form.close_replay\"}},[_vm._v(\"开启回放\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_share),callback:function ($$v) {_vm.$set(_vm.form, \"close_share\", $$v)},expression:\"form.close_share\"}},[_vm._v(\"开启分享\")]),_c('el-checkbox',{attrs:{\"true-label\":0,\"false-label\":1},model:{value:(_vm.form.close_kf),callback:function ($$v) {_vm.$set(_vm.form, \"close_kf\", $$v)},expression:\"form.close_kf\"}},[_vm._v(\"开启客服\")]),_c('el-checkbox',{attrs:{\"true-label\":1,\"false-label\":0},model:{value:(_vm.form.is_feeds_public),callback:function ($$v) {_vm.$set(_vm.form, \"is_feeds_public\", $$v)},expression:\"form.is_feeds_public\"}},[_vm._v(\"开启官方收录 \")])],1)],1)])]),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit()}}},[_vm._v(\"保存\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{},[_c('el-upload',{class:_vm.ishide ? 'hide':'',attrs:{\"action\":_vm.action,\"headers\":{token: _vm.$store.getters.token, version: _vm.version},\"list-type\":\"picture-card\",\"limit\":1,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"on-error\":_vm.handleError}},[_c('i',{staticClass:\"el-icon-plus\"})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\timport {\n\t\tComponent,\n\t\tVue,\n\t\tProp\n\t} from \"vue-property-decorator\";\n\timport config from '@/config'\n\t@Component({\n\t\tcomponents: {\n\t\t},\n\t})\n\texport default class LsUpload extends Vue {\n\t\t\n\t\t// @Prop() value ? : string // imgUrl\n\t\t\n\t\taction = `${config.baseURL}/adminapi/upload/wechatMaterial`\n\t\tversion = config.version\n\t\tishide = false\n\t\t\n\t\thandleRemove(file: any, fileList: any) {\n\t\t\tconsole.log('删除成功', file, fileList);\n\t\t\tthis.ishide = false\n\t\t}\n\t\thandleSuccess(response: any, file: any, fileList: any[]) {\n\t\t\tthis.$emit('setImage', response.data.media_id)\n\t\t\tconsole.log('上传成功', response)\n\t\t\tthis.ishide = true\n\t\t}\n\t\thandleError(err: any, file: any) {\n\t\t\tthis.$message.error(`${file.name}文件上传失败`)\n\t\t}\n\t\thandleExceed() {\n\t\t\tthis.$message.error(\"超出上传上限，请重新上传\")\n\t\t}\n\t}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-upload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./live-upload.vue?vue&type=template&id=4d6cc57c&scoped=true&\"\nimport script from \"./live-upload.vue?vue&type=script&lang=ts&\"\nexport * from \"./live-upload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./live-upload.vue?vue&type=style&index=0&id=4d6cc57c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d6cc57c\",\n  null\n  \n)\n\nexport default component.exports","\n\timport {\n\t\tComponent,\n\t\tVue,\n\t\tWatch,\n\t} from \"vue-property-decorator\";\n\timport {\n\t\tPageMode\n\t} from '@/utils/type'\n\timport MaterialSelect from '@/components/material-select/index.vue'\n\timport LiveUpload from '@/components/live-broadcast/live-upload.vue'\n\timport {\n\t\tapiLiveRoomAdd\n\t} from \"@/api/marketing/live_broadcast\"\n\t@Component({\n\t\tcomponents: {\n\t\t\tMaterialSelect,\n\t\t\tLiveUpload,\n\t\t},\n\t})\n\texport default class LiveBroadcastEdit extends Vue {\n\n\t\tpickerOptions = {\n\t\t\tshortcuts: [{\n\t\t\t\ttext: '今天',\n\t\t\t\tonClick(picker: any) {\n\t\t\t\t\tpicker.$emit('pick', new Date());\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\ttext: '昨天',\n\t\t\t\tonClick(picker: any) {\n\t\t\t\t\tconst date = new Date();\n\t\t\t\t\tdate.setTime(date.getTime() - 3600 * 1000 * 24);\n\t\t\t\t\tpicker.$emit('pick', date);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\ttext: '一周前',\n\t\t\t\tonClick(picker: any) {\n\t\t\t\t\tconst date = new Date();\n\t\t\t\t\tdate.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n\t\t\t\t\tpicker.$emit('pick', date);\n\t\t\t\t}\n\t\t\t}]\n\t\t}\n\n\t\tmode: string = PageMode['ADD'] // 当前页面【add: 添加 | edit: 编辑】\n\n\t\tform = {\n\t\t\ttype: 0, //【1: 推流，0：手机直播】\n\t\t\tname: '', // 直播间名称\n\t\t\tstart_time: 0, // 直播开始时间\n\t\t\tend_time: 0, // 直播结束时间\n\t\t\tanchor_name: '', // 主播名称\n\t\t\tanchor_wechat: '', // 主播微信号 wapftp\n\t\t\t// sub_anchor_wechat: 'wapftp', // 主播副号微信号\n\t\t\tcover_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 背景图（调用上传素材接口， 拿返回的media_id）\n\t\t\tshare_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 分享图（调用上传素材接口， 拿返回的media_id）\n\t\t\tfeeds_img: 'U8e65h4PYWSpnMLKL0c8UGbDu_oowNJ-FtTGM6oE4PdkGNJJd6H89SN1mK1RbIRm', // 购物直播频道封面图（调用上传素材接口， 拿返回的media_id）\n\t\t\tis_feeds_public: 0, // 是否开启官方收录 【1: 开启，0：关闭】，默认开启收录\n\t\t\tclose_like: 0, // 是否关闭点赞 【0：开启，1：关闭】（若关闭，观众端将隐藏点赞按钮，直播开始后不允许开启）\n\t\t\tclose_goods: 0, // 是否关闭货架 【0：开启，1：关闭】（若关闭，观众端将隐藏商品货架，直播开始后不允许开启）\n\t\t\tclose_comment: 0, // 是否关闭评论 【0：开启，1：关闭】（若关闭，观众端将隐藏评论入口，直播开始后不允许开启）\n\t\t\tclose_replay: 0, // 是否关闭回放 【0：开启，1：关闭】默认关闭回放（直播开始后允许开启）\n\t\t\tclose_share: 0, // 是否关闭分享 【0：开启，1：关闭】默认开启分享（直播开始后不允许修改）\n\t\t\tclose_kf: 0, // 是否关闭客服 【0：开启，1：关闭】 默认关闭客服（直播开始后允许开启）\t\n\t\t}\n\t\t\n\t\tstart = '' // 直播开始时间\n\t\tend = '' // 直播结束时间\n\n\t\tformRules = {\n\t\t\ttype: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择直播类型',\n\t\t\t\ttrigger: 'change'\n\t\t\t}],\n\t\t\tname: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请输入直播标题',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t\tstart_time: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择直播开始时间',\n\t\t\t\ttrigger: 'change'\n\t\t\t}],\n\t\t\tend_time: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择直播结束时间',\n\t\t\t\ttrigger: 'change'\n\t\t\t}],\n\t\t\tanchor_name: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请输入主播昵称',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t\tanchor_wechat: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请输入主播微信号',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t\tcover_img: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择直播间背景墙图片',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t\tshare_img: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择分享卡片封面图片',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t\tfeeds_img: [{\n\t\t\t\trequired: true,\n\t\t\t\tmessage: '请选择直播卡片封面图片',\n\t\t\t\ttrigger: 'blur'\n\t\t\t}],\n\t\t}\n\t\t$refs!: {\n\t\t\tformRef: any\n\t\t}\n\n\t\tsetCoverImg(val: any) {\n\t\t\tthis.form.cover_img = val\n\t\t}\n\t\tsetShareImg(val: any) {\n\t\t\tthis.form.share_img = val\n\t\t}\n\t\tsetFeedsImg(val: any) {\n\t\t\tthis.form.feeds_img = val\n\t\t}\n\n\t\t// 表单提交\n\t\tonSubmit() {\n\t\t\t// 验证表单格式是否正确\n\t\t\tthis.$refs.formRef.validate((valid: boolean): any => {\n\t\t\t\tif (!valid) return;\n\n\n\t\t\t\tconsole.log('发送请求')\n\t\t\t\t// 请求发送\n\t\t\t\t// switch (this.mode) {\n\t\t\t\t// \tcase PageMode['ADD']:\n\t\t\t\t// \t\treturn this.handleUserLabelAdd()\n\t\t\t\t// \tcase PageMode['EDIT']:\n\t\t\t\t// \t\treturn this.handleUserLabelEdit()\n\t\t\t\t// }\n\t\t\t\tthis.liveRoomAdd()\n\t\t\t})\n\t\t}\n\n\t\t// 创建直播间\n\t\tliveRoomAdd() {\n\t\t\tlet dateStart = new Date(this.start)\n\t\t\tthis.form.start_time = dateStart.getTime()/1000\n\t\t\tlet dateEnd = new Date(this.end)\n\t\t\tthis.form.end_time = dateEnd.getTime()/1000\n\t\t\t\n\t\t\tapiLiveRoomAdd(this.form)\n\t\t\t\t.then((res: any) => {\n\t\t\t\t\tsetTimeout(() => this.$router.go(-1), 500)\n\t\t\t\t})\n\t\t\t\t.catch((err: any) => {\n\t\t\t\t\tconsole.log('err:', err)\n\t\t\t\t})\n\t\t}\n\n\t}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=0428d5db&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=0428d5db&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0428d5db\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/plugins/axios'\n\n// 直播间列表\nexport const apiLiveRoomLists = (params: any) => request.get('/live.LiveRoom/lists', {params})\n\n// 创建直播间\nexport const apiLiveRoomAdd = (params: any) => request.post('/live.LiveRoom/add', params)\n\n// 删除直播间\nexport const apiLiveRoomDel = (params: any) => request.post('/live.LiveRoom/del', params)\n\n// 上传素材\nexport const apiLiveRoomUploadMaterial = (params: any) => request.post('/live.LiveRoom/uploadMaterial', params)\n\n// 直播商品列表\nexport const apiLiveGoodsLists = (params: any) => request.get('/live.LiveGoods/lists', {params})\n\n// 添加直播商品\nexport const apiLiveGoodsAdd = (params: any) => request.post('/live.LiveGoods/add', params)\n\n// 删除直播商品\nexport const apiLiveGoodsDel = (params: any) => request.post('/live.LiveGoods/del', params)\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ls-dialog',{ref:\"materialDialog\",staticClass:\"material-select\",attrs:{\"title\":`选择${_vm.tipsText}`,\"width\":\"1050px\",\"top\":\"15vh\"},on:{\"confirm\":_vm.handleConfirm}},[(!_vm.hiddenTrigger)?_c('div',{staticClass:\"material-select__trigger clearfix\",attrs:{\"slot\":\"trigger\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"trigger\"},[_c('draggable',{staticClass:\"ls-draggable\",attrs:{\"animation\":\"300\",\"disabled\":_vm.disabled || _vm.dragDisabled},on:{\"update\":_vm.handleChange},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:item + index,staticClass:\"material-preview ls-del-wrap\",class:{ 'is-disabled': _vm.disabled, 'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(false, index)}}},[(_vm.$scopedSlots.preview)?_c('div',[_vm._t(\"preview\",null,{\"item\":_vm.imageUri(item)})],2):_c('file-item',{attrs:{\"type\":_vm.type,\"item\":{ uri: _vm.imageUri(item)},\"size\":_vm.size}}),(_vm.enableDelete)?_c('i',{staticClass:\"el-icon-close ls-icon-del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delImage(index)}}}):_vm._e()],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],staticClass:\"material-upload\",class:{ 'is-disabled': _vm.disabled,  'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(true)}}},[(_vm.$slots.upload)?_c('div',[_vm._t(\"upload\")],2):_c('div',{staticClass:\"upload-btn flex row-center\",style:({ width: `${_vm.size}px`, height: `${_vm.size}px`, background: _vm.uploadBg})},[_vm._t(\"default\"),(!_vm.$slots.default)?_c('span',[_vm._v(\"添加\"+_vm._s(_vm.tipsText))]):_vm._e()],2)])],1):_vm._e(),_c('div',{staticClass:\"material-wrap\"},[_c('ls-material',{ref:\"material\",attrs:{\"page-size\":15,\"type\":_vm.type,\"limit\":_vm.meterialLimit},on:{\"change\":_vm.selectChange}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport LsDialog from '@/components/ls-dialog.vue'\nimport LsMaterial from './material.vue'\nimport FileItem from './file-item.vue'\nimport Draggable from 'vuedraggable'\n\n@Component({\n    components: {\n        LsDialog,\n        LsMaterial,\n        Draggable,\n        FileItem,\n    },\n})\nexport default class MediaSelect extends Vue {\n    $refs!: { materialDialog: any; material: any }\n    select!: any[]\n    currentIndex!: number\n    // 双向数据绑定的值\n    @Prop({ default: () => [] }) value!: [] | string\n    // 图片张数限制\n    @Prop({ default: 1 }) limit!: number \n    @Prop({ default: '100' }) size!: string\n    @Prop({ default: false }) disabled!: boolean //禁用图片选择\n    @Prop({ default: false }) dragDisabled!: boolean //禁用图片拖拽\n    @Prop({ default: false }) hiddenTrigger!: boolean //是否隐藏\n    @Prop({ default: 'image' }) type!: 'image' | 'video' //是否隐藏\n    @Prop({ default: 'transparent' }) uploadBg!: string\n    @Prop({ default: true }) enableDomain!: boolean\n    @Prop({ default: true }) enableDelete!: boolean\n    isAdd = true\n    fileList: any[] = []\n\n    get showUpload() {\n        const { fileList, limit } = this\n        return limit - fileList.length > 0\n    }\n\n    get meterialLimit() {\n        if (!this.isAdd) {\n            return 1\n        }\n        if(!this.limit ) return null\n        return this.limit - this.fileList.length\n    }\n\n    get tipsText() {\n        switch (this.type) {\n            case 'image':\n                return '图片'\n            case 'video':\n                return '视频'\n        }\n    }\n    get imageUri() {\n        return (item: string) => {\n            return this.enableDomain ? item :  this.$getImageUri(item) \n        }\n    }\n    @Watch('value', { immediate: true })\n    valueChange(val: any[] | string) {\n        this.fileList = Array.isArray(val) ? val : val == '' ? [] : [val]\n    }\n    showDialog(isAdd: boolean = true, index: number) {\n        if (this.disabled) return\n        this.isAdd = isAdd\n        if (index !== undefined) {\n            this.currentIndex = index\n        }\n        this.$refs.materialDialog?.onTrigger()\n    }\n    selectChange(val: any[]) {\n        this.select = val\n    }\n    handleConfirm() {\n        this.$refs.material.clearSelectList()\n        const selectUri = this.select.map((item) => this.enableDomain ? item.uri : item.url)\n        if (!this.isAdd) {\n            this.fileList.splice(this.currentIndex, 1, selectUri.shift())\n        } else {\n            this.fileList = this.fileList.concat(selectUri)\n        }\n        this.handleChange()\n    }\n\n    delImage(index: number) {\n        this.fileList.splice(index, 1)\n        this.handleChange()\n    }\n    handleChange() {\n        const valueImg =\n            this.limit != 1 ? this.fileList : this.fileList[0] || ''\n        this.$emit('input', valueImg)\n        this.$emit('change', valueImg)\n        this.fileList = []\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1503bff6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1503bff6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\""],"sourceRoot":""}