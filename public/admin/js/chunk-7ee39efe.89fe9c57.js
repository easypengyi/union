(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ee39efe"],{"469e":function(t,e,a){"use strict";a.d(e,"l",(function(){return n})),a.d(e,"h",(function(){return r})),a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"k",(function(){return m})),a.d(e,"j",(function(){return b})),a.d(e,"i",(function(){return g}));var s=a("f175");const n=t=>s["a"].get("/settings.system.log/lists",{params:t}),r=()=>s["a"].post("/settings.system.cache/clear"),i=()=>s["a"].get("/crontab.crontab/lists"),o=t=>s["a"].post("/crontab.crontab/add",t),l=t=>s["a"].get("/crontab.crontab/detail",{params:t}),c=t=>s["a"].post("/crontab.crontab/edit",t),u=t=>s["a"].post("/crontab.crontab/delete",t),d=t=>s["a"].get("/crontab.crontab/expression",{params:t}),p=t=>s["a"].post("/crontab.crontab/operate",t),m=t=>s["a"].get("/settings.system.upgrade/lists"),b=t=>s["a"].post("/settings.system.upgrade/downloadPkg",t),g=t=>s["a"].post("/settings.system.upgrade/upgrade",t)},"8c8f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"ls-card"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goTaskAdd}},[t._v("添加定时任务")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pager.loading,expression:"pager.loading"}],ref:"paneTable",staticClass:"m-t-24",staticStyle:{width:"100%"},attrs:{data:t.pager.lists,size:"mini"}},[e("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"100"}}),e("el-table-column",{attrs:{prop:"type_desc",label:"类型","min-width":"80"}}),e("el-table-column",{attrs:{prop:"command",label:"命令","min-width":"120"}}),e("el-table-column",{attrs:{prop:"params",label:"参数","min-width":"80"}}),e("el-table-column",{attrs:{prop:"expression",label:"规则","min-width":"160"}}),e("el-table-column",{attrs:{prop:"status_desc",label:"状态","min-width":"80"}}),e("el-table-column",{attrs:{prop:"error",label:"错误原因","min-width":"80"}}),e("el-table-column",{attrs:{prop:"last_time",label:"最后执行时间","min-width":"180"}}),e("el-table-column",{attrs:{prop:"time",label:"时长","min-width":"110"}}),e("el-table-column",{attrs:{prop:"max_time",label:"最大时长","min-width":"110"}}),e("el-table-column",{attrs:{label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.goTaskEdit(a.row.id)}}},[t._v("编辑")]),e("ls-dialog",{staticClass:"m-l-10 m-t-20 m-b-20 inline",attrs:{content:"确定要停删除个定时任务吗？请谨慎操作"},on:{confirm:function(e){return t.onDel(a.row.id)}}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"mini"},slot:"trigger"},[t._v("删除 ")])],1)]}}])})],1),e("div",{staticClass:"m-t-24 flex row-right"},[e("ls-pagination",{on:{change:t.getList},model:{value:t.pager,callback:function(e){t.pager=e},expression:"pager"}})],1)],1)])},n=[],r=a("9ab4"),i=a("469e"),o=a("1b40"),l=a("3c50"),c=a("6ddb"),u=a("4201"),d=a("0a6d");let p=class extends o["e"]{constructor(){super(...arguments),this.pager=new c["a"]}getList(){this.pager.request({callback:i["f"],params:{}}).catch(()=>{this.$message.error("数据请求失败，刷新重载!")})}onStop(t){Object(i["g"])({id:t.id,operate:1==t.status?"stop":"start"}).then(()=>{this.getList()})}onDel(t){Object(i["b"])({id:t}).then(()=>{this.getList(),this.$message.success("删除成功!")}).catch(()=>{this.$message.error("删除失败!")})}goTaskAdd(){this.$router.push({path:"/setting/task_edit",query:{mode:u["f"]["ADD"]}})}goTaskEdit(t){this.$router.push({path:"/setting/task_edit",query:{id:t,mode:u["f"]["EDIT"]}})}created(){this.getList()}};p=Object(r["a"])([Object(o["a"])({components:{LsDialog:d["a"],LsPagination:l["a"]}})],p);var m=p,b=m,g=a("2877"),h=Object(g["a"])(b,s,n,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-7ee39efe.89fe9c57.js.map