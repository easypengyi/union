{"version":3,"sources":["webpack:///./src/views/setting/permissions/admin_edit.vue","webpack:///./src/views/setting/permissions/admin_edit.vue?8a20","webpack:///./src/views/setting/permissions/admin_edit.vue?589b","webpack:///./src/views/setting/permissions/admin_edit.vue?e726","webpack:///./src/api/setting/permissions.ts","webpack:///./src/views/setting/permissions/admin_edit.vue?b227","webpack:///./src/components/material-select/index.vue","webpack:///./src/components/material-select/index.vue?f2a0","webpack:///./src/components/material-select/index.vue?630d","webpack:///./src/components/material-select/index.vue?bfaf","webpack:///./src/components/material-select/index.vue?0cf7"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","identity","on","$event","$router","go","ref","rules","form","model","value","account","callback","$$v","$set","expression","name","role_id","_l","roleList","item","index","key","id","password","password_confirm","styleConfig","primary","disable","multipoint_login","avatar","staticStyle","_v","onSubmit","staticRenderFns","AdminEdit","Vue","constructor","mode","PageMode","validatePassword","required","message","trigger","validator","rule","Error","validatePasswordConfirm","min","max","formName","refs","$refs","validate","valid","handleAdminAdd","handleAdminEdit","apiAdminAdd","then","$message","success","setTimeout","catch","error","params","apiAdminEdit","geRoleList","apiRoleList","page_type","res","lists","initFormDataForAdminEdit","apiAdminDetail","Object","keys","map","console","log","created","query","$route","changePasswordInput","__decorate","Watch","Component","components","MaterialSelect","component","apiAdminList","request","get","data","post","apiAdminDelete","apiRoleDetail","apiRoleAdd","apiRoleEdit","apiRoleDelete","apiAuthMenu","tipsText","handleConfirm","hiddenTrigger","_e","stopPropagation","slot","disabled","dragDisabled","handleChange","fileList","class","limit","showDialog","$scopedSlots","preview","_t","imageUri","type","uri","size","enableDelete","delImage","directives","rawName","showUpload","$slots","upload","style","width","height","background","uploadBg","default","_s","meterialLimit","selectChange","MediaSelect","isAdd","length","enableDomain","$getImageUri","valueChange","val","Array","isArray","undefined","currentIndex","materialDialog","onTrigger","select","material","clearSelectList","selectUri","url","concat","splice","shift","valueImg","$emit","Prop","immediate","LsDialog","LsMaterial","Draggable","FileItem"],"mappings":"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","file":"js/chunk-5681f47c.de479da0.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"ls-add-admin\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":_vm.identity?'编辑管理员':'添加管理员'},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',{staticClass:\"ls-card m-t-16\"},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"account\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"maxlength\":\"8\",\"show-word-limit\":\"\",\"placeholder\":\"请输入账号\"},model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"maxlength\":\"8\",\"show-word-limit\":\"\",\"placeholder\":\"请输入名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"role_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择角色\"},model:{value:(_vm.form.role_id),callback:function ($$v) {_vm.$set(_vm.form, \"role_id\", $$v)},expression:\"form.role_id\"}},_vm._l((_vm.roleList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"password_confirm\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入确认密码\"},model:{value:(_vm.form.password_confirm),callback:function ($$v) {_vm.$set(_vm.form, \"password_confirm\", $$v)},expression:\"form.password_confirm\"}})],1),_c('el-form-item',{attrs:{\"label\":\"管理员状态\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"active-color\":_vm.styleConfig.primary,\"inactive-color\":\"#f4f4f5\"},on:{\"change\":value => this.$set(this.form, 'disable', value)},model:{value:(_vm.form.disable),callback:function ($$v) {_vm.$set(_vm.form, \"disable\", $$v)},expression:\"form.disable\"}})],1),_c('el-form-item',{attrs:{\"label\":\"支持多处登录\"}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":_vm.styleConfig.primary,\"inactive-color\":\"#f4f4f5\"},on:{\"change\":value => this.$set(this.form, 'multipoint_login', value)},model:{value:(_vm.form.multipoint_login),callback:function ($$v) {_vm.$set(_vm.form, \"multipoint_login\", $$v)},expression:\"form.multipoint_login\"}})],1),_c('el-form-item',{attrs:{\"label\":\"管理员头像\"}},[_c('material-select',{attrs:{\"limit\":1},model:{value:(_vm.form.avatar),callback:function ($$v) {_vm.$set(_vm.form, \"avatar\", $$v)},expression:\"form.avatar\"}})],1)],1)],1),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"保存\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Vue, Watch} from 'vue-property-decorator'\nimport {\n    apiAdminAdd,\n    apiAdminDetail,\n    apiAdminEdit,\n    apiRoleList,\n} from '@/api/setting/permissions'\nimport {AdminAdd_Req, AdminEdit_Req} from '@/api/setting/permissions.d'\nimport {PageMode} from '@/utils/type'\nimport MaterialSelect from '@/components/material-select/index.vue'\n\n@Component({\n    components: {\n        MaterialSelect,\n    },\n})\nexport default class AdminEdit extends Vue {\n    /** S Data **/\n    mode: string = PageMode['ADD']      // 当前页面【add: 添加管理员 | edit: 编辑管理员】\n    identity: number | null = null      // 当前编辑用户的身份ID  valid: mode = 'edit'\n    roleList: Array<object> = []        // 角色的数据\n\n    // 添加管理员表单数据\n    form: any = {\n        account: '',            // 账号\n        name: '',               // 名称\n        password: '',           // 密码\n        password_confirm: '',   // 确认密码\n        role_id: '',            // 角色id\n        disable: 0,             // 禁用：0-否；1-是\n        multipoint_login: 1,    // N端登录：0-否；1-是\n        avatar: '',             // 头像路径\n    }\n\n    // 校验密码\n    validatePassword = [\n        {required: true, message: '请输入密码', trigger: 'blur'},\n        {\n            validator: (rule: object, value: string, callback: any) => {\n                !value\n                    ? callback(new Error('请输入密码'))\n                    : callback();\n            },\n            trigger: 'blur'\n        }\n    ]\n\n    // 校验确认密码\n    validatePasswordConfirm = [\n        {required: true, message: '请再次输入密码', trigger: 'blur'},\n        {\n            validator: (rule: object, value: string, callback: any) => {\n                if (this.form.password) {\n                    if (!value) callback(new Error('请再次输入密码'))\n                    if (value !== this.form.password) callback(new Error('两次输入密码不一致!'))\n                }\n                callback()\n            },\n            trigger: 'blur'\n        }\n    ]\n\n    // 表单校验\n    rules = {\n        account: [\n            {required: true, message: '请输入账号', trigger: 'blur'},\n            {min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur'}\n        ],\n        name: [\n            {required: true, message: '请输入活动名称', trigger: 'blur'},\n            {min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n        ],\n        role_id: [\n            {required: true, message: '请选择角色', trigger: 'change'}\n        ],\n        password: [],\n        password_confirm: [],\n    }\n\n    /** E Data **/\n\n\n    /** S Methods **/\n    // 点击表单提交\n    onSubmit(formName: string) {\n        // 验证表单格式是否正确\n        const refs = this.$refs[formName] as HTMLFormElement\n        refs.validate((valid: boolean): any => {\n            if (!valid) return;\n\n            // 请求发送\n            switch (this.mode) {\n                case PageMode['ADD']:\n                    return this.handleAdminAdd()\n                case PageMode['EDIT']:\n                    return this.handleAdminEdit()\n            }\n        })\n    }\n\n    // 添加管理员\n    handleAdminAdd() {\n        const form = this.form as AdminAdd_Req\n        apiAdminAdd(form).then(() => {\n            this.$message.success('添加成功!')\n            setTimeout(() => this.$router.go(-1), 500)\n        }).catch(() => {\n            this.$message.error('保存失败!')\n        })\n    }\n\n    // 编辑管理员\n    handleAdminEdit() {\n        const params = this.form\n        const id: number = this.identity as number\n        apiAdminEdit({...params, id} as AdminEdit_Req).then(() => {\n            this.$message.success('修改成功!')\n            setTimeout(() => this.$router.go(-1), 500)\n        }).catch(() => {\n            this.$message.error('保存失败!')\n        })\n    }\n\n    // 获取角色列表\n    geRoleList() {\n        apiRoleList({\n            page_type: 1,\n        }).then(res => {\n            this.roleList = res.lists;\n        })\n    }\n\n    // 表单初始化数据 [编辑模式] mode => edit\n    initFormDataForAdminEdit() {\n        apiAdminDetail({\n            id: this.identity as number\n        }).then(res => {\n            Object.keys(res).map(key => {\n                this.$set(this.form, key, res[key])\n            })\n\t\t\tconsole.log(this.form)\n        }).catch(() => {\n            this.$message.error('数据初始化失败，请刷新重载！') \n        })\n    }\n\n    /** E Methods **/\n\n\n    /** S Life Cycle **/\n    created() {\n        const query: any = this.$route.query\n\n        if (query.mode) this.mode = query.mode\n\n        // 编辑模式：初始化数据\n        if (this.mode === PageMode['EDIT']) {\n            this.identity = query.id * 1\n            this.initFormDataForAdminEdit()\n        }\n\n        if (this.mode === PageMode['ADD']) {\n            this.$set(this.rules, 'password', this.validatePassword)\n            this.$set(this.rules, 'password_confirm', this.validatePasswordConfirm)\n        }\n\n        // 获取角色列表\n        this.geRoleList()\n    }\n\n    @Watch('form.password')\n    changePasswordInput(value: string) {\n        if (this.mode === PageMode['EDIT']) {\n            value\n                ? this.$set(this.rules, 'password_confirm', this.validatePasswordConfirm)\n                : this.$set(this.rules, 'password_confirm', [])\n        }\n    }\n\n    /** E Life Cycle **/\n\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin_edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin_edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./admin_edit.vue?vue&type=template&id=ea7396b6&scoped=true&\"\nimport script from \"./admin_edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./admin_edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./admin_edit.vue?vue&type=style&index=0&id=ea7396b6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea7396b6\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/plugins/axios'\nimport * as Interface from '@/api/setting/permissions.d'\n\n\n/** S 管理员 **/\n// 管理员列表 \nexport const apiAdminList = (params: Interface.AdminList_Req): Promise<Interface.AdminList_Res> =>\n    request.get('/auth.admin/lists', { params })\n\n// 管理员详情\nexport const apiAdminDetail = (params: Interface.AdminDetail_Req): Promise<Interface.AdminDetail_Res> =>\n    request.get('/auth.admin/detail', { params })\n\n// 添加管理员\nexport const apiAdminAdd = (data: Interface.AdminAdd_Req): Promise<any> =>\n    request.post('/auth.admin/add', data)\n\n// 删除管理员\nexport const apiAdminDelete = (data: Interface.AdminDelete_Req): Promise<any> =>\n    request.post('/auth.admin/delete', data)\n\n// 编辑管理员\nexport const apiAdminEdit = (data: Interface.AdminEdit_Req): Promise<any> =>\n    request.post('/auth.admin/edit', data)\n\n/** E 管理员 **/\n\n\n\n/** S 角色 **/\n// 角色列表\nexport const apiRoleList = (params?: Interface.RoleList_Req): Promise<Interface.RoleList_Res> =>\n    request.get('/auth.role/lists', { params })\n\n// 角色详情\nexport const apiRoleDetail = (params: Interface.RoleDetail_Req): Promise<Interface.RoleDetail_Res> =>\n    request.get('/auth.role/detail', { params })\n\n// 添加角色\nexport const apiRoleAdd = (data: Interface.RoleAdd_Req): Promise<any> =>\n    request.post('/auth.role/add', data)\n\n// 编辑角色\nexport const apiRoleEdit = (data: Interface.RoleEdit_Req): Promise<any> =>\n    request.post('/auth.role/edit', data)\n\n// 删除角色\nexport const apiRoleDelete = (data: Interface.RoleDelete_Req): Promise<any> =>\n    request.post('/auth.role/delete', data)\n\n// 权限菜单\nexport const apiAuthMenu = () => request.post('/config/getMenu')\n/** E 角色 **/","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin_edit.vue?vue&type=style&index=0&id=ea7396b6&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ls-dialog',{ref:\"materialDialog\",staticClass:\"material-select\",attrs:{\"title\":`选择${_vm.tipsText}`,\"width\":\"1050px\",\"top\":\"15vh\"},on:{\"confirm\":_vm.handleConfirm}},[(!_vm.hiddenTrigger)?_c('div',{staticClass:\"material-select__trigger clearfix\",attrs:{\"slot\":\"trigger\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"trigger\"},[_c('draggable',{staticClass:\"ls-draggable\",attrs:{\"animation\":\"300\",\"disabled\":_vm.disabled || _vm.dragDisabled},on:{\"update\":_vm.handleChange},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:item + index,staticClass:\"material-preview ls-del-wrap\",class:{ 'is-disabled': _vm.disabled, 'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(false, index)}}},[(_vm.$scopedSlots.preview)?_c('div',[_vm._t(\"preview\",null,{\"item\":_vm.imageUri(item)})],2):_c('file-item',{attrs:{\"type\":_vm.type,\"item\":{ uri: _vm.imageUri(item)},\"size\":_vm.size}}),(_vm.enableDelete)?_c('i',{staticClass:\"el-icon-close ls-icon-del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delImage(index)}}}):_vm._e()],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],staticClass:\"material-upload\",class:{ 'is-disabled': _vm.disabled,  'is-one': _vm.limit == 1 },on:{\"click\":function($event){return _vm.showDialog(true)}}},[(_vm.$slots.upload)?_c('div',[_vm._t(\"upload\")],2):_c('div',{staticClass:\"upload-btn flex row-center\",style:({ width: `${_vm.size}px`, height: `${_vm.size}px`, background: _vm.uploadBg})},[_vm._t(\"default\"),(!_vm.$slots.default)?_c('span',[_vm._v(\"添加\"+_vm._s(_vm.tipsText))]):_vm._e()],2)])],1):_vm._e(),_c('div',{staticClass:\"material-wrap\"},[_c('ls-material',{ref:\"material\",attrs:{\"page-size\":15,\"type\":_vm.type,\"limit\":_vm.meterialLimit},on:{\"change\":_vm.selectChange}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport LsDialog from '@/components/ls-dialog.vue'\nimport LsMaterial from './material.vue'\nimport FileItem from './file-item.vue'\nimport Draggable from 'vuedraggable'\n\n@Component({\n    components: {\n        LsDialog,\n        LsMaterial,\n        Draggable,\n        FileItem,\n    },\n})\nexport default class MediaSelect extends Vue {\n    $refs!: { materialDialog: any; material: any }\n    select!: any[]\n    currentIndex!: number\n    // 双向数据绑定的值\n    @Prop({ default: () => [] }) value!: [] | string\n    // 图片张数限制\n    @Prop({ default: 1 }) limit!: number \n    @Prop({ default: '100' }) size!: string\n    @Prop({ default: false }) disabled!: boolean //禁用图片选择\n    @Prop({ default: false }) dragDisabled!: boolean //禁用图片拖拽\n    @Prop({ default: false }) hiddenTrigger!: boolean //是否隐藏\n    @Prop({ default: 'image' }) type!: 'image' | 'video' //是否隐藏\n    @Prop({ default: 'transparent' }) uploadBg!: string\n    @Prop({ default: true }) enableDomain!: boolean\n    @Prop({ default: true }) enableDelete!: boolean\n    isAdd = true\n    fileList: any[] = []\n\n    get showUpload() {\n        const { fileList, limit } = this\n        return limit - fileList.length > 0\n    }\n\n    get meterialLimit() {\n        if (!this.isAdd) {\n            return 1\n        }\n        if(!this.limit ) return null\n        return this.limit - this.fileList.length\n    }\n\n    get tipsText() {\n        switch (this.type) {\n            case 'image':\n                return '图片'\n            case 'video':\n                return '视频'\n        }\n    }\n    get imageUri() {\n        return (item: string) => {\n            return this.enableDomain ? item :  this.$getImageUri(item) \n        }\n    }\n    @Watch('value', { immediate: true })\n    valueChange(val: any[] | string) {\n        this.fileList = Array.isArray(val) ? val : val == '' ? [] : [val]\n    }\n    showDialog(isAdd: boolean = true, index: number) {\n        if (this.disabled) return\n        this.isAdd = isAdd\n        if (index !== undefined) {\n            this.currentIndex = index\n        }\n        this.$refs.materialDialog?.onTrigger()\n    }\n    selectChange(val: any[]) {\n        this.select = val\n    }\n    handleConfirm() {\n        this.$refs.material.clearSelectList()\n        const selectUri = this.select.map((item) => this.enableDomain ? item.uri : item.url)\n        if (!this.isAdd) {\n            this.fileList.splice(this.currentIndex, 1, selectUri.shift())\n        } else {\n            this.fileList = this.fileList.concat(selectUri)\n        }\n        this.handleChange()\n    }\n\n    delImage(index: number) {\n        this.fileList.splice(index, 1)\n        this.handleChange()\n    }\n    handleChange() {\n        const valueImg =\n            this.limit != 1 ? this.fileList : this.fileList[0] || ''\n        this.$emit('input', valueImg)\n        this.$emit('change', valueImg)\n        this.fileList = []\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1503bff6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1503bff6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1503bff6&prod&scoped=true&lang=scss&\""],"sourceRoot":""}