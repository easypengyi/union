(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dc0814a"],{"2c96":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),e("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:t.title,visible:t.visible,width:t.width,top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1}},[e("div",{},[e("el-form",{ref:"formRef",attrs:{rules:t.formRules,model:t.form,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"用户信息",prop:""}},[e("div",{},[t._v(" "+t._s(t.nickname)+"("+t._s(t.sn)+") ")])]),e("el-form-item",{attrs:{label:"当前上级分销商",prop:""}},[e("div",{},[t._v(" "+t._s(t.value)+" ")])]),e("el-form-item",{attrs:{label:"调整方式",prop:"type",required:""}},[e("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[e("el-radio",{attrs:{label:"assign"}},[t._v("指定分销商")]),e("el-radio",{attrs:{label:"system"}},[t._v("设置分销商为系统")])],1),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 选择“设置分销商为系统”时，用户的上级分销商会默认为系统 ")])],1),e("el-form-item",{attrs:{label:"选择分销商",prop:"",required:""}},[e("div",{staticClass:"flex"},[""!=t.selectUser.nickname?e("div",{staticClass:"m-r-10"},[t._v(" "+t._s(t.selectUser.nickname||"")+"("+t._s(t.selectUser.sn||"")+") ")]):t._e(),e("ls-user-select",{attrs:{title:"选择用户",userId:t.form.user_id},on:{getUser:t.getUser}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v("选择用户")])],1)],1),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 选择新的分销商 ")])])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("确认")])],1)])],1)},r=[],a=i("9ab4"),n=i("1b40"),o=i("f633"),l=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),e("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:t.title,visible:t.visible,width:t.width,top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1,"append-to-body":!0}},[e("div",{},[e("el-form",{staticClass:"ls-form",attrs:{inline:"",model:t.form,"label-width":"70px",size:"small"}},[e("el-form-item",{attrs:{label:"用户信息"}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用户编号"},model:{value:t.isNameSN,callback:function(e){t.isNameSN=e},expression:"isNameSN"}},[e("el-option",{attrs:{label:"用户编号",value:"0"}}),e("el-option",{attrs:{label:"用户昵称",value:"1"}})],1),0==t.isNameSN?e("el-input",{attrs:{placeholder:"请输入用户编号查询"},model:{value:t.form.sn,callback:function(e){t.$set(t.form,"sn",e)},expression:"form.sn"}}):t._e(),1==t.isNameSN?e("el-input",{attrs:{placeholder:"请输入用户昵称查询"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}}):t._e()],1),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.getList}},[t._v("查询")]),e("el-button",{attrs:{size:"small"},on:{click:t.onReset}},[t._v("重置")])],1),e("div",{staticClass:"list-table m-t-16"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:t.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[e("el-table-column",{attrs:{prop:"sn",label:"用户编号","min-width":"",width:""}}),e("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"",width:""}})],1)],1),e("div",{staticClass:"flex row-right m-t-16 row-right"},[e("ls-pagination",{on:{change:function(e){return t.getList()}},model:{value:t.pager,callback:function(e){t.pager=e},expression:"pager"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("确认")])],1)])],1)},u=[],d=i("6ddb"),c=i("3c50");let b=class extends n["e"]{constructor(){super(...arguments),this.visible=!1,this.isNameSN="",this.form={user_id:"",sn:"",nickname:""},this.pager=new d["a"],this.currentRow={},this.formRules={}}getuserId(t){this.$set(this.form,"user_id",t)}getChange(t){this.form.sn="",this.form.nickname=""}onTrigger(){this.getList(),this.visible=!0}close(){this.visible=!1,this.form.sn="",this.form.nickname=""}onSubmit(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择用户"):(this.$emit("getUser",this.currentRow),void(this.visible=!1))}getList(){this.pager.request({callback:o["a"],params:{...this.form}}).then(t=>{})}onReset(){this.form.sn="",this.form.nickname="",this.getList()}handleCurrentChange(t){this.currentRow=t}};Object(a["a"])([Object(n["c"])()],b.prototype,"userId",void 0),Object(a["a"])([Object(n["c"])({default:""})],b.prototype,"title",void 0),Object(a["a"])([Object(n["c"])({default:"880px"})],b.prototype,"width",void 0),Object(a["a"])([Object(n["c"])({default:"10vh"})],b.prototype,"top",void 0),Object(a["a"])([Object(n["f"])("userId",{immediate:!0})],b.prototype,"getuserId",null),Object(a["a"])([Object(n["f"])("isNameSN",{immediate:!0})],b.prototype,"getChange",null),b=Object(a["a"])([Object(n["a"])({components:{LsPagination:c["a"]}})],b);var m=b,f=m,p=i("2877"),v=Object(p["a"])(f,l,u,!1,null,"644d5468",null),g=v.exports;let _=class extends n["e"]{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:"assign",first_id:""},this.selectUser={id:"",nickname:"",sn:""},this.formRules={type:[{required:!0,message:"请选择",trigger:"change"}]}}getuserId(t){console.log("userId",t),this.$set(this.form,"user_id",t)}getUser(t){null!=t&&(this.selectUser=t,this.form.first_id=this.selectUser.id)}onSubmit(){this.$refs.formRef.validate(t=>{if(t){if(""==this.form.first_id&&"assign"==this.form.type)return this.$message.error("请选择上级分销商");Object(o["v"])({...this.form}).then(t=>{console.log(t),this.$emit("refresh")}).catch(t=>{console.log(t)}),this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}};Object(a["a"])([Object(n["c"])()],_.prototype,"value",void 0),Object(a["a"])([Object(n["c"])()],_.prototype,"nickname",void 0),Object(a["a"])([Object(n["c"])()],_.prototype,"sn",void 0),Object(a["a"])([Object(n["c"])()],_.prototype,"userId",void 0),Object(a["a"])([Object(n["c"])({default:""})],_.prototype,"title",void 0),Object(a["a"])([Object(n["c"])({default:"660px"})],_.prototype,"width",void 0),Object(a["a"])([Object(n["c"])({default:"20vh"})],_.prototype,"top",void 0),Object(a["a"])([Object(n["f"])("userId",{immediate:!0})],_.prototype,"getuserId",null),_=Object(a["a"])([Object(n["a"])({components:{LsUserSelect:g}})],_);var h=_,y=h,j=Object(p["a"])(y,s,r,!1,null,"726bde6c",null);e["a"]=j.exports},3185:function(t,e,i){"use strict";i("475c")},4072:function(t,e,i){"use strict";i.d(e,"f",(function(){return r})),i.d(e,"z",(function(){return a})),i.d(e,"A",(function(){return n})),i.d(e,"m",(function(){return o})),i.d(e,"l",(function(){return l})),i.d(e,"k",(function(){return u})),i.d(e,"n",(function(){return d})),i.d(e,"u",(function(){return c})),i.d(e,"t",(function(){return b})),i.d(e,"c",(function(){return m})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return p})),i.d(e,"v",(function(){return v})),i.d(e,"y",(function(){return g})),i.d(e,"b",(function(){return _})),i.d(e,"a",(function(){return h})),i.d(e,"g",(function(){return y})),i.d(e,"i",(function(){return j})),i.d(e,"j",(function(){return k})),i.d(e,"s",(function(){return O})),i.d(e,"q",(function(){return C})),i.d(e,"r",(function(){return w})),i.d(e,"o",(function(){return x})),i.d(e,"p",(function(){return D})),i.d(e,"w",(function(){return L})),i.d(e,"h",(function(){return z})),i.d(e,"x",(function(){return I}));var s=i("f175");const r=()=>s["a"].get("/distribution.distribution_data/dataCenter"),a=()=>s["a"].get("/distribution.distribution_data/topMemberEarnings"),n=()=>s["a"].get("/distribution.distribution_data/topMemberFans"),o=t=>s["a"].get("/distribution.distribution_goods/lists",{params:t}),l=t=>s["a"].post("/distribution.distribution_goods/join",t),u=t=>s["a"].get("/distribution.distribution_goods/detail",{params:t}),d=t=>s["a"].post("/distribution.distribution_goods/set",t),c=t=>s["a"].get("/distribution.distribution_member/lists",{params:t}),b=t=>s["a"].get("/distribution.distribution_apply/detail",{params:t}),m=t=>s["a"].get("/distribution.distribution_apply/lists",{params:t}),f=t=>s["a"].post("/distribution.distribution_apply/pass",t),p=t=>s["a"].post("/distribution.distribution_apply/refuse",t),v=t=>s["a"].post("/distribution.distribution_member/open",t),g=t=>s["a"].post("/distribution.distribution_member/freeze",t),_=t=>s["a"].get("/distribution.distribution_member/adjustLevelInfo",{params:t}),h=t=>s["a"].post("/distribution.distribution_member/adjustLevel",t),y=t=>s["a"].get("/distribution.distribution_member/detail",{params:t}),j=t=>s["a"].get("/distribution.distribution_member/getFans",{params:t}),k=t=>s["a"].get("/distribution.distribution_member/getFansLists",{params:t}),O=t=>s["a"].get("/distribution.distribution_level/lists",t),C=t=>s["a"].get("/distribution.distribution_level/detail",{params:t}),w=t=>s["a"].post("/distribution.distribution_level/edit",t),x=t=>s["a"].post("/distribution.distribution_level/add",t),D=t=>s["a"].post("/distribution.distribution_level/delete",t),L=t=>s["a"].get("/distribution.distribution_order_goods/lists",{params:t}),z=t=>s["a"].get("/distribution.distribution_config/getConfig",{params:t}),I=t=>s["a"].post("/distribution.distribution_config/setConfig",t)},"451e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("div",{staticClass:"ls-card"},[e("el-page-header",{attrs:{content:"分销商详情"},on:{back:function(e){return t.$router.go(-1)}}})],1),e("div",{staticClass:"ls-card m-t-10 m-b-60"},[e("div",{staticClass:"xxl weight-500 m-b-20"},[t._v("分销信息")]),e("div",{staticClass:"content"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"statistics-col",attrs:{span:6}},[e("div",{staticClass:"lighter"},[t._v("分销等级")]),e("div",{staticClass:"flex row-center"},[e("div",{staticClass:"m-l-50 m-r-10"},[t._v(t._s(t.distributionData.level_name))]),e("distribute-grade",{attrs:{id:t.id},on:{update:t.getDetailsData}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v("等级调整")])],1)],1)]),e("el-col",{staticClass:"statistics-col",attrs:{span:6}},[e("div",{staticClass:"lighter"},[t._v("已入账佣金")]),e("div",{staticClass:"m-t-8"},[t._v(t._s(t.distributionData.earningns))])]),e("el-col",{staticClass:"statistics-col",attrs:{span:6}},[e("div",{staticClass:"lighter"},[t._v("待结算佣金")]),e("div",{staticClass:"m-t-8"},[t._v(t._s(t.distributionData.unreturned_commission))])]),e("el-col",{staticClass:"statistics-col",attrs:{span:6}},[e("div",{staticClass:"lighter"},[t._v("分销订单")]),e("div",{staticClass:"m-t-8"},[t._v(t._s(t.distributionData.distribution_order_num))])])],1)],1),e("el-form",{ref:"distributionData",attrs:{model:t.distributionData,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"用户信息",prop:""}},[[t._v(" "+t._s(t.distributionData.user_info.nickname)+"("+t._s(t.distributionData.user_info.sn)+") ")]],2),e("el-form-item",{attrs:{label:"上级分销商",prop:""}},[[e("div",{staticClass:"flex"},[e("div",{staticClass:"m-r-10"},[t._v(t._s(t.distributionData.first_leader_info)+" ")]),e("ls-invitation-change",{attrs:{title:"上级分销商调整",nickname:t.distributionData.user_info.nickname,sn:t.distributionData.user_info.sn,value:t.distributionData.user_info.first_leader,userId:t.id},on:{refresh:t.getDetailsData}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)]],2),e("el-form-item",{attrs:{label:"下级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans)+" "),e("span",{staticClass:"primary m-l-20 pointer",on:{click:t.toInvitationList}},[t._v("查看下级列表")])]],2),e("el-form-item",{attrs:{label:"下级分销商人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_distribution)+" ")]],2),e("el-form-item",{attrs:{label:"下一级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_one)+" ")]],2),e("el-form-item",{attrs:{label:"下二级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_two)+" ")]],2),e("el-form-item",{attrs:{label:"分销状态",prop:""}},[[t._v(" "+t._s(0==t.distributionData.is_freeze?"正常":"冻结")+" ")]],2),e("el-form-item",{attrs:{label:"成为分销商时间",prop:""}},[[t._v(" "+t._s(t.distributionData.distribution_time)+" ")]],2)],1),e("div",[0==t.distributionData.is_freeze?e("ls-dialog",{staticClass:"inline m-l-10",attrs:{title:"冻结资格",content:"确定冻结该用户的分销资格吗？"},on:{confirm:t.frozen}},[e("el-button",{attrs:{slot:"trigger",size:"mini",stype:"primary"},slot:"trigger"},[t._v("冻结资格")])],1):e("ls-dialog",{staticClass:"inline m-l-10",attrs:{title:"恢复资格",content:"确定恢复该用户的分销资格吗？"},on:{confirm:t.frozen}},[e("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[t._v("恢复资格")])],1)],1)],1)])},r=[],a=i("9ab4"),n=i("1b40"),o=i("4072"),l=i("2c96"),u=i("b532"),d=i("0a6d");let c=class extends n["e"]{constructor(){super(...arguments),this.distributionData={level_name:"",earningns:"",unreturned_commission:"",distribution_order_num:"",user_info:{nickname:"凉央未夜11111111111",sn:"58565263"}}}getDetailsData(){Object(o["g"])({user_id:this.id}).then(t=>{this.distributionData={...t}})}frozen(){Object(o["y"])({user_id:this.id}).then(()=>{this.getDetailsData()})}toInvitationList(){this.$router.push({path:"/distribution/lower_level_list",query:{id:this.id}})}created(){this.id=this.$route.query.id,this.id&&this.getDetailsData()}};c=Object(a["a"])([Object(n["a"])({components:{LsDialog:d["a"],DistributeGrade:u["a"],LsInvitationChange:l["a"]}})],c);var b=c,m=b,f=(i("3185"),i("2877")),p=Object(f["a"])(m,s,r,!1,null,"6a56530b",null);e["default"]=p.exports},"475c":function(t,e,i){},"5fe3":function(t,e,i){},"61fe":function(t,e,i){"use strict";i("5fe3")},b532:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{on:{click:t.onTrigger}},[t._t("trigger")],2),e("el-dialog",{attrs:{title:"等级调整",visible:t.visible,width:"50vw",top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:0==t.distributionList.length,expression:"distributionList.length == 0"}],staticClass:"content"},[e("el-form",{ref:"distributionData",attrs:{model:t.form,"label-width":"220px",size:"small"}},[e("el-form-item",{attrs:{label:"用户信息：",prop:""}},[t._v(" "+t._s(t.distributionList.user.nickname)+"（"+t._s(t.distributionList.user.sn)+") ")]),e("el-form-item",{attrs:{label:"当前分销等级",prop:""}},[t._v(" "+t._s(t.distributionList.user.level_name)+" ")]),e("el-form-item",{attrs:{label:"调整后分销等级",prop:"",required:""}},[e("el-select",{attrs:{placeholder:"全部"},model:{value:t.form.level_id,callback:function(e){t.$set(t.form,"level_id",e)},expression:"form.level_id"}},t._l(t.distributionList.levels,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleEvent("cancel")}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleEvent("confirm")}}},[t._v("确认")])],1)])],1)},r=[],a=i("9ab4"),n=i("1b40"),o=i("4072");let l=class extends n["e"]{constructor(){super(...arguments),this.visible=!1,this.distributionList={user:{level_name:"默认等级(1级)",nickname:"",sn:""}},this.form={level_id:""}}getDistributionAdjustLevelInfo(){Object(o["b"])({user_id:this.id}).then(t=>{this.distributionList=t})}handleEvent(t){if("cancel"===t&&this.close(),"confirm"===t){if(""==this.form.level_id)return this.$message.error("请选择分销等级！");this.form.user_id=this.id,Object(o["a"])({...this.form}).then(()=>{this.$emit("update","")}),this.close()}}onTrigger(){this.getDistributionAdjustLevelInfo(),this.visible=!0}close(){this.visible=!1}};Object(a["a"])([Object(n["c"])({default:"25vh"})],l.prototype,"top",void 0),Object(a["a"])([Object(n["c"])({default:1})],l.prototype,"id",void 0),l=Object(a["a"])([n["a"]],l);var u=l,d=u,c=(i("61fe"),i("2877")),b=Object(c["a"])(d,s,r,!1,null,"325d7536",null);e["a"]=b.exports},f633:function(t,e,i){"use strict";i.d(e,"o",(function(){return r})),i.d(e,"k",(function(){return a})),i.d(e,"m",(function(){return n})),i.d(e,"n",(function(){return o})),i.d(e,"l",(function(){return l})),i.d(e,"j",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"h",(function(){return c})),i.d(e,"i",(function(){return b})),i.d(e,"g",(function(){return m})),i.d(e,"p",(function(){return f})),i.d(e,"q",(function(){return p})),i.d(e,"b",(function(){return v})),i.d(e,"s",(function(){return g})),i.d(e,"t",(function(){return _})),i.d(e,"u",(function(){return h})),i.d(e,"r",(function(){return y})),i.d(e,"c",(function(){return j})),i.d(e,"d",(function(){return k})),i.d(e,"e",(function(){return O})),i.d(e,"v",(function(){return C})),i.d(e,"a",(function(){return w}));var s=i("f175");const r=t=>s["a"].get("/user.user_level/lists",{params:t}),a=t=>s["a"].post("/user.user_level/add",t),n=t=>s["a"].get("/user.user_level/detail",{params:t}),o=t=>s["a"].post("/user.user_level/edit",t),l=t=>s["a"].post("/user.user_level/del",t),u=t=>s["a"].get("/user.user_label/lists",{params:t}),d=t=>s["a"].post("/user.user_label/add",t),c=t=>s["a"].get("/user.user_label/detail",{params:t}),b=t=>s["a"].post("/user.user_label/edit",t),m=t=>s["a"].post("/user.user_label/del",t),f=t=>s["a"].get("/user.user/lists",{params:t}),p=()=>s["a"].get("/user.user/otherList"),v=t=>s["a"].get("/user.user/detail",{params:t}),g=t=>s["a"].post("/user.user/setInfo",t),_=t=>s["a"].post("/user.user/setLabel",t),h=t=>s["a"].post("/user.user/setUserLabel",t),y=t=>s["a"].post("/user.user/adjustUserWallet",t),j=()=>s["a"].get("/user.user/index"),k=t=>s["a"].get("/user.user/info",{params:t}),O=t=>s["a"].get("/user.user/userInviterLists",{params:t}),C=t=>s["a"].post("/user.user/adjustFirstLeader",t),w=t=>s["a"].get("/user.user/selectUserLists",{params:t})}}]);
//# sourceMappingURL=chunk-6dc0814a.67229b3f.js.map