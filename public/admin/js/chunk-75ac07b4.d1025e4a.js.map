{"version":3,"sources":["webpack:///./src/views/marketing/notice/notice_edit.vue","webpack:///./src/views/marketing/notice/notice_edit.vue?73da","webpack:///./src/views/marketing/notice/notice_edit.vue?db55","webpack:///./src/views/marketing/notice/notice_edit.vue?e4b5","webpack:///./src/api/marketing/notice.ts","webpack:///./src/views/marketing/notice/notice_edit.vue?686e"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","mode","on","$event","$router","go","ref","rules","form","model","value","name","callback","$$v","$set","expression","synopsis","sort","image","status","_v","content","staticStyle","onSubmit","staticRenderFns","HelpEdit","Vue","constructor","PageMode","ADD","categoryList","id","required","message","trigger","cid","formName","refs","$refs","validate","valid","handleNoticeAdd","EDIT","handleNoticeEdit","params","apiNoticeAdd","then","setTimeout","apiNoticeEdit","initFormDataForNoticeEdit","apiNoticeDetail","res","Object","keys","map","item","created","query","$route","Component","components","LsEditor","MaterialSelect","component","request","post","apiNoticeLists","get","apiNoticeStatus","apiNoticeDel"],"mappings":"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","file":"js/chunk-75ac07b4.d1025e4a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"substance_edit-help\"},[_c('div',{staticClass:\"ls-card\"},[_c('el-page-header',{attrs:{\"content\":_vm.mode=='add'?'添加公告':'编辑公告'},on:{\"back\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',{staticClass:\"ls-card m-t-16 form-container\"},[_c('div',{staticClass:\"form-left\"},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"show-word-limit\":\"\",\"placeholder\":\"请输入标题\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"prop\":\"synopsis\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"placeholder\":\"请输入简介\"},model:{value:(_vm.form.synopsis),callback:function ($$v) {_vm.$set(_vm.form, \"synopsis\", $$v)},expression:\"form.synopsis\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"sort\"}},[_c('el-input',{staticClass:\"ls-input\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入排序\"},model:{value:(_vm.form.sort),callback:function ($$v) {_vm.$set(_vm.form, \"sort\", $$v)},expression:\"form.sort\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封面图\",\"prop\":\"disable\"}},[_c('material-select',{attrs:{\"limit\":1},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_vm._v(\"启用\")]),_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_vm._v(\"关闭\")])],1)],1)],1),_c('div',{staticClass:\"form-right\"},[_c('el-form',{attrs:{\"rules\":_vm.rules,\"label-width\":\"120px\",\"size\":\"small\"}},[_c('el-form-item',{staticClass:\"form-edit\",attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('ls-editor',{model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1)],1)],1)]),_c('div',{staticClass:\"bg-white ls-fixed-footer\"},[_c('div',{staticClass:\"row-center flex\",staticStyle:{\"height\":\"100%\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"保存\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator'\nimport {\n  apiNoticeAdd,\n  apiNoticeDetail,\n  apiNoticeEdit\n} from '@/api/marketing/notice'\nimport MaterialSelect from '@/components/material-select/index.vue'\nimport LsEditor from '@/components/editor.vue'\nimport { PageMode } from '@/utils/type'\n\n@Component({\n  components: {\n    LsEditor,\n    MaterialSelect\n  }\n})\nexport default class HelpEdit extends Vue {\n    /** S Data **/\n    mode: string = PageMode.ADD; // 当前页面: add-添加角色 edit-编辑角色\n\n    // 分类列表\n    categoryList: Array<object> = [];\n\n    // 表单数据\n    form:any = {\n      id: 0, // 当前编辑用户的身份ID\n      name: '', // 标题\n      synopsis: '', // 简介\n      image: '', // 封面图片\n      content: '', // 内容\n      sort: 0, // 排序值\n      status: 1 // 显示: 0-隐藏 1-显示\n    };\n\n    // 表单校验\n    rules: object = {\n      name: [{ required: true, message: '请输入标题', trigger: 'blur' }],\n      cid: [{ required: true, message: '请选择分类', trigger: 'change' }],\n      synopsis: [{ required: true, message: '请输入简介', trigger: 'blur' }],\n      sort: [{ required: true, message: '请输入排序', trigger: 'blur' }],\n      content: [{ required: true, message: '请输入内容', trigger: 'blur' }]\n    };\n\n    /** E Data **/\n\n    /** S Methods **/\n    // 提交表单\n    onSubmit (formName: string) {\n      const refs = this.$refs[formName] as HTMLFormElement\n      refs.validate((valid: boolean): void => {\n        if (!valid) return\n\n        // 请求发送\n        switch (this.mode) {\n          case PageMode.ADD:\n            return this.handleNoticeAdd()\n          case PageMode.EDIT:\n            return this.handleNoticeEdit()\n        }\n      })\n    }\n\n    // 添加帮助文章\n    handleNoticeAdd () {\n      const params = this.form\n      apiNoticeAdd(params)\n        .then(() => {\n          setTimeout(() => this.$router.go(-1), 500)\n        })\n    }\n\n    // 编辑帮助文章\n    handleNoticeEdit () {\n      const params = this.form\n      apiNoticeEdit(params)\n        .then(() => {\n          setTimeout(() => this.$router.go(-1), 500)\n        })\n    }\n\n    // 初始化表单数据: 角色编辑\n    initFormDataForNoticeEdit () {\n      apiNoticeDetail({\n        id: this.form.id\n      })\n        .then((res) => {\n          Object.keys(res).map((item) => {\n            this.$set(this.form, item, res[item])\n          })\n        })\n    }\n\n    /** E Methods **/\n\n    /** S Life Cycle **/\n    created () {\n      const query: any = this.$route.query\n      if (query.mode) this.mode = query.mode\n\n      if (this.mode === PageMode.EDIT) {\n        this.form.id = query.id * 1\n        this.initFormDataForNoticeEdit()\n      }\n    }\n\n  /** E Life Cycle **/\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice_edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice_edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./notice_edit.vue?vue&type=template&id=7c523427&scoped=true&\"\nimport script from \"./notice_edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./notice_edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./notice_edit.vue?vue&type=style&index=0&id=7c523427&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c523427\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/plugins/axios'\nimport * as Interface from '@/api/marketing/notice.d.ts'\n/** S 商城公告 **/\n\n// 添加公告\nexport const apiNoticeAdd = (params: Interface.notice_add) => request.post('/shop_notice.shop_notice/add', params)\n\n// 公告列表\nexport const apiNoticeLists = (params: Interface.notice_lists) => request.get('/shop_notice.shop_notice/lists', {params})\n\n// 添加公告\nexport const apiNoticeEdit = (params: Interface.notice_edit) => request.post('/shop_notice.shop_notice/edit', params)\n\n// 修改公告状态\nexport const apiNoticeStatus = (params: Interface.notice_status) => request.post('/shop_notice.shop_notice/status', params)\n\n// 公告详情\nexport const apiNoticeDetail = (params: Interface.notice_detail) => request.get('/shop_notice.shop_notice/detail', {params})\n\n// 删除公告\nexport const apiNoticeDel = (params: Interface.notice_del) => request.post('/shop_notice.shop_notice/del', params)\n\n/** E 商城公告 **/","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notice_edit.vue?vue&type=style&index=0&id=7c523427&prod&lang=scss&scoped=true&\""],"sourceRoot":""}