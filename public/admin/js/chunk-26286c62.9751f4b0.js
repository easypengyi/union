(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26286c62"],{"1d04":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return a})),s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return n}));var l=s("f175");const i=e=>l["a"].post("/recharge.recharge/dataCenter",e),a=e=>l["a"].get("/recharge.recharge/getConfig",{params:e}),r=e=>l["a"].post("/recharge.recharge/setConfig",e),n=e=>l["a"].get("/recharge.recharge/lists",{params:e})},"4c9e":function(e,t,s){"use strict";s("9308")},9308:function(e,t,s){},d1fb:function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ls-add-admin"},[t("div",{staticClass:"ls-card ls-coupon-edit__form m-t-10"},[t("div",{staticClass:"nr weight-500 m-b-20"},[e._v("充值设置")]),t("el-form",{ref:"list",attrs:{model:e.list,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"应用状态"}},[t("el-radio",{attrs:{label:0},model:{value:e.list.set.open,callback:function(t){e.$set(e.list.set,"open",t)},expression:"list.set.open"}},[e._v("关闭")]),t("el-radio",{attrs:{label:1},model:{value:e.list.set.open,callback:function(t){e.$set(e.list.set,"open",t)},expression:"list.set.open"}},[e._v("开启")]),t("span",{staticClass:"desc"},[e._v("关闭或开启充值奖励应用，关闭后不显示商城充值奖励入口")])],1),t("el-form-item",{attrs:{label:"最低充值金额",prop:"send_total_type"}},[t("el-input",{attrs:{placeholder:""},model:{value:e.list.set.min_amount,callback:function(t){e.$set(e.list.set,"min_amount",t)},expression:"list.set.min_amount"}}),t("span",{staticClass:"desc"},[e._v("最低充值金额要求，不填或填0表示不限制最低充值金额")])],1)],1)],1),t("div",{staticClass:"ls-card ls-coupon-edit__form m-t-10"},[t("div",{staticClass:"nr weight-500 m-b-20"},[e._v("充值规则")]),t("el-form",{ref:"list",staticStyle:{width:"1000px"},attrs:{model:e.list,"label-width":"120px",size:"small"}},[e._l(e.list.rule,(function(s,l){return t("el-form-item",{key:l,attrs:{label:"规则"+(l+1)}},[t("div",{staticClass:"item"},[t("el-form",{attrs:{model:s,"label-width":"120px"}},[t("el-form-item",{attrs:{required:"",label:"单笔充值满"}},[t("el-input",{staticClass:"m-r-10",model:{value:e.list.rule[l].money,callback:function(t){e.$set(e.list.rule[l],"money",t)},expression:"list.rule[index].money"}}),e._v(" 元 ")],1),t("el-form-item",{staticClass:"m-t-10",attrs:{required:"",label:"充值奖励"}},[t("el-input",{staticClass:"m-r-10",model:{value:e.list.rule[l].award[0].give_money,callback:function(t){e.$set(e.list.rule[l].award[0],"give_money",t)},expression:"list.rule[index].award[0].give_money"}}),e._v(" 元 ")],1)],1),t("div",{staticClass:"del m-t-5",on:{click:function(t){return e.delRule(l)}}},[t("i",{staticClass:"el-icon-delete"})])],1)])})),t("el-form-item",[t("div",{staticClass:"add-btn flex row-center",on:{click:e.addRule}},[e._v("+添加 "+e._s(e.list.rule.length)+"/10")])])],2)],1),t("div",{staticClass:"bg-white ls-fixed-footer flex row-center"},[t("div",{staticClass:"row-center flex"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)])])},i=[],a=s("9ab4"),r=s("1b40"),n=s("a897"),o=s("0a6d"),c=s("b3ad"),u=s("1d04");let d=class extends r["e"]{constructor(){super(...arguments),this.list={set:{open:1,min_amount:100},rule:[{money:50,award:[{give_money:5}]}]}}addRule(){if(this.list.rule.length>=10)return this.$message.error("不能继续添加了!");this.list.rule.push({money:0,award:[{give_money:0}]})}delRule(e){if(this.list.rule.length<=1)return this.$message.error("已经是最后一个了!");this.list.rule.splice(e,1)}onSubmit(){const e={rule:this.list.rule,...this.list.set};try{e.rule.forEach(e=>delete e.id)}catch(t){console.log(t)}Object(u["d"])({...e}).then(()=>{this.detail(),this.$message.success("修改成功!")}).catch(()=>{this.$message.error("数据获取失败!")})}detail(){Object(u["b"])({}).then(e=>{this.list=e}).catch(()=>{this.$message.error("数据获取失败!")})}created(){this.detail()}};d=Object(a["a"])([Object(r["a"])({components:{MaterialSelect:c["a"],lsDialog:o["a"],LsEditor:n["a"]}})],d);var m=d,f=m,h=(s("4c9e"),s("2877")),p=Object(h["a"])(f,l,i,!1,null,"5a2784b6",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-26286c62.9751f4b0.js.map