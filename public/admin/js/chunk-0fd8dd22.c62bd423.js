(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fd8dd22"],{"181a":function(t,e,s){t.exports=s.p+"img/img_shili_share_example.9b9126b9.png"},"239d":function(t,e,s){},"82bb":function(t,e,s){"use strict";s.d(e,"f",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"d",(function(){return l})),s.d(e,"c",(function(){return o})),s.d(e,"h",(function(){return n})),s.d(e,"g",(function(){return c})),s.d(e,"b",(function(){return d})),s.d(e,"a",(function(){return h}));var i=s("f175");const a=()=>i["a"].get("/settings.shop.shop_setting/getShopInfo"),r=t=>i["a"].post("/settings.shop.shop_setting/setShopInfo",t),l=()=>i["a"].get("/settings.shop.shop_setting/getRecordInfo"),o=t=>i["a"].post("/settings.shop.shop_setting/setRecordInfo",t),n=()=>i["a"].get("/settings.shop.shop_setting/getShareSetting"),c=t=>i["a"].post("/settings.shop.shop_setting/setShareSetting",t),d=()=>i["a"].get("/settings.shop.shop_setting/getPolicyAgreement"),h=t=>i["a"].post("/settings.shop.shop_setting/setPolicyAgreement",t)},"85b6":function(t,e,s){},a5bd:function(t,e,s){"use strict";s("85b6")},b3ad:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+t.tipsText,width:"1050px",top:"15vh"},on:{confirm:t.handleConfirm}},[t.hiddenTrigger?t._e():e("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(t){t.stopPropagation()}},slot:"trigger"},[e("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:t.disabled||t.dragDisabled},on:{update:t.handleChange},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},t._l(t.fileList,(function(s,i){return e("div",{key:s+i,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!1,i)}}},[t.$scopedSlots.preview?e("div",[t._t("preview",null,{item:t.imageUri(s)})],2):e("file-item",{attrs:{type:t.type,item:{uri:t.imageUri(s)},size:t.size}}),t.enableDelete?e("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(e){return e.stopPropagation(),t.delImage(i)}}}):t._e()],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!0)}}},[t.$slots.upload?e("div",[t._t("upload")],2):e("div",{staticClass:"upload-btn flex row-center",style:{width:t.size+"px",height:t.size+"px",background:t.uploadBg}},[t._t("default"),t.$slots.default?t._e():e("span",[t._v("添加"+t._s(t.tipsText))])],2)])],1),e("div",{staticClass:"material-wrap"},[e("ls-material",{ref:"material",attrs:{"page-size":15,type:t.type,limit:t.meterialLimit},on:{change:t.selectChange}})],1)])},a=[],r=s("9ab4"),l=s("1b40"),o=s("0a6d"),n=s("c6fe"),c=s("e915"),d=s("b76a"),h=s.n(d);let p=class extends l["e"]{constructor(){super(...arguments),this.isAdd=!0,this.fileList=[]}get showUpload(){const{fileList:t,limit:e}=this;return e-t.length>0}get meterialLimit(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}get tipsText(){switch(this.type){case"image":return"图片";case"video":return"视频"}}get imageUri(){return t=>this.enableDomain?t:this.$getImageUri(t)}valueChange(t){this.fileList=Array.isArray(t)?t:""==t?[]:[t]}showDialog(t=!0,e){var s;this.disabled||(this.isAdd=t,void 0!==e&&(this.currentIndex=e),null===(s=this.$refs.materialDialog)||void 0===s||s.onTrigger())}selectChange(t){this.select=t}handleConfirm(){this.$refs.material.clearSelectList();const t=this.select.map(t=>this.enableDomain?t.uri:t.url);this.isAdd?this.fileList=this.fileList.concat(t):this.fileList.splice(this.currentIndex,1,t.shift()),this.handleChange()}delImage(t){this.fileList.splice(t,1),this.handleChange()}handleChange(){const t=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",t),this.$emit("change",t),this.fileList=[]}};Object(r["a"])([Object(l["c"])({default:()=>[]})],p.prototype,"value",void 0),Object(r["a"])([Object(l["c"])({default:1})],p.prototype,"limit",void 0),Object(r["a"])([Object(l["c"])({default:"100"})],p.prototype,"size",void 0),Object(r["a"])([Object(l["c"])({default:!1})],p.prototype,"disabled",void 0),Object(r["a"])([Object(l["c"])({default:!1})],p.prototype,"dragDisabled",void 0),Object(r["a"])([Object(l["c"])({default:!1})],p.prototype,"hiddenTrigger",void 0),Object(r["a"])([Object(l["c"])({default:"image"})],p.prototype,"type",void 0),Object(r["a"])([Object(l["c"])({default:"transparent"})],p.prototype,"uploadBg",void 0),Object(r["a"])([Object(l["c"])({default:!0})],p.prototype,"enableDomain",void 0),Object(r["a"])([Object(l["c"])({default:!0})],p.prototype,"enableDelete",void 0),Object(r["a"])([Object(l["f"])("value",{immediate:!0})],p.prototype,"valueChange",null),p=Object(r["a"])([Object(l["a"])({components:{LsDialog:o["a"],LsMaterial:n["a"],Draggable:h.a,FileItem:c["a"]}})],p);var m=p,u=m,g=(s("fb48"),s("2877")),f=Object(g["a"])(u,i,a,!1,null,"1503bff6",null);e["a"]=f.exports},db6d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"setting-share"},[e("div",{staticClass:"ls-card"},[e("el-alert",{attrs:{title:"1.无需设置分享链接，分享页面为当前页面链接，APP分享时使用H5当前页链接；2.个人中心、我的订单等隐私页面分享链接为商城首页。",type:"info",closable:!1,"show-icon":""}})],1),e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px",size:"small"}},[e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("分享设置")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"页面",prop:"share_page"}},[e("el-radio",{attrs:{label:1},model:{value:t.form.share_page,callback:function(e){t.$set(t.form,"share_page",e)},expression:"form.share_page"}},[t._v("当前页面")]),e("div",{staticClass:"muted xs"},[t._v("用户使用微信分享把商城页面发送给微信好友时，分享当前页面对应的链接。")])],1),e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.share_title,callback:function(e){t.$set(t.form,"share_title",e)},expression:"form.share_title"}}),e("div",{staticClass:"muted xs"},[t._v("分享标题，不填则为当前页面标题")])],1),e("el-form-item",{attrs:{label:"简介"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.share_intro,callback:function(e){t.$set(t.form,"share_intro",e)},expression:"form.share_intro"}}),e("div",{staticClass:"muted xs"},[t._v("分享简介，不填则为空")])],1),e("el-form-item",{attrs:{label:"图片",prop:"share_image"}},[e("material-select",{attrs:{limit:1},model:{value:t.form.share_image,callback:function(e){t.$set(t.form,"share_image",e)},expression:"form.share_image"}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"muted xs m-r-16"},[t._v("建议尺寸：400 * 400px，支持jpg，jpeg，png格式")]),e("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover"}},[e("el-image",{attrs:{src:t.shareImageExample}}),e("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)],1)],1)])]),e("div",{staticClass:"bg-white ls-fixed-footer"},[e("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmitFrom("form")}}},[t._v("保存")])],1)])],1)},a=[],r=s("9ab4"),l=s("1b40"),o=s("b3ad"),n=s("82bb");let c=class extends l["e"]{constructor(){super(...arguments),this.form={share_page:0,share_title:"",share_intro:"",share_image:""},this.rules={share_image:[{required:!0,message:"请上传分享图片",trigger:"blur"}],share_page:[{required:!0,message:"请选择分享页面",trigger:"blur"}]},this.shareImageExample=s("181a")}initFormData(){Object(n["h"])().then(t=>{for(const e in t)this.form.hasOwnProperty(e)&&(this.form[e]=t[e])}).catch(()=>{this.$message.error("数据加载失败，请刷新重载")})}onResetFrom(){this.initFormData(),this.$message.info("已重置数据")}onSubmitFrom(t){const e=this.$refs[t];e.validate(t=>{if(!t)return;const e=this.$loading({text:"保存中"});Object(n["g"])({...this.form}).then(()=>{this.$message.success("保存成功")}).catch(()=>{this.$message.error("保存失败")}).finally(()=>{e.close()})})}created(){this.initFormData()}};c=Object(r["a"])([Object(l["a"])({components:{MaterialSelect:o["a"]}})],c);var d=c,h=d,p=(s("a5bd"),s("2877")),m=Object(p["a"])(h,i,a,!1,null,"05861ab0",null);e["default"]=m.exports},fb48:function(t,e,s){"use strict";s("239d")}}]);
//# sourceMappingURL=chunk-0fd8dd22.c62bd423.js.map