(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbd11646"],{"14c6":function(t,e,s){"use strict";s.d(e,"q",(function(){return i})),s.d(e,"A",(function(){return a})),s.d(e,"B",(function(){return r})),s.d(e,"x",(function(){return d})),s.d(e,"F",(function(){return n})),s.d(e,"y",(function(){return l})),s.d(e,"E",(function(){return c})),s.d(e,"z",(function(){return u})),s.d(e,"C",(function(){return g})),s.d(e,"D",(function(){return p})),s.d(e,"c",(function(){return f})),s.d(e,"g",(function(){return m})),s.d(e,"h",(function(){return h})),s.d(e,"d",(function(){return b})),s.d(e,"e",(function(){return _})),s.d(e,"f",(function(){return v})),s.d(e,"H",(function(){return y})),s.d(e,"K",(function(){return w})),s.d(e,"I",(function(){return j})),s.d(e,"J",(function(){return C})),s.d(e,"G",(function(){return x})),s.d(e,"O",(function(){return O})),s.d(e,"L",(function(){return L})),s.d(e,"M",(function(){return k})),s.d(e,"N",(function(){return $})),s.d(e,"i",(function(){return D})),s.d(e,"o",(function(){return P})),s.d(e,"j",(function(){return z})),s.d(e,"p",(function(){return S})),s.d(e,"m",(function(){return q})),s.d(e,"k",(function(){return A})),s.d(e,"n",(function(){return I})),s.d(e,"l",(function(){return U})),s.d(e,"P",(function(){return T})),s.d(e,"S",(function(){return B})),s.d(e,"Q",(function(){return E})),s.d(e,"R",(function(){return J})),s.d(e,"u",(function(){return M})),s.d(e,"t",(function(){return N})),s.d(e,"v",(function(){return F})),s.d(e,"w",(function(){return G})),s.d(e,"s",(function(){return H})),s.d(e,"r",(function(){return K})),s.d(e,"a",(function(){return Q})),s.d(e,"b",(function(){return R}));var o=s("f175");const i=t=>o["a"].post("/goods.goods/add",t),a=t=>o["a"].post("/goods.goods/edit",t),r=t=>o["a"].get("/goods.goods/lists",{params:t}),d=t=>o["a"].get("/goods.goods/commonLists",{params:t}),n=t=>o["a"].post("/goods.goods/status",t),l=t=>o["a"].post("/goods.goods/del",t),c=t=>o["a"].post("/goods.goods/sort",t),u=t=>o["a"].get("/goods.goods/detail",{params:{id:t}}),g=t=>o["a"].get("/goods.goods/otherList",{params:t}),p=t=>o["a"].post("goods.goods/rename ",t),f=t=>o["a"].post("/goods.goods_brand/add",t),m=t=>o["a"].get("/goods.goods_brand/lists",{params:t}),h=t=>o["a"].post("/goods.goods_brand/status",t),b=t=>o["a"].post("/goods.goods_brand/del",t),_=t=>o["a"].get("/goods.goods_brand/detail",{params:{id:t}}),v=t=>o["a"].post("/goods.goods_brand/edit",t),y=t=>o["a"].post("/goods.goods_supplier_category/add",t),w=t=>o["a"].get("goods.goods_supplier_category/lists",{params:t}),j=t=>o["a"].post("goods.goods_supplier_category/del",{id:t}),C=t=>o["a"].post("goods.goods_supplier_category/edit",t),x=t=>o["a"].post("/goods.goods_supplier/add",t),O=t=>o["a"].get("/goods.goods_supplier/lists",{params:t}),L=t=>o["a"].post("goods.goods_supplier/del",{id:t}),k=t=>o["a"].get("/goods.goods_supplier/detail",{params:{id:t}}),$=t=>o["a"].post("/goods.goods_supplier/edit",t),D=t=>o["a"].post("/goods.goods_category/add",t),P=t=>o["a"].get("/goods.goods_category/lists",{params:t}),z=t=>o["a"].get("/goods.goods_category/commonLists",{params:t}),S=t=>o["a"].post("/goods.goods_category/status",t),q=t=>o["a"].post("/goods.goods_category/down_good",t),A=t=>o["a"].post("goods.goods_category/del",{id:t}),I=t=>o["a"].post("/goods.goods_category/edit",t),U=t=>o["a"].get("/goods.goods_category/detail",{params:{id:t}}),T=t=>o["a"].post("/goods.goods_unit/add",t),B=t=>o["a"].get("/goods.goods_unit/lists",{params:t}),E=t=>o["a"].post("goods.goods_unit/del",{id:t}),J=t=>o["a"].post("/goods.goods_unit/edit",t),M=t=>o["a"].get("goods.goods_comment/lists",{params:t}),N=t=>o["a"].post("goods.goods_comment/del",t),F=t=>o["a"].post("goods.goods_comment/reply",t),G=t=>o["a"].post("/goods.goods_comment/status",t),H=t=>o["a"].get("goods.goods_comment_assistant/lists",{params:t}),K=t=>o["a"].post("goods.goods_comment_assistant/add",t),Q=t=>o["a"].get("/goods.goods_activity/lists",{params:t}),R=t=>o["a"].post("/goods.goods_activity/status",t)},"239d":function(t,e,s){},"375e":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"ls-category-edit"},[e("div",{staticClass:"ls-card category-edit__header"},[e("el-page-header",{attrs:{content:t.id?"编辑分类":"新增分类"},on:{back:function(e){return t.$router.go(-1)}}})],1),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",size:"small",rules:t.rules}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ls-card category-edit__base m-t-16"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("基础信息")]),e("el-form-item",{attrs:{label:"分类名称",prop:"name",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{maxlength:"8","show-word-limit":"",placeholder:"请输入分类名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"父级分类",required:""}},[e("el-radio-group",{staticClass:"m-r-16",model:{value:t.hasPid,callback:function(e){t.hasPid=e},expression:"hasPid"}},[e("el-radio",{attrs:{label:0}},[t._v("无父级分类")]),e("el-radio",{attrs:{label:1}},[t._v("有父级分类")])],1),e("el-alert",{staticClass:"ls-tips",attrs:{title:"选择无上级分类，则表明此分类为一级分类；选择有上级分类，则表明此分类为选中分类的子分类",type:"warning",closable:!1}})],1),1==t.hasPid?e("el-form-item",{attrs:{label:"",required:""}},[e("el-cascader",{attrs:{options:t.categoryList,props:{checkStrictly:!0,value:"id",label:"name",children:"sons",emitPath:!1},clearable:""},scopedSlots:t._u([{key:"default",fn:function({node:s,data:o}){return o.level<=2?[e("span",[t._v(t._s(o.name))]),s.isLeaf?t._e():e("span",[t._v(" ("+t._s(o.sons.length)+") ")])]:void 0}}],null,!0),model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}})],1):t._e(),e("el-form-item",{attrs:{label:"分类图标",prop:"image",required:""}},[e("material-select",{attrs:{limit:1},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),e("div",{staticClass:"muted xs"},[t._v("建议尺寸：宽200像素*高200像素的jpg，jpeg，png图片")])],1),e("el-form-item",{attrs:{label:"排序"}},[e("el-input",{staticStyle:{width:"220px"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}}),e("div",{staticClass:"muted xs"},[t._v("排序值必须为整数；数值越小，越靠前")])],1),e("el-form-item",{attrs:{label:"是否显示"}},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}})],1)],1)]),e("div",{staticClass:"category-edit__footer bg-white ls-fixed-footer"},[e("div",{staticClass:"btns row-center flex",staticStyle:{height:"100%"}},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSave}},[t._v("保存")])],1)])],1)},i=[],a=s("9ab4"),r=s("1b40"),d=s("b3ad"),n=s("14c6");let l=class extends r["e"]{constructor(){super(...arguments),this.loading=!1,this.hasPid=0,this.categoryList=[],this.form={name:"",pid:"",image:"",sort:"",is_show:1,is_recommend:0},this.rules={name:[{required:!0,message:"请输入分类名称",trigger:["blur","change"]}],image:[{required:!0,message:"请选择分类图标",trigger:["blur","change"]}]}}handleSave(){this.$refs.form.validate(t=>{if(!t)return!1;{this.hasPid||(this.form.pid="");const t=this.id?Object(n["n"])(this.form):Object(n["i"])(this.form);t.then(()=>{this.$router.go(-1)})}})}getCategoryDetail(){this.loading=!0,Object(n["l"])(this.id).then(t=>{t.pid&&(this.hasPid=1),this.form=t,this.loading=!1})}getCategoryList(){Object(n["o"])({page_type:1}).then(t=>{null===t||void 0===t||t.lists.forEach(t=>{t.sons&&t.sons.forEach(t=>{delete t.sons})}),this.categoryList=null===t||void 0===t?void 0:t.lists})}created(){this.id=this.$route.query.id,this.id&&this.getCategoryDetail(),this.getCategoryList()}};l=Object(a["a"])([Object(r["a"])({components:{MaterialSelect:d["a"]}})],l);var c=l,u=c,g=(s("8833"),s("2877")),p=Object(g["a"])(u,o,i,!1,null,"d89cee96",null);e["default"]=p.exports},8833:function(t,e,s){"use strict";s("f56d")},b3ad:function(t,e,s){"use strict";var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+t.tipsText,width:"1050px",top:"15vh"},on:{confirm:t.handleConfirm}},[t.hiddenTrigger?t._e():e("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(t){t.stopPropagation()}},slot:"trigger"},[e("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:t.disabled||t.dragDisabled},on:{update:t.handleChange},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},t._l(t.fileList,(function(s,o){return e("div",{key:s+o,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!1,o)}}},[t.$scopedSlots.preview?e("div",[t._t("preview",null,{item:t.imageUri(s)})],2):e("file-item",{attrs:{type:t.type,item:{uri:t.imageUri(s)},size:t.size}}),t.enableDelete?e("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(e){return e.stopPropagation(),t.delImage(o)}}}):t._e()],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!0)}}},[t.$slots.upload?e("div",[t._t("upload")],2):e("div",{staticClass:"upload-btn flex row-center",style:{width:t.size+"px",height:t.size+"px",background:t.uploadBg}},[t._t("default"),t.$slots.default?t._e():e("span",[t._v("添加"+t._s(t.tipsText))])],2)])],1),e("div",{staticClass:"material-wrap"},[e("ls-material",{ref:"material",attrs:{"page-size":15,type:t.type,limit:t.meterialLimit},on:{change:t.selectChange}})],1)])},i=[],a=s("9ab4"),r=s("1b40"),d=s("0a6d"),n=s("c6fe"),l=s("e915"),c=s("b76a"),u=s.n(c);let g=class extends r["e"]{constructor(){super(...arguments),this.isAdd=!0,this.fileList=[]}get showUpload(){const{fileList:t,limit:e}=this;return e-t.length>0}get meterialLimit(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}get tipsText(){switch(this.type){case"image":return"图片";case"video":return"视频"}}get imageUri(){return t=>this.enableDomain?t:this.$getImageUri(t)}valueChange(t){this.fileList=Array.isArray(t)?t:""==t?[]:[t]}showDialog(t=!0,e){var s;this.disabled||(this.isAdd=t,void 0!==e&&(this.currentIndex=e),null===(s=this.$refs.materialDialog)||void 0===s||s.onTrigger())}selectChange(t){this.select=t}handleConfirm(){this.$refs.material.clearSelectList();const t=this.select.map(t=>this.enableDomain?t.uri:t.url);this.isAdd?this.fileList=this.fileList.concat(t):this.fileList.splice(this.currentIndex,1,t.shift()),this.handleChange()}delImage(t){this.fileList.splice(t,1),this.handleChange()}handleChange(){const t=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",t),this.$emit("change",t),this.fileList=[]}};Object(a["a"])([Object(r["c"])({default:()=>[]})],g.prototype,"value",void 0),Object(a["a"])([Object(r["c"])({default:1})],g.prototype,"limit",void 0),Object(a["a"])([Object(r["c"])({default:"100"})],g.prototype,"size",void 0),Object(a["a"])([Object(r["c"])({default:!1})],g.prototype,"disabled",void 0),Object(a["a"])([Object(r["c"])({default:!1})],g.prototype,"dragDisabled",void 0),Object(a["a"])([Object(r["c"])({default:!1})],g.prototype,"hiddenTrigger",void 0),Object(a["a"])([Object(r["c"])({default:"image"})],g.prototype,"type",void 0),Object(a["a"])([Object(r["c"])({default:"transparent"})],g.prototype,"uploadBg",void 0),Object(a["a"])([Object(r["c"])({default:!0})],g.prototype,"enableDomain",void 0),Object(a["a"])([Object(r["c"])({default:!0})],g.prototype,"enableDelete",void 0),Object(a["a"])([Object(r["f"])("value",{immediate:!0})],g.prototype,"valueChange",null),g=Object(a["a"])([Object(r["a"])({components:{LsDialog:d["a"],LsMaterial:n["a"],Draggable:u.a,FileItem:l["a"]}})],g);var p=g,f=p,m=(s("fb48"),s("2877")),h=Object(m["a"])(f,o,i,!1,null,"1503bff6",null);e["a"]=h.exports},f56d:function(t,e,s){},fb48:function(t,e,s){"use strict";s("239d")}}]);
//# sourceMappingURL=chunk-dbd11646.b20c30dd.js.map