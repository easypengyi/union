(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f23214c"],{"131b":function(e,t,a){"use strict";a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return u}));var i=a("f175");const s=e=>i["a"].get("/lucky_draw.lucky_draw/lists",{params:e}),l=e=>i["a"].post("/lucky_draw.lucky_draw/delete",e),n=e=>i["a"].post("/lucky_draw.lucky_draw/end",e),r=e=>i["a"].post("/lucky_draw.lucky_draw/start",e),o=e=>i["a"].post("lucky_draw.lucky_draw/edit",e),c=e=>i["a"].get("/lucky_draw.lucky_draw/detail",{params:e}),d=e=>i["a"].post("lucky_draw.lucky_draw/add",e),p=()=>i["a"].get("lucky_draw.lucky_draw/getPrizeType"),u=e=>i["a"].get("lucky_draw.lucky_draw/record",{params:e})},"17d0":function(e,t,a){},"239d":function(e,t,a){},"2b1d":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ls-dialog",{ref:"dialog",staticClass:"link-select",attrs:{title:"选择跳转链接",width:"900px",top:"20vh",disabled:e.disabled,async:!0},on:{confirm:e.onConfirm}},[t("div",{staticClass:"link-select__trigger",attrs:{slot:"trigger"},slot:"trigger"},[t("el-input",{staticStyle:{width:"100%"},attrs:{value:e.linkName,placeholder:"请选择跳转链接",size:"small",readonly:"",disabled:e.disabled}},[e.linkName?t("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){return t.stopPropagation(),e.handleClear.apply(null,arguments)}},slot:"suffix"}):t("i",{staticClass:"el-icon-arrow-right el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})])],1),t("detail",{attrs:{client:e.client},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1)},s=[],l=a("9ab4"),n=a("1b40"),r=a("0a6d"),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"detail"},[t("div",{staticClass:"content flex"},[t("div",{staticClass:"left m-r-10"},[t("el-scrollbar",{staticClass:"ls-scrollbar",staticStyle:{height:"100%"}},[t("el-collapse",{staticClass:"p-t-20",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.lists,(function(a,i){return t("el-collapse-item",{key:i,attrs:{title:a.name,name:a.key}},[t("div",{staticClass:"nav-list"},e._l(a.children,(function(a,i){return t("div",{key:i,staticClass:"nav-item",class:{active:e.linkType==a.type},on:{click:function(t){e.linkType=a.type}}},[t("div",[e._v(e._s(a.name))])])})),0)])})),1)],1)],1),t("div",{staticClass:"right flex-1"},[t("div",{staticClass:"right-content"},["shop"==e.linkType||"marking"==e.linkType?t("shop",{key:e.linkType,attrs:{type:e.linkType,client:e.client},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}}):e._e(),"goods"==e.linkType?t("goods",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"seckill"==e.linkType||"team"==e.linkType||"bargain"==e.linkType?t("activity",{key:e.linkType,attrs:{single:!0,type:e.linkType},on:{input:e.setLinkParams},model:{value:e.link.params,callback:function(t){e.$set(e.link,"params",t)},expression:"link.params"}}):e._e(),"category"==e.linkType?t("category",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"draw"==e.linkType?t("draw",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"page"==e.linkType?t("page",{attrs:{value:e.link.params},on:{input:e.setLinkParams}}):e._e(),"custom"==e.linkType?t("custom",{model:{value:e.link.params,callback:function(t){e.$set(e.link,"params",t)},expression:"link.params"}}):e._e()],1)])])])},c=[],d=(a("caad"),a("dcb0")),p=a("a92d"),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"shop"},[t("div",{staticClass:"link-list flex flex-wrap"},e._l(e.linkList,(function(a,i){return t("div",{key:i,staticClass:"link-item",class:{active:e.link.path==a.path},on:{click:function(t){e.link=a}}},[e._v(" "+e._s(a.name)+" ")])})),0)])},m=[],h=a("b6c4");let g=class extends n["e"]{constructor(){super(...arguments),this.linkList=[]}get link(){return this.value}set link(e){this.$emit("input",e)}getLists(){const e="mobile"==this.client?Object(h["b"])({type:this.type}):Object(h["e"])({type:this.type});e.then(e=>{this.linkList=e})}created(){this.getLists()}};Object(l["a"])([Object(n["c"])()],g.prototype,"value",void 0),Object(l["a"])([Object(n["c"])()],g.prototype,"type",void 0),Object(l["a"])([Object(n["c"])({default:"mobile"})],g.prototype,"client",void 0),g=Object(l["a"])([Object(n["a"])({components:{}})],g);var b=g,f=b,v=(a("ac34"),a("2877")),y=Object(v["a"])(f,u,m,!1,null,"b1978dfc",null),k=y.exports,_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"category flex"},[t("div",{staticClass:"m-r-20"},[e._v("选择分类")]),t("el-cascader",{ref:"cascader",attrs:{value:e.params.id,options:e.lists,props:{checkStrictly:!0,label:"name",value:"id",children:"sons",emitPath:!1},clearable:"",filterable:""},on:{change:e.onSelect}})],1)},w=[],O=a("14c6");let x=class extends n["e"]{constructor(){super(...arguments),this.lists=[]}get params(){return this.value}getLists(){Object(O["o"])({pager_type:1}).then(e=>{this.lists=null===e||void 0===e?void 0:e.lists})}onSelect(){const e=this.$refs.cascader.getCheckedNodes();this.$emit("input",e[0].data)}created(){this.getLists()}};Object(l["a"])([Object(n["c"])()],x.prototype,"value",void 0),x=Object(l["a"])([Object(n["a"])({components:{}})],x);var j=x,C=j,L=Object(v["a"])(C,_,w,!1,null,"41b5772c",null),S=L.exports,$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail"},[t("div",{staticClass:"flex m-b-20"},[t("div",{staticClass:"m-r-10"},[e._v("页面搜索")]),t("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入页面名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"}},[t("el-table-column",{attrs:{width:"45"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-checkbox",{attrs:{value:e.selectData.id==a.row.id},on:{change:function(t){return e.onSelect(t,a.row)}}})]}}])}),t("el-table-column",{attrs:{prop:"name",label:"页面名称"}}),t("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}})],1),t("div",{staticClass:"flex row-right m-t-10"},[t("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1)},D=[],T=a("3c50"),N=a("6ddb"),P=a("db85");let z=class extends n["e"]{constructor(){super(...arguments),this.name="",this.pager=new N["a"]}get selectData(){return this.value}set selectData(e){this.$emit("input",e)}getList(e){e&&(this.pager.page=e),this.pager.request({callback:P["t"],params:{type:1,name:this.name}}).then(e=>{})}onSelect(e,t){this.selectData=e?t:{}}created(){this.getList()}};Object(l["a"])([Object(n["c"])()],z.prototype,"value",void 0),z=Object(l["a"])([Object(n["a"])({components:{LsPagination:T["a"]}})],z);var G=z,I=G,A=Object(v["a"])(I,$,D,!1,null,"7d79fb60",null),E=A.exports,U=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom"},[t("el-form",{attrs:{size:"small","label-width":"100px"}},[t("el-form-item",{attrs:{label:"跳转链接",required:""}},[t("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入跳转链接"},model:{value:e.params.url,callback:function(t){e.$set(e.params,"url",t)},expression:"params.url"}})],1),t("el-form-item",{attrs:{label:""}},[t("div",{staticClass:"muted",staticStyle:{"line-height":"1.3"}},[e._v("请填写完整的带有“https://”或“http://”的链接地址 "),t("br"),e._v(" 链接的域名必须在微信公众平台设置业务域名")])])],1)],1)},q=[];let J=class extends n["e"]{get params(){return this.value}paramsChange(e){this.$emit("input",e)}};Object(l["a"])([Object(n["c"])()],J.prototype,"value",void 0),Object(l["a"])([Object(n["f"])("params",{deep:!0})],J.prototype,"paramsChange",null),J=Object(l["a"])([Object(n["a"])({components:{}})],J);var M=J,B=M,F=Object(v["a"])(B,U,q,!1,null,"9a1ab86e",null),H=F.exports,K=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail"},[t("div",{staticClass:"flex m-b-20"},[t("div",{staticClass:"m-r-10"},[e._v("活动搜索")]),t("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入活动名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"}},[t("el-table-column",{attrs:{width:"45",label:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-checkbox",{attrs:{value:a.row.id==e.selectData.id},on:{change:function(t){return e.onSelect(t,a.row)}}})]}}])}),t("el-table-column",{attrs:{label:"活动名称",prop:"name"}}),t("el-table-column",{attrs:{label:"活动状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.status?t("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(a.row.status_desc))]):t("el-tag",{attrs:{size:"medium",type:"info"}},[e._v(e._s(a.row.status_desc))])]}}])}),t("el-table-column",{attrs:{label:"活动时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.start_time_desc)+" ~ "+e._s(t.row.end_time_desc)+" ")]}}])})],1),t("div",{staticClass:"flex row-right m-t-20"},[t("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1)},Q=[],R=a("131b");let V=class extends n["e"]{constructor(){super(...arguments),this.name="",this.pager=new N["a"]}get selectData(){return this.value}set selectData(e){this.$emit("input",e)}getList(e){e&&(this.pager.page=e),this.pager.request({callback:R["g"],params:{name:this.name}}).then(e=>{})}onSelect(e,t){e?this.selectData=t:(console.log(this.selectData),this.selectData={},console.log(this.selectData))}created(){this.getList()}};Object(l["a"])([Object(n["c"])()],V.prototype,"value",void 0),V=Object(l["a"])([Object(n["a"])({components:{LsPagination:T["a"]}})],V);var W=V,X=W,Y=Object(v["a"])(X,K,Q,!1,null,"4180df0c",null),Z=Y.exports;let ee=class extends n["e"]{constructor(){super(...arguments),this.activeName=[],this.linkType="shop",this.lists="mobile"==this.client?[{name:"商城页面",key:"shop",children:[{name:"基础页面",type:"shop",link:{path:"",name:"",params:{},type:"shop"}},{name:"微页面",type:"page",link:{path:"/pages/page/page",name:"微页面",params:{},type:"page"}}]},{name:"商品",key:"goods",children:[{name:"普通商品",type:"goods",link:{path:"/pages/goods_detail/goods_detail",name:"普通商品",params:{},type:"goods"}},{name:"秒杀商品",type:"seckill",link:{path:"/bundle/pages/seckill_detail/seckill_detail",name:"秒杀商品",params:{},type:"seckill"}},{name:"拼团商品",type:"team",link:{path:"/bundle/pages/goods_team_detail/goods_team_detail",name:"拼团商品",params:{},type:"team"}},{name:"商品分类",type:"category",link:{path:"/pages/goods_search/goods_search",name:"商品分类",params:{},type:"category"}}]},{name:"营销活动",key:"marking",children:[{name:"营销活动页面",type:"marking",link:{path:"",name:"",params:{},type:"marking"}},{name:"幸运抽奖",type:"draw",link:{path:"/bundle/pages/luck_draw/luck_draw",name:"幸运抽奖",params:{},type:"draw"}}]},{name:"其他",key:"other",children:[{name:"自定义链接",type:"custom",link:{path:"/pages/webview/webview",name:"自定义链接",params:{url:""},type:"custom"}}]}]:[{name:"商城页面",key:"shop",children:[{name:"基础页面",type:"shop",link:{path:"",name:"",params:{},type:"shop"}}]},{name:"商品",key:"goods",children:[{name:"普通商品",type:"goods",link:{path:"/goods_details",name:"普通商品",params:{},type:"goods"}},{name:"秒杀商品",type:"seckill",link:{path:"/goods_details_seckill",name:"秒杀商品",params:{},type:"seckill"}},{name:"商品分类",type:"category",link:{path:"/category",name:"商品分类",params:{},type:"category"}}]},{name:"营销活动",key:"marking",children:[{name:"营销活动页面",type:"marking",link:{path:"",name:"",params:{},type:"marking"}}]}]}get link(){var e;let t={};return this.lists.forEach(e=>{const a=e.children.find(e=>e.type==this.linkType);a&&(t=a)}),null===(e=t)||void 0===e?void 0:e.link}set link(e){this.lists.forEach(t=>{t.children.forEach(a=>{a.type==this.linkType&&(e&&(a.link=e),this.activeName.includes(t.key)||this.activeName.push(t.key))})})}valueChange(e){e&&(this.linkType=e.type||"shop",this.link=e)}linkChange(e){this.$emit("input",e)}setLinkParams(e){if(!e.id)return this.link.params={};this.link&&(this.link={...this.link,params:{id:e.id,name:e.name}})}};Object(l["a"])([Object(n["c"])()],ee.prototype,"value",void 0),Object(l["a"])([Object(n["c"])({default:"mobile"})],ee.prototype,"client",void 0),Object(l["a"])([Object(n["f"])("value",{immediate:!0})],ee.prototype,"valueChange",null),Object(l["a"])([Object(n["f"])("link",{deep:!0})],ee.prototype,"linkChange",null),ee=Object(l["a"])([Object(n["a"])({components:{Goods:d["a"],Shop:k,Category:S,Page:E,Custom:H,Activity:p["a"],Draw:Z}})],ee);var te=ee,ae=te,ie=(a("5a18"),Object(v["a"])(ae,o,c,!1,null,"1ab33785",null)),se=ie.exports;let le=class extends n["e"]{constructor(){super(...arguments),this.link={}}get linkName(){const{type:e,name:t,params:a}=this.value;if(!t)return"";switch(e){case"custom":return a.url;default:return`${t}${a&&a.name?"("+a.name+")":""}`}}valueChange(e){this.link=JSON.parse(JSON.stringify(e))}onConfirm(){const{type:e,params:t,path:a}=this.link;switch(e){case"shop":if(!a)return void this.$message.warning("请选择商城页面");break;case"goods":if(!t.name)return void this.$message.warning("请选择商品");break;case"seckill":if(!t.name)return void this.$message.warning("请选择秒杀商品");break;case"team":if(!t.name)return void this.$message.warning("请选择拼团商品");break;case"marking":if(!a)return void this.$message.warning("请选择营销页面");break;case"draw":if(!t.name)return void this.$message.warning("请选择幸运抽奖");break;case"category":if(!t.name)return void this.$message.warning("请选择分类");break;case"custom":if(!t.url)return void this.$message.warning("请输入自定义链接");break;case"page":if(!t.name)return void this.$message.warning("请选择微页面");break}this.$refs.dialog.close(),this.$emit("input",this.link)}handleClear(){this.$emit("input",{})}};Object(l["a"])([Object(n["c"])({default:()=>({})})],le.prototype,"value",void 0),Object(l["a"])([Object(n["c"])({default:!1})],le.prototype,"disabled",void 0),Object(l["a"])([Object(n["c"])({default:"mobile"})],le.prototype,"client",void 0),Object(l["a"])([Object(n["f"])("value",{immediate:!0})],le.prototype,"valueChange",null),le=Object(l["a"])([Object(n["a"])({components:{LsDialog:r["a"],Detail:se}})],le);var ne=le,re=ne,oe=(a("4aa0"),Object(v["a"])(re,i,s,!1,null,"619aaa3e",null));t["a"]=oe.exports},"3cd3":function(e,t,a){},"4aa0":function(e,t,a){"use strict";a("3cd3")},"5a18":function(e,t,a){"use strict";a("aa2e")},61498:function(e,t,a){},a92d:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticClass:"detail",staticStyle:{height:"475px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGoods,expression:"!showGoods"}],staticClass:"activity-lists"},[t("div",{staticClass:"flex m-b-20"},[t("div",{staticClass:"m-r-10"},[e._v("活动搜索")]),t("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入活动名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.pager.lists,height:"370px",size:"mini"},on:{"cell-click":e.handleCellClick}},[t("el-table-column",{attrs:{label:"活动名称",prop:"name"}}),t("el-table-column",{attrs:{label:"活动状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.status?t("el-tag",{attrs:{size:"medium",type:"danger"}},[e._v(e._s(a.row.status_text))]):2==a.row.status?t("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(a.row.status_text))]):t("el-tag",{attrs:{size:"medium",type:"info"}},[e._v(e._s(a.row.status_text))])]}}])}),t("el-table-column",{attrs:{label:"商品数量",prop:"goods_num"}}),t("el-table-column",{attrs:{label:"活动时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.start_time)+" ~ "+e._s(t.row.end_time)+" ")]}}])})],1),t("div",{staticClass:"flex row-right m-t-20"},[t("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showGoods,expression:"showGoods"}],staticClass:"goods-list"},[t("div",{staticClass:"flex m-b-20"},[t("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:function(t){e.showGoods=!1}}},[e._v("返回")]),t("div",{staticClass:"m-r-10 m-l-20"},[e._v("商品搜索")]),t("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入商品名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGoodsList.apply(null,arguments)}},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getGoodsList},slot:"append"})],1)],1),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.goodsLists,height:"420px",size:"mini"},on:{"selection-change":e.handleSelect}},[e.single?t("el-table-column",{attrs:{width:"45",label:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-checkbox",{attrs:{value:a.row.id==e.value.id},on:{change:function(t){return e.selectChange(t,a.row)}}})]}}],null,!1,2281051103)}):t("el-table-column",{attrs:{width:"45",type:"selection"}}),t("el-table-column",{attrs:{label:"商品信息","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"flex"},[t("el-image",{staticClass:"flex-none",staticStyle:{width:"58px",height:"58px"},attrs:{src:a.row.image,fit:"cover"}}),t("div",{staticClass:"goods-info m-l-8"},[t("div",{staticClass:"line-2"},[e._v(e._s(a.row.name))])])],1)]}}])}),t("el-table-column",{attrs:{label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" ￥"+e._s(a.row.min_activity_price)+" "),a.row.min_activity_price!=a.row.max_activity_price?t("span",[e._v(" ~ "+e._s(a.row.max_activity_price))]):e._e()]}}])}),t("el-table-column",{attrs:{label:"商品库存",prop:"total_stock"}})],1)],1)])},s=[],l=a("9ab4"),n=a("1b40"),r=a("3c50"),o=a("6ddb"),c=a("b99a");let d=class extends n["e"]{constructor(){super(...arguments),this.name="",this.goodsName="",this.activeId="",this.pager=new o["a"],this.showGoods=!1,this.goodsLists=[]}get selectData(){return this.value}set selectData(e){this.$emit("input",e)}visibleChange(e){e.val?this.getList():(this.showGoods=!1,this.name="",this.goodsLists=[])}getList(e){e&&(this.pager.page=e),this.pager.request({callback:c["b"],params:{keyword:this.name,type:this.type}}).then(e=>{})}getGoodsList(){Object(c["c"])({keyword:this.goodsName,type:this.type,activity_id:this.activeId}).then(e=>{this.goodsLists=e})}handleCellClick(e){this.goodsName="",this.showGoods=!0,this.goodsLists=[],this.activeId=e.id,this.getGoodsList()}handleSelect(e){this.selectData=e}selectChange(e,t){this.selectData=e?t:{}}};Object(l["a"])([Object(n["b"])("visible")],d.prototype,"visible",void 0),Object(l["a"])([Object(n["c"])()],d.prototype,"value",void 0),Object(l["a"])([Object(n["c"])()],d.prototype,"type",void 0),Object(l["a"])([Object(n["c"])({default:!1})],d.prototype,"single",void 0),Object(l["a"])([Object(n["f"])("visible",{deep:!0,immediate:!0})],d.prototype,"visibleChange",null),d=Object(l["a"])([Object(n["a"])({components:{LsPagination:r["a"]}})],d);var p=d,u=p,m=(a("e580"),a("2877")),h=Object(m["a"])(u,i,s,!1,null,"74af0ce0",null);t["a"]=h.exports},aa2e:function(e,t,a){},ac34:function(e,t,a){"use strict";a("17d0")},b3ad:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+e.tipsText,width:"1050px",top:"15vh"},on:{confirm:e.handleConfirm}},[e.hiddenTrigger?e._e():t("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(e){e.stopPropagation()}},slot:"trigger"},[t("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:e.disabled||e.dragDisabled},on:{update:e.handleChange},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},e._l(e.fileList,(function(a,i){return t("div",{key:a+i,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":e.disabled,"is-one":1==e.limit},on:{click:function(t){return e.showDialog(!1,i)}}},[e.$scopedSlots.preview?t("div",[e._t("preview",null,{item:e.imageUri(a)})],2):t("file-item",{attrs:{type:e.type,item:{uri:e.imageUri(a)},size:e.size}}),e.enableDelete?t("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(t){return t.stopPropagation(),e.delImage(i)}}}):e._e()],1)})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":e.disabled,"is-one":1==e.limit},on:{click:function(t){return e.showDialog(!0)}}},[e.$slots.upload?t("div",[e._t("upload")],2):t("div",{staticClass:"upload-btn flex row-center",style:{width:e.size+"px",height:e.size+"px",background:e.uploadBg}},[e._t("default"),e.$slots.default?e._e():t("span",[e._v("添加"+e._s(e.tipsText))])],2)])],1),t("div",{staticClass:"material-wrap"},[t("ls-material",{ref:"material",attrs:{"page-size":15,type:e.type,limit:e.meterialLimit},on:{change:e.selectChange}})],1)])},s=[],l=a("9ab4"),n=a("1b40"),r=a("0a6d"),o=a("c6fe"),c=a("e915"),d=a("b76a"),p=a.n(d);let u=class extends n["e"]{constructor(){super(...arguments),this.isAdd=!0,this.fileList=[]}get showUpload(){const{fileList:e,limit:t}=this;return t-e.length>0}get meterialLimit(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}get tipsText(){switch(this.type){case"image":return"图片";case"video":return"视频"}}get imageUri(){return e=>this.enableDomain?e:this.$getImageUri(e)}valueChange(e){this.fileList=Array.isArray(e)?e:""==e?[]:[e]}showDialog(e=!0,t){var a;this.disabled||(this.isAdd=e,void 0!==t&&(this.currentIndex=t),null===(a=this.$refs.materialDialog)||void 0===a||a.onTrigger())}selectChange(e){this.select=e}handleConfirm(){this.$refs.material.clearSelectList();const e=this.select.map(e=>this.enableDomain?e.uri:e.url);this.isAdd?this.fileList=this.fileList.concat(e):this.fileList.splice(this.currentIndex,1,e.shift()),this.handleChange()}delImage(e){this.fileList.splice(e,1),this.handleChange()}handleChange(){const e=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",e),this.$emit("change",e),this.fileList=[]}};Object(l["a"])([Object(n["c"])({default:()=>[]})],u.prototype,"value",void 0),Object(l["a"])([Object(n["c"])({default:1})],u.prototype,"limit",void 0),Object(l["a"])([Object(n["c"])({default:"100"})],u.prototype,"size",void 0),Object(l["a"])([Object(n["c"])({default:!1})],u.prototype,"disabled",void 0),Object(l["a"])([Object(n["c"])({default:!1})],u.prototype,"dragDisabled",void 0),Object(l["a"])([Object(n["c"])({default:!1})],u.prototype,"hiddenTrigger",void 0),Object(l["a"])([Object(n["c"])({default:"image"})],u.prototype,"type",void 0),Object(l["a"])([Object(n["c"])({default:"transparent"})],u.prototype,"uploadBg",void 0),Object(l["a"])([Object(n["c"])({default:!0})],u.prototype,"enableDomain",void 0),Object(l["a"])([Object(n["c"])({default:!0})],u.prototype,"enableDelete",void 0),Object(l["a"])([Object(n["f"])("value",{immediate:!0})],u.prototype,"valueChange",null),u=Object(l["a"])([Object(n["a"])({components:{LsDialog:r["a"],LsMaterial:o["a"],Draggable:p.a,FileItem:c["a"]}})],u);var m=u,h=m,g=(a("fb48"),a("2877")),b=Object(g["a"])(h,i,s,!1,null,"1503bff6",null);t["a"]=b.exports},b99a:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r}));var i=a("f175");const s=()=>i["a"].get("/config/getMarketingModule"),l=()=>i["a"].get("/config/getAppModule"),n=e=>i["a"].get("/common/activity",{params:e}),r=e=>i["a"].get("/common/activityGoods",{params:e})},e580:function(e,t,a){"use strict";a("61498")},fb48:function(e,t,a){"use strict";a("239d")}}]);
//# sourceMappingURL=chunk-8f23214c.ae51cec5.js.map