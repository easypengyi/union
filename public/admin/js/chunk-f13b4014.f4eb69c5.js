(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f13b4014"],{"6be0":function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return i})),s.d(e,"d",(function(){return o})),s.d(e,"a",(function(){return r}));var a=s("f175");const n=()=>a["a"].get("/settings.shop.Storage/lists"),i=t=>a["a"].get("/settings.shop.Storage/index",{params:t}),o=t=>a["a"].post("/settings.shop.Storage/setup",t),r=t=>a["a"].post("/settings.shop.Storage/change",t)},af4f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"storage-setting"},[e("div",{staticClass:"ls-card"},[e("el-alert",{attrs:{title:"温馨提示：1.切换存储方式后，需要将资源文件传输至新的存储端；2.请勿随意切换存储方式，可能导致图片无法查看。",type:"info",closable:!1,"show-icon":""}})],1),e("div",{staticClass:"ls-user_tag ls-card m-t-20"},[e("div",{staticClass:"list-table m-t-16"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,size:"mini","header-cell-style":{background:"#f5f8ff"}}},[e("el-table-column",{attrs:{prop:"name",label:"存储方式","min-width":"",width:""}}),e("el-table-column",{attrs:{prop:"path",label:"存储位置","min-width":"260",width:""}}),e("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"",width:""},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":t.styleConfig.primary,"inactive-color":"#f4f4f5"},on:{change:function(e){return t.postStorageChange(s.row)}},model:{value:s.row.status,callback:function(e){t.$set(s.row,"status",e)},expression:"scope.row.status"}})]}}])}),e("el-table-column",{attrs:{label:"操作","min-width":"",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.onStorageEdit(s.row)}}},[t._v("设置")])]}}])})],1)],1)])])},n=[],i=s("9ab4"),o=s("1b40"),r=s("6be0");let c=class extends o["e"]{constructor(){super(...arguments),this.list=[],this.oldEngine="local"}onStorageEdit(t){this.$router.push({path:"/setting/storage/storage",query:{engine:t.engine}})}getStorageList(){Object(r["c"])().then(t=>{this.list=t,console.log(t)}).catch(()=>{this.$message.error("获取数据失败，请重试！")})}postStorageChange(t){Object(r["a"])({engine:t.engine}).then(t=>{this.getStorageList(),this.$message.success("更新成功")}).catch(()=>{this.$message.error("更新失败")})}created(){this.getStorageList()}};c=Object(i["a"])([Object(o["a"])({components:{}})],c);var l=c,u=l,g=(s("f83b"),s("2877")),d=Object(g["a"])(u,a,n,!1,null,"c02ddcce",null);e["default"]=d.exports},e6e5:function(t,e,s){},f83b:function(t,e,s){"use strict";s("e6e5")}}]);
//# sourceMappingURL=chunk-f13b4014.f4eb69c5.js.map