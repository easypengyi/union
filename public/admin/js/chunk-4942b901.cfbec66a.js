(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4942b901"],{"12e2":function(e,t,s){"use strict";s("b725")},"2c96":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),t("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[t("div",{},[t("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"用户信息",prop:""}},[t("div",{},[e._v(" "+e._s(e.nickname)+"("+e._s(e.sn)+") ")])]),t("el-form-item",{attrs:{label:"当前上级分销商",prop:""}},[t("div",{},[e._v(" "+e._s(e.value)+" ")])]),t("el-form-item",{attrs:{label:"调整方式",prop:"type",required:""}},[t("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("el-radio",{attrs:{label:"assign"}},[e._v("指定分销商")]),t("el-radio",{attrs:{label:"system"}},[e._v("设置分销商为系统")])],1),t("div",{staticClass:"muted xs m-r-16"},[e._v(" 选择“设置分销商为系统”时，用户的上级分销商会默认为系统 ")])],1),t("el-form-item",{attrs:{label:"选择分销商",prop:"",required:""}},[t("div",{staticClass:"flex"},[""!=e.selectUser.nickname?t("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.selectUser.nickname||"")+"("+e._s(e.selectUser.sn||"")+") ")]):e._e(),t("ls-user-select",{attrs:{title:"选择用户",userId:e.form.user_id},on:{getUser:e.getUser}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("选择用户")])],1)],1),t("div",{staticClass:"muted xs m-r-16"},[e._v(" 选择新的分销商 ")])])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)},l=[],r=s("9ab4"),a=s("1b40"),o=s("f633"),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),t("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1,"append-to-body":!0}},[t("div",{},[t("el-form",{staticClass:"ls-form",attrs:{inline:"",model:e.form,"label-width":"70px",size:"small"}},[t("el-form-item",{attrs:{label:"用户信息"}},[t("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用户编号"},model:{value:e.isNameSN,callback:function(t){e.isNameSN=t},expression:"isNameSN"}},[t("el-option",{attrs:{label:"用户编号",value:"0"}}),t("el-option",{attrs:{label:"用户昵称",value:"1"}})],1),0==e.isNameSN?t("el-input",{attrs:{placeholder:"请输入用户编号查询"},model:{value:e.form.sn,callback:function(t){e.$set(e.form,"sn",t)},expression:"form.sn"}}):e._e(),1==e.isNameSN?t("el-input",{attrs:{placeholder:"请输入用户昵称查询"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}}):e._e()],1),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getList}},[e._v("查询")]),t("el-button",{attrs:{size:"small"},on:{click:e.onReset}},[e._v("重置")])],1),t("div",{staticClass:"list-table m-t-16"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:e.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[t("el-table-column",{attrs:{prop:"sn",label:"用户编号","min-width":"",width:""}}),t("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"",width:""}})],1)],1),t("div",{staticClass:"flex row-right m-t-16 row-right"},[t("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)},c=[],u=s("6ddb"),d=s("3c50");let m=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.isNameSN="",this.form={user_id:"",sn:"",nickname:""},this.pager=new u["a"],this.currentRow={},this.formRules={}}getuserId(e){this.$set(this.form,"user_id",e)}getChange(e){this.form.sn="",this.form.nickname=""}onTrigger(){this.getList(),this.visible=!0}close(){this.visible=!1,this.form.sn="",this.form.nickname=""}onSubmit(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择用户"):(this.$emit("getUser",this.currentRow),void(this.visible=!1))}getList(){this.pager.request({callback:o["a"],params:{...this.form}}).then(e=>{})}onReset(){this.form.sn="",this.form.nickname="",this.getList()}handleCurrentChange(e){this.currentRow=e}};Object(r["a"])([Object(a["c"])()],m.prototype,"userId",void 0),Object(r["a"])([Object(a["c"])({default:""})],m.prototype,"title",void 0),Object(r["a"])([Object(a["c"])({default:"880px"})],m.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:"10vh"})],m.prototype,"top",void 0),Object(r["a"])([Object(a["f"])("userId",{immediate:!0})],m.prototype,"getuserId",null),Object(r["a"])([Object(a["f"])("isNameSN",{immediate:!0})],m.prototype,"getChange",null),m=Object(r["a"])([Object(a["a"])({components:{LsPagination:d["a"]}})],m);var p=m,f=p,v=s("2877"),b=Object(v["a"])(f,n,c,!1,null,"644d5468",null),h=b.exports;let _=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:"assign",first_id:""},this.selectUser={id:"",nickname:"",sn:""},this.formRules={type:[{required:!0,message:"请选择",trigger:"change"}]}}getuserId(e){console.log("userId",e),this.$set(this.form,"user_id",e)}getUser(e){null!=e&&(this.selectUser=e,this.form.first_id=this.selectUser.id)}onSubmit(){this.$refs.formRef.validate(e=>{if(e){if(""==this.form.first_id&&"assign"==this.form.type)return this.$message.error("请选择上级分销商");Object(o["v"])({...this.form}).then(e=>{console.log(e),this.$emit("refresh")}).catch(e=>{console.log(e)}),this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}};Object(r["a"])([Object(a["c"])()],_.prototype,"value",void 0),Object(r["a"])([Object(a["c"])()],_.prototype,"nickname",void 0),Object(r["a"])([Object(a["c"])()],_.prototype,"sn",void 0),Object(r["a"])([Object(a["c"])()],_.prototype,"userId",void 0),Object(r["a"])([Object(a["c"])({default:""})],_.prototype,"title",void 0),Object(r["a"])([Object(a["c"])({default:"660px"})],_.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:"20vh"})],_.prototype,"top",void 0),Object(r["a"])([Object(a["f"])("userId",{immediate:!0})],_.prototype,"getuserId",null),_=Object(r["a"])([Object(a["a"])({components:{LsUserSelect:h}})],_);var g=_,y=g,x=Object(v["a"])(y,i,l,!1,null,"726bde6c",null);t["a"]=x.exports},"3b63":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"user-details"},[t("div",{staticClass:"ls-card"},[t("el-page-header",{attrs:{content:"用户详情"},on:{back:function(t){return e.$router.go(-1)}}})],1),t("div",{staticClass:"m-t-16 flex col-top"},[t("div",{staticClass:"ls-card card-height"},[t("div",{staticClass:"card-title"},[e._v(" 基本资料 ")]),t("div",{staticClass:"content m-t-16 m-b-16"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"flex-col col-center",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("用户头像")]),t("img",{staticClass:"avatar",attrs:{src:e.user_info.avatar,width:"58",height:"58"}})]),t("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("钱包金额")]),t("div",{staticStyle:{margin:"7px 0"}},[e._v(e._s(e.user_info.total_user_money))])]),t("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("可用余额")]),t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_money))]),t("ls-user-change",{attrs:{title:"可用余额调整",value:e.user_info.user_money,type:1,userId:e.user_id},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),t("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("可提现金额")]),t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_earnings))]),t("ls-user-change",{attrs:{title:"可提现金额调整",value:e.user_info.user_earnings,type:2,userId:e.user_id},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),t("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("积分")]),t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.user_integral))]),t("ls-user-change",{attrs:{title:"积分调整",value:e.user_info.user_integral,type:3,userId:e.user_id},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),t("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[t("div",{staticClass:"lighter m-b-8"},[e._v("可用优惠券")]),t("div",{staticClass:"flex"},[t("div",{staticStyle:{margin:"7px 0"}},[e._v(e._s(e.user_info.coupon_num))])])])],1)],1),t("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[t("div",{},[t("el-form-item",{attrs:{label:"用户编号",prop:""}},[t("div",[e._v(" "+e._s(e.user_info.sn)+" ")])]),t("el-form-item",{attrs:{label:"用户昵称",prop:""}},[t("div",[e._v(" "+e._s(e.user_info.nickname)+" ")])]),t("el-form-item",{attrs:{label:"用户等级",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.level_name))]),t("ls-level-change",{attrs:{title:"等级调整",value:e.user_info.level_name,userId:e.user_id},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("等级调整")])],1)],1)]),t("el-form-item",{attrs:{label:"真实姓名",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.real_name))]),t("popover-input-user",{attrs:{width:400,changeType:"input",type:"text",value:e.user_info.real_name},on:{confirm:function(t){return e.userSetInfo(t,"real_name")}}},[t("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),t("el-form-item",{attrs:{label:"性别",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.sex))]),t("popover-input-user",{attrs:{width:300,type:"text",value:e.user_info.sex,changeType:"sex"},on:{confirm:function(t){return e.userSetInfo(t,"sex")}}},[t("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),t("el-form-item",{attrs:{label:"手机号码",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.mobile))]),t("popover-input-user",{attrs:{width:400,type:"text",changeType:"input",value:e.user_info.mobile},on:{confirm:function(t){return e.userSetInfo(t,"mobile")}}},[t("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),t("el-form-item",{attrs:{label:"生日",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"ls-input m-r-10"},[e._v(e._s(e.user_info.birthday))]),t("popover-input-user",{attrs:{width:400,changeType:"time",type:"text",value:e.user_info.birthday},on:{confirm:function(t){return e.userSetInfo(t,"birthday")}}},[t("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),t("el-form-item",{attrs:{label:"邀请人",prop:""}},[t("div",[e._v(" "+e._s(e.user_info.inviter.name)+" ")])]),t("el-form-item",{attrs:{label:"我邀请的人数",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.inviter.num))]),t("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},on:{click:function(t){return e.toInvitationList(e.user_info)}},slot:"trigger"},[e._v("我邀请的人数")])],1)]),t("el-form-item",{attrs:{label:"上级分销商",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(e._s(e.user_info.first_leader_info.name))]),t("ls-invitation-change",{attrs:{title:"上级分销商调整",value:e.user_info.first_leader_info.name,userId:e.user_id,nickname:e.user_info.nickname,sn:e.user_info.sn},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)]),t("el-form-item",{attrs:{label:"注册来源"}},[t("div",[e._v(" "+e._s(e.user_info.register_source)+" ")])]),t("el-form-item",{attrs:{label:"注册时间"}},[t("div",[e._v(" "+e._s(e.user_info.create_time)+" ")])]),t("el-form-item",{attrs:{label:"最近登录时间"}},[t("div",[e._v(" "+e._s(e.user_info.login_time)+" ")])])],1)])],1)]),t("div",{staticClass:"ls-card m-t-16"},[t("div",{staticClass:"card-title m-b-30"},[e._v(" 用户标签 ")]),t("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"用户标签",prop:""}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.labels)+" ")]),t("ls-label-change",{attrs:{title:"用户标签调整",value:e.user_info.labels,userId:e.user_id},on:{refresh:e.userDetail}},[t("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)])],1)],1),t("div",{staticClass:"ls-card m-t-16"},[t("div",{staticClass:"card-title m-b-30"},[e._v(" 交易数据 ")]),t("el-form",{ref:"transactionRef",staticClass:"flex col-top",attrs:{rules:e.transactionRules,model:e.transaction,"label-width":"120px",size:"small"}},[t("div",{},[t("el-form-item",{attrs:{label:"成交订单数 ",prop:""}},[t("div",[e._v(" "+e._s(e.transaction.total_order_num)+" ")])]),t("el-form-item",{attrs:{label:"消费金额 ",prop:""}},[t("div",[e._v(" "+e._s(e.transaction.total_order_amount)+" ")])]),t("el-form-item",{attrs:{label:"最近消费时间 ",prop:""}},[t("div",[e._v(" "+e._s(e.transaction.lately_order_time)+" ")])])],1)])],1)])},l=[],r=s("9ab4"),a=s("1b40"),o=s("f633"),n=s("0a6d"),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),t("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[t("div",{},[t("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"当前"+e.typeName}},[3==e.type?t("div",[e._v(e._s(e.form.value))]):t("div",[e._v("¥ "+e._s(e.form.value))])]),t("el-form-item",{attrs:{label:e.typeName+"增减"}},[t("el-radio-group",{staticClass:"m-r-16",model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[t("el-radio",{attrs:{label:1}},[e._v("增加"+e._s(e.typeName))]),t("el-radio",{attrs:{label:0}},[e._v("扣减"+e._s(e.typeName))])],1)],1),t("el-form-item",{attrs:{label:"调整"+e.typeName,prop:"num"}},[3==e.type?t("div",{},[t("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的积分",type:"number"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}}),t("div",{staticClass:"muted xs m-r-16"},[e._v(" 输入调整的积分 ")])],1):t("div",{},[t("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的金额"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[t("template",{slot:"append"},[e._v("元")])],2),t("div",{staticClass:"muted xs m-r-16"},[e._v(" 输入调整的余额金额 ")])],1)]),t("el-form-item",{attrs:{label:"调整后"+e.typeName}},[3==e.type?t("div",[e._v(e._s(e.lastValue))]):t("div",[e._v("¥ "+e._s(e.lastValue))])]),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateUserAdjustUserWallet}},[e._v("确认")])],1)])],1)},u=[];let d=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:1,action:1,num:0,remark:"",value:""},this.typeName="",this.valueRules={}}get lastValue(){let e=this.value;return e=1==this.form.action?Number(this.form.value)+1*this.form.num:Number(this.form.value)-1*this.form.num,e}getuserId(e){console.log("userId",e),this.$set(this.form,"user_id",e)}getValue(e){console.log("value",e),this.$set(this.form,"value",e)}getType(e){console.log("type",e),1==e?(this.typeName="金额",this.$set(this.form,"type",e)):2==e?(this.typeName="可提现金额",this.$set(this.form,"type",e)):3==e&&(this.typeName="积分",this.$set(this.form,"type",e))}updateUserAdjustUserWallet(){let e=1*this.form.num;if(e<=0)return this.$message.error("请输入大于0的数字");Object(o["r"])(this.form).then(e=>{console.log(e),this.$emit("refresh"),this.visible=!1}).catch(e=>{console.log(e),this.visible=!1})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.$set(this.form,"num",0),this.$set(this.form,"remark","")}};Object(r["a"])([Object(a["c"])()],d.prototype,"value",void 0),Object(r["a"])([Object(a["c"])()],d.prototype,"type",void 0),Object(r["a"])([Object(a["c"])()],d.prototype,"userId",void 0),Object(r["a"])([Object(a["c"])({default:""})],d.prototype,"title",void 0),Object(r["a"])([Object(a["c"])({default:"660px"})],d.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:"20vh"})],d.prototype,"top",void 0),Object(r["a"])([Object(a["f"])("userId",{immediate:!0})],d.prototype,"getuserId",null),Object(r["a"])([Object(a["f"])("value",{immediate:!0})],d.prototype,"getValue",null),Object(r["a"])([Object(a["f"])("type",{immediate:!0})],d.prototype,"getType",null),d=Object(r["a"])([Object(a["a"])({components:{}})],d);var m=d,p=m,f=s("2877"),v=Object(f["a"])(p,c,u,!1,null,"74929dfa",null),b=v.exports,h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),t("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[t("div",{},[t("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"标签调整",prop:"labelValue"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.labelValue,callback:function(t){e.$set(e.form,"labelValue",t)},expression:"form.labelValue"}},e._l(e.userLabelList,(function(e,s){return t("div",{key:s},[t("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),t("div",{staticClass:"xxs lighter"},[e._v(" 可以多选用户标签 ")])],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLabel}},[e._v("确认")])],1)])],1)},_=[];let g=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",labelValue:[]},this.userLevelList={},this.userLabelList={},this.formRules={}}getuserId(e){console.log("userId",e),this.$set(this.form,"user_id",e)}getUserSearchList(){Object(o["q"])().then(e=>{this.userLevelList=e.user_level_list,this.userLabelList=e.user_label_list})}changeUserLabel(){this.$refs.formRef.validate(e=>{if(e)return this.form.labelValue.length?void Object(o["u"])({user_id:this.userId,label_ids:this.form.labelValue}).then(e=>{console.log(e),this.$emit("refresh"),this.visible=!1}).catch(e=>{console.log(e)}):this.$message.error("请选择标签")})}onTrigger(){this.getUserSearchList(),this.visible=!0}close(){this.visible=!1,this.form.labelValue=[]}};Object(r["a"])([Object(a["c"])()],g.prototype,"value",void 0),Object(r["a"])([Object(a["c"])()],g.prototype,"userId",void 0),Object(r["a"])([Object(a["c"])({default:""})],g.prototype,"title",void 0),Object(r["a"])([Object(a["c"])({default:"660px"})],g.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:"20vh"})],g.prototype,"top",void 0),Object(r["a"])([Object(a["f"])("userId",{immediate:!0})],g.prototype,"getuserId",null),g=Object(r["a"])([Object(a["a"])({components:{}})],g);var y=g,x=y,j=Object(f["a"])(x,h,_,!1,null,"083cc16d",null),O=j.exports,C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),t("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[t("div",{},[t("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"当前等级"}},[t("div",[e._v(e._s(e.form.value))])]),t("el-form-item",{attrs:{label:"等级调整",prop:"level"}},[t("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},e._l(e.userLevelList,(function(e,s){return t("div",{key:s},[t("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),t("div",{staticClass:"xxs lighter"},[e._v(" 选择调整后的等级 ")])],1),t("el-form-item",{attrs:{label:"调整后等级"}},[t("div",[e._v(e._s(e.lastValue))])]),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLevel}},[e._v("确认")])],1)])],1)},k=[];let w=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",level:"",remark:"",value:""},this.labelValue=[],this.userLevelList=[],this.valueRules={level:[{required:!0,message:"请选择用户等级",trigger:"change"}]}}get lastValue(){let e=[{name:""}];e=this.userLevelList.filter(e=>(null===e||void 0===e?void 0:e.id)==this.form.level);const t=e.map(e=>e.name);return t.toString()}getuserId(e){console.log("userId",e),this.$set(this.form,"user_id",e)}getValue(e){console.log("value",e),this.$set(this.form,"value",e)}getUserSearchList(){Object(o["q"])().then(e=>{this.userLevelList=e.user_level_list})}changeUserLevel(){this.$refs.valueRef.validate(e=>{e&&(Object(o["s"])({user_id:this.form.user_id,field:"level",value:this.form.level}).then(e=>{this.$emit("refresh"),console.log(e)}).catch(e=>{console.log(e)}),this.visible=!1,this.form.remark="")})}onTrigger(){this.getUserSearchList(),this.visible=!0}close(){this.visible=!1,this.form.remark="",this.form.level=""}};Object(r["a"])([Object(a["c"])()],w.prototype,"value",void 0),Object(r["a"])([Object(a["c"])()],w.prototype,"userId",void 0),Object(r["a"])([Object(a["c"])({default:""})],w.prototype,"title",void 0),Object(r["a"])([Object(a["c"])({default:"660px"})],w.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:"20vh"})],w.prototype,"top",void 0),Object(r["a"])([Object(a["f"])("userId",{immediate:!0})],w.prototype,"getuserId",null),Object(r["a"])([Object(a["f"])("value",{immediate:!0})],w.prototype,"getValue",null),w=Object(r["a"])([Object(a["a"])({components:{}})],w);var L=w,I=L,$=Object(f["a"])(I,C,k,!1,null,"165f5de8",null),z=$.exports,S=s("2c96"),V=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("el-popover",{staticClass:"popover-input",attrs:{placement:"top",width:e.width,trigger:"manual"},on:{hide:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"popover-input__input m-r-10 flex-1"},["input"==e.changeType?t("el-input",{attrs:{type:e.type,size:"mini",placeholder:e.tips},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e(),"sex"==e.changeType?t("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择性别",size:"mini"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[t("el-option",{attrs:{label:"男",value:1}}),t("el-option",{attrs:{label:"女",value:2}})],1):e._e(),"time"==e.changeType?t("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e()],1),t("div",{staticClass:"popover-input__btns flex-none"},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确定")])],1)]),t("div",{staticClass:"inline",attrs:{slot:"reference",type:"text"},on:{click:e.handleOpen},slot:"reference"},[e._t("default")],2)])},R=[];let U=class extends a["e"]{constructor(){super(...arguments),this.visible=!1,this.inputValue="",this.pickerOptions={disabledDate(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick(e){e.$emit("pick",new Date)}},{text:"昨天",onClick(e){const t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick(e){const t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}valueChange(e){this.inputValue=e}handleConfirm(){this.visible=!1,"time"==this.changeType&&(this.inputValue=String(new Date(this.inputValue).getTime()/1e3)),this.$emit("confirm",this.inputValue)}close(){this.inputValue="",this.visible=!1}handleOpen(){this.disabled||(this.visible=!0)}};Object(r["a"])([Object(a["c"])()],U.prototype,"changeType",void 0),Object(r["a"])([Object(a["c"])()],U.prototype,"value",void 0),Object(r["a"])([Object(a["c"])({default:"number"})],U.prototype,"type",void 0),Object(r["a"])([Object(a["c"])({default:"250"})],U.prototype,"width",void 0),Object(r["a"])([Object(a["c"])({default:!1})],U.prototype,"disabled",void 0),Object(r["a"])([Object(a["c"])()],U.prototype,"tips",void 0),Object(r["a"])([Object(a["f"])("value",{immediate:!0})],U.prototype,"valueChange",null),U=Object(r["a"])([a["a"]],U);var N=U,T=N,D=Object(f["a"])(T,V,R,!1,null,"4a90a67c",null),q=D.exports;let P=class extends a["e"]{constructor(){super(...arguments),this.user_id="",this.isShowWallet=1,this.user_info={id:"",sn:"",nickname:"",avatar:"",sex:"",code:"",level_name:"",create_time:"",login_time:"",disable:"",labels:"",leader_inviter:"",fans:"",total_user_money:"",user_money:"",user_earnings:"",user_integral:"",count_num:"",inviter:{name:"",num:""},first_leader_info:{name:""}},this.transaction={total_order_amount:"",total_order_num:"",customer_price:" ",lately_order_time:""},this.userRules={},this.transactionRules={}}userDetail(){Object(o["b"])({user_id:this.user_id}).then(e=>{this.user_info=e.user_info,this.transaction=e.transaction}).catch(e=>{console.log(e)})}userSetInfo(e,t){Object(o["s"])({user_id:this.user_id,field:t,value:e}).then(e=>{this.userDetail()}).catch(e=>{console.log(e)})}toInvitationList(e){this.$router.push({path:"/user/invitation_list",query:{id:e.id}})}created(){const e=this.$route.query;e.id&&(this.user_id=e.id),this.userDetail()}};P=Object(r["a"])([Object(a["a"])({components:{LsDialog:n["a"],LsUserChange:b,LsLabelChange:O,LsLevelChange:z,PopoverInputUser:q,LsInvitationChange:S["a"]}})],P);var W=P,J=W,A=(s("12e2"),Object(f["a"])(J,i,l,!1,null,"624a969c",null));t["default"]=A.exports},b725:function(e,t,s){},f633:function(e,t,s){"use strict";s.d(t,"o",(function(){return l})),s.d(t,"k",(function(){return r})),s.d(t,"m",(function(){return a})),s.d(t,"n",(function(){return o})),s.d(t,"l",(function(){return n})),s.d(t,"j",(function(){return c})),s.d(t,"f",(function(){return u})),s.d(t,"h",(function(){return d})),s.d(t,"i",(function(){return m})),s.d(t,"g",(function(){return p})),s.d(t,"p",(function(){return f})),s.d(t,"q",(function(){return v})),s.d(t,"b",(function(){return b})),s.d(t,"s",(function(){return h})),s.d(t,"t",(function(){return _})),s.d(t,"u",(function(){return g})),s.d(t,"r",(function(){return y})),s.d(t,"c",(function(){return x})),s.d(t,"d",(function(){return j})),s.d(t,"e",(function(){return O})),s.d(t,"v",(function(){return C})),s.d(t,"a",(function(){return k}));var i=s("f175");const l=e=>i["a"].get("/user.user_level/lists",{params:e}),r=e=>i["a"].post("/user.user_level/add",e),a=e=>i["a"].get("/user.user_level/detail",{params:e}),o=e=>i["a"].post("/user.user_level/edit",e),n=e=>i["a"].post("/user.user_level/del",e),c=e=>i["a"].get("/user.user_label/lists",{params:e}),u=e=>i["a"].post("/user.user_label/add",e),d=e=>i["a"].get("/user.user_label/detail",{params:e}),m=e=>i["a"].post("/user.user_label/edit",e),p=e=>i["a"].post("/user.user_label/del",e),f=e=>i["a"].get("/user.user/lists",{params:e}),v=()=>i["a"].get("/user.user/otherList"),b=e=>i["a"].get("/user.user/detail",{params:e}),h=e=>i["a"].post("/user.user/setInfo",e),_=e=>i["a"].post("/user.user/setLabel",e),g=e=>i["a"].post("/user.user/setUserLabel",e),y=e=>i["a"].post("/user.user/adjustUserWallet",e),x=()=>i["a"].get("/user.user/index"),j=e=>i["a"].get("/user.user/info",{params:e}),O=e=>i["a"].get("/user.user/userInviterLists",{params:e}),C=e=>i["a"].post("/user.user/adjustFirstLeader",e),k=e=>i["a"].get("/user.user/selectUserLists",{params:e})}}]);
//# sourceMappingURL=chunk-4942b901.cfbec66a.js.map