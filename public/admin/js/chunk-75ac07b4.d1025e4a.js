(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75ac07b4"],{"0542":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"substance_edit-help"},[e("div",{staticClass:"ls-card"},[e("el-page-header",{attrs:{content:"add"==t.mode?"添加公告":"编辑公告"},on:{back:function(e){return t.$router.go(-1)}}})],1),e("div",{staticClass:"ls-card m-t-16 form-container"},[e("div",{staticClass:"form-left"},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"标题",prop:"name"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":"",placeholder:"请输入标题"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"简介",prop:"synopsis"}},[e("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入简介"},model:{value:t.form.synopsis,callback:function(e){t.$set(t.form,"synopsis",e)},expression:"form.synopsis"}})],1),e("el-form-item",{attrs:{label:"排序",prop:"sort"}},[e("el-input",{staticClass:"ls-input",attrs:{type:"number",placeholder:"请输入排序"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),e("el-form-item",{attrs:{label:"封面图",prop:"disable"}},[e("material-select",{attrs:{limit:1},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1),e("el-form-item",{attrs:{label:"状态",prop:"status"}},[e("el-radio",{attrs:{label:1},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("启用")]),e("el-radio",{attrs:{label:0},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("关闭")])],1)],1)],1),e("div",{staticClass:"form-right"},[e("el-form",{attrs:{rules:t.rules,"label-width":"120px",size:"small"}},[e("el-form-item",{staticClass:"form-edit",attrs:{label:"内容",prop:"content"}},[e("ls-editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1)]),e("div",{staticClass:"bg-white ls-fixed-footer"},[e("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)])])},r=[],i=s("9ab4"),a=s("1b40"),n=s("614b"),l=s("b3ad"),c=s("a897"),m=s("4201");let u=class extends a["e"]{constructor(){super(...arguments),this.mode=m["f"].ADD,this.categoryList=[],this.form={id:0,name:"",synopsis:"",image:"",content:"",sort:0,status:1},this.rules={name:[{required:!0,message:"请输入标题",trigger:"blur"}],cid:[{required:!0,message:"请选择分类",trigger:"change"}],synopsis:[{required:!0,message:"请输入简介",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]}}onSubmit(t){const e=this.$refs[t];e.validate(t=>{if(t)switch(this.mode){case m["f"].ADD:return this.handleNoticeAdd();case m["f"].EDIT:return this.handleNoticeEdit()}})}handleNoticeAdd(){const t=this.form;Object(n["a"])(t).then(()=>{setTimeout(()=>this.$router.go(-1),500)})}handleNoticeEdit(){const t=this.form;Object(n["d"])(t).then(()=>{setTimeout(()=>this.$router.go(-1),500)})}initFormDataForNoticeEdit(){Object(n["c"])({id:this.form.id}).then(t=>{Object.keys(t).map(e=>{this.$set(this.form,e,t[e])})})}created(){const t=this.$route.query;t.mode&&(this.mode=t.mode),this.mode===m["f"].EDIT&&(this.form.id=1*t.id,this.initFormDataForNoticeEdit())}};u=Object(i["a"])([Object(a["a"])({components:{LsEditor:c["a"],MaterialSelect:l["a"]}})],u);var d=u,f=d,p=(s("716d"),s("2877")),h=Object(p["a"])(f,o,r,!1,null,"7c523427",null);e["default"]=h.exports},"614b":function(t,e,s){"use strict";s.d(e,"a",(function(){return r})),s.d(e,"e",(function(){return i})),s.d(e,"d",(function(){return a})),s.d(e,"f",(function(){return n})),s.d(e,"c",(function(){return l})),s.d(e,"b",(function(){return c}));var o=s("f175");const r=t=>o["a"].post("/shop_notice.shop_notice/add",t),i=t=>o["a"].get("/shop_notice.shop_notice/lists",{params:t}),a=t=>o["a"].post("/shop_notice.shop_notice/edit",t),n=t=>o["a"].post("/shop_notice.shop_notice/status",t),l=t=>o["a"].get("/shop_notice.shop_notice/detail",{params:t}),c=t=>o["a"].post("/shop_notice.shop_notice/del",t)},"716d":function(t,e,s){"use strict";s("da7f")},da7f:function(t,e,s){}}]);
//# sourceMappingURL=chunk-75ac07b4.d1025e4a.js.map