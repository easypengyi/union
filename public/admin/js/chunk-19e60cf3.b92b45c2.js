(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19e60cf3"],{"1efa":function(t,e,s){t.exports=s.p+"img/img_shili_admin_login.c5c638ca.png"},2082:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAFsCAMAAABYVc2kAAACiFBMVEX////+/v78/Pz9/f3w8PC2trbz8/PY2Niqqqqtra3i4uLs7OzPz8/c3NzQ0NDm5ubX19fd3d2ysrIAAACxsbHIyMibm5vZ2dn7+/vf39/19fXFxcVBQUEeHh4+Pj46OjocHBxTU1PW1tbn5+ednZ36+vp+fn6RkZHx8fGampr09PSAgICenp6BgYHu7u5XV1e9vb3Dw8N6enq/v7+WlpaDg4Pq6urb29vl5eXR0dG6urqCgoLLy8vg4OA0NDQ4ODgCAgJ0dHRxcXGVlZXr6+va2tr5+fnj4+N7e3vh4eH4+PhSUlJlZWXBwcGkpKRNTU1/f387Ozve3t7ExMSjo6MrKyvy8vLp6elWVlZra2uPj48bGxtDQ0OgoKBfX1+cnJyTk5Nzc3ONjY2IiIiUlJS4uLhmZmbGxsbHx8cJCQkvLy+vr68BAQGrq6vAwMBbW1uzs7PT09OXl5ehoaGJiYmMjIxUVFTMzMx8fHx5eXmpqalkZGRLS0tCQkImJiZvb2/U1NSSkpJYWFjCwsKZmZm3t7eurq5jY2PKysptbW20tLTt7e0HBwcKCgpubm739/cREREuLi7Ozs5GRkZgYGBPT0+wsLCsrKyYmJi5ublnZ2enp6fv7+9paWmFhYWioqKmpqZhYWGHh4d9fX2GhoaKiopOTk4dHR27u7t4eHiQkJCOjo5sbGxeXl6+vr5wcHDV1dVycnJVVVWoqKjNzc329vYTExNaWloODg4jIyNFRUVcXFxJSUkMDAwwMDAhISHS0tI5OTkWFhYtLS0kJCQDAwN2dnY2NjYUFBQpKSkfHx9HR0dAQEAVFRU/Pz8qKio3Nzfk5OTo6Oi8vLzJycm1tbX///////+RG3HIAAAA2HRSTlP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////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"},"239d":function(t,e,s){},"4ee7":function(t,e,s){t.exports=s.p+"img/img_shili_store_login.609e0164.png"},"5cf7":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"area-select"},[e("el-cascader",{style:{width:t.width},attrs:{options:t.options},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}})],1)},a=[],r=s("9ab4"),l=s("0463"),o=s("1b40");let n=class extends o["e"]{constructor(){super(...arguments),this.options=l["a"]}get areaValue(){return[this.province,this.city,this.district]}set areaValue(t){this.$emit("update:province",t[0]),this.$emit("update:city",t[1]),this.$emit("update:district",t[2])}};Object(r["a"])([Object(o["c"])()],n.prototype,"province",void 0),Object(r["a"])([Object(o["c"])()],n.prototype,"city",void 0),Object(r["a"])([Object(o["c"])()],n.prototype,"district",void 0),Object(r["a"])([Object(o["c"])({default:"380px"})],n.prototype,"width",void 0),n=Object(r["a"])([o["a"]],n);var c=n,d=c,m=s("2877"),u=Object(m["a"])(d,i,a,!1,null,null,null);e["a"]=u.exports},"6a03":function(t,e,s){"use strict";s("d8b2")},"82bb":function(t,e,s){"use strict";s.d(e,"f",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"d",(function(){return l})),s.d(e,"c",(function(){return o})),s.d(e,"h",(function(){return n})),s.d(e,"g",(function(){return c})),s.d(e,"b",(function(){return d})),s.d(e,"a",(function(){return m}));var i=s("f175");const a=()=>i["a"].get("/settings.shop.shop_setting/getShopInfo"),r=t=>i["a"].post("/settings.shop.shop_setting/setShopInfo",t),l=()=>i["a"].get("/settings.shop.shop_setting/getRecordInfo"),o=t=>i["a"].post("/settings.shop.shop_setting/setRecordInfo",t),n=()=>i["a"].get("/settings.shop.shop_setting/getShareSetting"),c=t=>i["a"].post("/settings.shop.shop_setting/setShareSetting",t),d=()=>i["a"].get("/settings.shop.shop_setting/getPolicyAgreement"),m=t=>i["a"].post("/settings.shop.shop_setting/setPolicyAgreement",t)},"8e2c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"setting-shop"},[e("div",{staticClass:"ls-card"},[e("el-alert",{attrs:{title:"温馨提示：商城名称、商城Logo、默认图片等信息的配置。",type:"info",closable:!1,"show-icon":""}})],1),e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px",size:"small"}},[e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("店铺信息")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"店铺/商城名称",prop:"name"}},[e("el-input",{staticClass:"ls-input",attrs:{maxlength:"12","show-word-limit":""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"商城LOGO",prop:"logo"}},[e("material-select",{attrs:{limit:1},model:{value:t.form.logo,callback:function(e){t.$set(t.form,"logo",e)},expression:"form.logo"}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"muted xs m-r-16"},[t._v("建议尺寸：宽度不限，高度56px / 100*100px ，支持jpg，jpeg，png格式")]),e("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover"}},[e("el-image",{attrs:{src:t.images.storeLogin}}),e("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("经营设置")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"商城营业状态"}},[e("div",{staticClass:"flex"},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),e("span",{staticClass:"m-l-16"},[t._v(t._s(t.form.status?"开启":"关闭"))])],1),e("div",{staticClass:"flex"},[e("div",{staticClass:"muted xs m-r-16"},[t._v("默认开启，商城状态为关闭时，将不对外提供服务，请谨慎操作")]),e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("el-image",{attrs:{src:t.images.storeClose}}),e("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)])],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("管理后台")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"登录封面图",prop:"admin_login_image"}},[e("material-select",{attrs:{limit:1},model:{value:t.form.admin_login_image,callback:function(e){t.$set(t.form,"admin_login_image",e)},expression:"form.admin_login_image"}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"muted xs m-r-16"},[t._v("建议尺寸：500*500像素，支持jpg，jpeg，png格式")]),e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("img",{attrs:{src:t.images.adminLogin}}),e("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)],1),e("el-form-item",{attrs:{label:"登录安全"}},[e("el-radio-group",{staticClass:"m-r-16",model:{value:t.form.login_restrictions,callback:function(e){t.$set(t.form,"login_restrictions",e)},expression:"form.login_restrictions"}},[e("el-radio",{attrs:{label:0}},[t._v("不限制")]),e("el-radio",{attrs:{label:1}},[t._v("限制")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.login_restrictions,expression:"form.login_restrictions"}],staticClass:"flex m-t-24"},[e("div",[e("span",{staticClass:"p-r-6"},[t._v("输错密码")]),e("el-input",{staticStyle:{width:"138px"},attrs:{type:"number"},scopedSlots:t._u([{key:"append",fn:function(){return[e("span",{staticClass:"login_limit-unit"},[t._v("次")])]},proxy:!0}]),model:{value:t.form.password_error_times,callback:function(e){t.$set(t.form,"password_error_times",e)},expression:"form.password_error_times"}})],1),e("div",{staticClass:"m-l-20"},[e("span",{staticClass:"p-r-6"},[t._v("限制登录")]),e("el-input",{staticStyle:{width:"138px"},attrs:{type:"number"},scopedSlots:t._u([{key:"append",fn:function(){return[e("span",{staticClass:"login_limit-unit"},[t._v("分钟")])]},proxy:!0}]),model:{value:t.form.limit_login_time,callback:function(e){t.$set(t.form,"limit_login_time",e)},expression:"form.limit_login_time"}})],1)])],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("联系方式")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"姓名",prop:"mall_contact"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.mall_contact,callback:function(e){t.$set(t.form,"mall_contact",e)},expression:"form.mall_contact"}}),e("div",{staticClass:"muted xs"},[t._v("商城联系人：有订单产生时，可短信通知商城联系人")])],1),e("el-form-item",{attrs:{label:"手机号码",prop:"mall_contact_mobile"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.mall_contact_mobile,callback:function(e){t.$set(t.form,"mall_contact_mobile",e)},expression:"form.mall_contact_mobile"}}),e("div",{staticClass:"muted xs"},[t._v("商城联系人手机：有订单产生时，可短信通知商城联系人")])],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("退货地址")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"姓名",prop:"return_contact"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.return_contact,callback:function(e){t.$set(t.form,"return_contact",e)},expression:"form.return_contact"}})],1),e("el-form-item",{attrs:{label:"手机号码",prop:"return_contact_mobile"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.form.return_contact_mobile,callback:function(e){t.$set(t.form,"return_contact_mobile",e)},expression:"form.return_contact_mobile"}})],1),e("el-form-item",{attrs:{label:"地区",prop:"return_district"}},[e("area-select",{attrs:{width:"280px",province:t.form.return_province,city:t.form.return_city,district:t.form.return_district},on:{"update:province":function(e){return t.$set(t.form,"return_province",e)},"update:city":function(e){return t.$set(t.form,"return_city",e)},"update:district":function(e){return t.$set(t.form,"return_district",e)}}})],1),e("el-form-item",{attrs:{label:"详细地址",prop:"return_address"}},[e("el-input",{staticClass:"ls-input",attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},"show-word-limit":""},model:{value:t.form.return_address,callback:function(e){t.$set(t.form,"return_address",e)},expression:"form.return_address"}})],1)],1)])]),e("div",{staticClass:"bg-white ls-fixed-footer"},[e("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmitFrom("form")}}},[t._v("保存")])],1)])],1)},a=[],r=(s("d9e2"),s("9ab4")),l=s("1b40"),o=s("b3ad"),n=s("5cf7"),c=s("82bb");let d=class extends l["e"]{constructor(){super(...arguments),this.form={name:"",logo:"",admin_login_image:"",login_restrictions:0,password_error_times:0,limit_login_time:0,status:0,mall_contact:"",mall_contact_mobile:"",return_contact:"",return_contact_mobile:"",return_province:0,return_city:0,return_district:0,return_address:""},this.images={storeLogin:s("4ee7"),storeClose:s("2082"),adminLogin:s("1efa")},this.ruleMobile=[{required:!0,message:"必填项不能为空",trigger:"blur"},{pattern:/^1[3|4|5|7|8]\d{9}$/,message:"请输入合法手机号",trigger:"blur"}],this.validatorArea=(t,e,s)=>{this.form.return_province?s():s(new Error)},this.rules={name:[{required:!0,message:"必填项不能为空",trigger:"blur"}],logo:[{required:!0,message:"必填项不能为空",trigger:"blur"}],admin_login_image:[{required:!0,message:"必填项不能为空",trigger:"blur"}],mall_contact:[{required:!0,message:"必填项不能为空",trigger:"blur"}],return_contact:[{required:!0,message:"必填项不能为空",trigger:"blur"}],mall_contact_mobile:this.ruleMobile,return_contact_mobile:this.ruleMobile,return_district:[{required:!0,message:"必填项不能为空",validator:this.validatorArea,trigger:"blur"}],return_address:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}}initFormData(){Object(c["f"])().then(t=>{for(const e in t)this.form.hasOwnProperty(e)&&(this.form[e]=t[e])}).catch(()=>{this.$message.error("数据加载失败，请刷新重载")})}onResetFrom(){this.initFormData(),this.$message.info("已重置数据")}onSubmitFrom(t){const e=this.$refs[t];console.log(e.validate(t=>t)),e.validate(t=>{if(!t)return this.$message.error("请完善信息");const e=this.$loading({text:"保存中"}),s={...this.form};s.login_restrictions||(delete s.limit_login_time,delete s.password_error_times),Object(c["e"])({...s}).then(()=>{this.$store.dispatch("getConfig"),this.$message.success("保存成功")}).catch(()=>{this.$message.error("保存失败")}).finally(()=>{e.close()})})}created(){this.initFormData()}};d=Object(r["a"])([Object(l["a"])({components:{AreaSelect:n["a"],MaterialSelect:o["a"]}})],d);var m=d,u=m,p=(s("6a03"),s("2877")),f=Object(p["a"])(u,i,a,!1,null,"bb30a6d4",null);e["default"]=f.exports},b3ad:function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ls-dialog",{ref:"materialDialog",staticClass:"material-select",attrs:{title:"选择"+t.tipsText,width:"1050px",top:"15vh"},on:{confirm:t.handleConfirm}},[t.hiddenTrigger?t._e():e("div",{staticClass:"material-select__trigger clearfix",attrs:{slot:"trigger"},on:{click:function(t){t.stopPropagation()}},slot:"trigger"},[e("draggable",{staticClass:"ls-draggable",attrs:{animation:"300",disabled:t.disabled||t.dragDisabled},on:{update:t.handleChange},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},t._l(t.fileList,(function(s,i){return e("div",{key:s+i,staticClass:"material-preview ls-del-wrap",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!1,i)}}},[t.$scopedSlots.preview?e("div",[t._t("preview",null,{item:t.imageUri(s)})],2):e("file-item",{attrs:{type:t.type,item:{uri:t.imageUri(s)},size:t.size}}),t.enableDelete?e("i",{staticClass:"el-icon-close ls-icon-del",on:{click:function(e){return e.stopPropagation(),t.delImage(i)}}}):t._e()],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"material-upload",class:{"is-disabled":t.disabled,"is-one":1==t.limit},on:{click:function(e){return t.showDialog(!0)}}},[t.$slots.upload?e("div",[t._t("upload")],2):e("div",{staticClass:"upload-btn flex row-center",style:{width:t.size+"px",height:t.size+"px",background:t.uploadBg}},[t._t("default"),t.$slots.default?t._e():e("span",[t._v("添加"+t._s(t.tipsText))])],2)])],1),e("div",{staticClass:"material-wrap"},[e("ls-material",{ref:"material",attrs:{"page-size":15,type:t.type,limit:t.meterialLimit},on:{change:t.selectChange}})],1)])},a=[],r=s("9ab4"),l=s("1b40"),o=s("0a6d"),n=s("c6fe"),c=s("e915"),d=s("b76a"),m=s.n(d);let u=class extends l["e"]{constructor(){super(...arguments),this.isAdd=!0,this.fileList=[]}get showUpload(){const{fileList:t,limit:e}=this;return e-t.length>0}get meterialLimit(){return this.isAdd?this.limit?this.limit-this.fileList.length:null:1}get tipsText(){switch(this.type){case"image":return"图片";case"video":return"视频"}}get imageUri(){return t=>this.enableDomain?t:this.$getImageUri(t)}valueChange(t){this.fileList=Array.isArray(t)?t:""==t?[]:[t]}showDialog(t=!0,e){var s;this.disabled||(this.isAdd=t,void 0!==e&&(this.currentIndex=e),null===(s=this.$refs.materialDialog)||void 0===s||s.onTrigger())}selectChange(t){this.select=t}handleConfirm(){this.$refs.material.clearSelectList();const t=this.select.map(t=>this.enableDomain?t.uri:t.url);this.isAdd?this.fileList=this.fileList.concat(t):this.fileList.splice(this.currentIndex,1,t.shift()),this.handleChange()}delImage(t){this.fileList.splice(t,1),this.handleChange()}handleChange(){const t=1!=this.limit?this.fileList:this.fileList[0]||"";this.$emit("input",t),this.$emit("change",t),this.fileList=[]}};Object(r["a"])([Object(l["c"])({default:()=>[]})],u.prototype,"value",void 0),Object(r["a"])([Object(l["c"])({default:1})],u.prototype,"limit",void 0),Object(r["a"])([Object(l["c"])({default:"100"})],u.prototype,"size",void 0),Object(r["a"])([Object(l["c"])({default:!1})],u.prototype,"disabled",void 0),Object(r["a"])([Object(l["c"])({default:!1})],u.prototype,"dragDisabled",void 0),Object(r["a"])([Object(l["c"])({default:!1})],u.prototype,"hiddenTrigger",void 0),Object(r["a"])([Object(l["c"])({default:"image"})],u.prototype,"type",void 0),Object(r["a"])([Object(l["c"])({default:"transparent"})],u.prototype,"uploadBg",void 0),Object(r["a"])([Object(l["c"])({default:!0})],u.prototype,"enableDomain",void 0),Object(r["a"])([Object(l["c"])({default:!0})],u.prototype,"enableDelete",void 0),Object(r["a"])([Object(l["f"])("value",{immediate:!0})],u.prototype,"valueChange",null),u=Object(r["a"])([Object(l["a"])({components:{LsDialog:o["a"],LsMaterial:n["a"],Draggable:m.a,FileItem:c["a"]}})],u);var p=u,f=p,g=(s("fb48"),s("2877")),b=Object(g["a"])(f,i,a,!1,null,"1503bff6",null);e["a"]=b.exports},d8b2:function(t,e,s){},fb48:function(t,e,s){"use strict";s("239d")}}]);
//# sourceMappingURL=chunk-19e60cf3.b92b45c2.js.map