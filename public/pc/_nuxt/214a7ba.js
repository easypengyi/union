(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{443:function(e,t,o){"use strict";o(18),o(60);t.a={head:function(){var e=this.$store.getters.headerMeta;return{title:e.title,link:[{rel:"icon",type:"image/x-icon",href:e.ico}],meta:[{hid:"description",name:"description",content:e.description},{hid:"keywords",name:"keywords",content:e.keywords}]}}}},542:function(e,t,o){var content=o(609);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("899b1c8a",content,!0,{sourceMap:!1})},607:function(e,t,o){e.exports=o.p+"img/profit_null.05cb92f.png"},608:function(e,t,o){"use strict";o(542)},609:function(e,t,o){var n=o(16)(!1);n.push([e.i,".user-collection{padding:10px}.user-collection .collection-header{padding:10px 5px;border-bottom:1px solid hsla(0,0%,89.8%,.89804)}.user-collection .collection-list{display:flex;flex-direction:column;justify-content:space-between;min-height:690px}.user-collection .collection-list .goods-item{padding:26px 20px;border-bottom:1px dashed hsla(0,0%,89.8%,.89804)}.user-collection .collection-list .goods-item .goods-info{margin-left:10px;width:500px;flex:1}.user-collection .collection-list .goods-item .goods-info .goods-name{margin-bottom:8px}.user-collection .collection-list .goods-item .to-buy-btn{border:1px solid #ff2c3c;height:32px;width:104px;font-size:13px}.user-collection .collection-list .goods-item .cancel-btn{margin-left:10px;height:32px;width:104px;border:1px solid hsla(0,0%,89.8%,.89804);font-size:13px;cursor:pointer}.user-collection .data-null{text-align:center;padding-top:100px}",""]),e.exports=n},668:function(e,t,o){"use strict";o.r(t);var n=o(8),c=(o(52),{mixins:[o(443).a],layout:"user-layout",asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n,c,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$post,o=e.$get,n=[],c=0,r=5,t.next=6,o("collect/lists",{params:{page_no:1,page_size:r}});case 6:return 1==(l=t.sent).code&&(n=l.data.lists,c=l.data.count),t.abrupt("return",{collectList:n,goodsCount:c,pageSize:r});case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{currentPage:1}},methods:{changePage:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.currentPage=e,o.next=3,t.$get("collect/lists",{params:{page_no:e,page_size:t.pageSize}});case 3:1==(n=o.sent).code&&(t.collectList=n.data.lists,t.goodsCount=n.data.count);case 5:case"end":return o.stop()}}),o)})))()},cancelCollection:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$post("collect/handleCollectgoods",{is_collect:0,goods_id:e});case 2:1==o.sent.code&&(t.$message.success("已取消收藏"),t.changePage(t.currentPage));case 4:case"end":return o.stop()}}),o)})))()}}}),r=(o(608),o(10)),component=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-collection"},[n("div",{staticClass:"collection-header lg"},[e._v("\n        收藏\n    ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.goodsCount>0,expression:"goodsCount > 0"}],staticClass:"collection-list m-t-10"},[n("div",e._l(e.collectList,(function(t,o){return n("div",{key:o,staticClass:"goods-item flex row-between"},[n("div",{staticStyle:{display:"flex","flex-direction":"flex"}},[n("el-image",{staticStyle:{width:"72px",height:"72px"},attrs:{fit:"cover",src:t.image,lazy:""}}),e._v(" "),n("div",{staticClass:"goods-info"},[n("div",{staticClass:"goods-name line2"},[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"primary nr",staticStyle:{"font-weight":"500"}},[e._v("¥"+e._s(t.min_price))])])],1),e._v(" "),n("div",{staticClass:"flex"},[n("nuxt-link",{staticClass:"to-buy-btn primary flex row-center",attrs:{to:"/goods_details/?id="+t.goods_id}},[e._v("去购买")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确定删除该收藏吗？","confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red"},on:{confirm:function(o){return e.cancelCollection(t.goods_id)}}},[n("div",{staticClass:"cancel-btn lighter flex row-center",attrs:{slot:"reference"},slot:"reference"},[e._v("取消收藏")])])],1)])})),0),e._v(" "),n("div",{staticClass:"flex row-center",staticStyle:{"margin-top":"30px"}},[n("el-pagination",{attrs:{"hide-on-single-page":"",background:"",layout:"prev, pager, next",total:e.goodsCount,"prev-text":"上一页","next-text":"下一页","page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.goodsCount<=0,expression:"goodsCount <= 0"}],staticClass:" data-null"},[n("img",{staticStyle:{width:"150px",height:"150px"},attrs:{src:o(607)}}),e._v(" "),n("div",{staticClass:"muted xs"},[e._v("暂无收藏商品～")])])])}),[],!1,null,null,null);t.default=component.exports}}]);